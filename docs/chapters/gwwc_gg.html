<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.243">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>EA Market testing data analysis - 1&nbsp; Giving What We Can: Giving guides</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <script src="../site_libs/quarto-nav/quarto-nav.js"></script>
  <script src="../site_libs/quarto-nav/headroom.min.js"></script>
  <script src="../site_libs/clipboard/clipboard.min.js"></script>
  <meta name="quarto:offset" content="../">
  <script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
  <script src="../site_libs/quarto-search/fuse.min.js"></script>
  <script src="../site_libs/quarto-search/quarto-search.js"></script>
  <link href="../chapters/gwwc_fb.html" rel="next">
  <link href="../index.html" rel="prev">
  <script src="../site_libs/quarto-html/quarto.js"></script>
  <script src="../site_libs/quarto-html/popper.min.js"></script>
  <script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
  <script src="../site_libs/quarto-html/anchor.min.js"></script>
  <link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
  <link id="quarto-text-highlighting-styles" href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <script src="../site_libs/bootstrap/bootstrap.min.js"></script>
  <link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <script id="quarto-search-options" type="application/json">{
    "location": "sidebar",
    "copy-button": false,
    "collapse-after": 3,
    "panel-placement": "start",
    "type": "textbox",
    "limit": 20,
    "language": {
      "search-no-results-text": "No results",
      "search-matching-documents-text": "matching documents",
      "search-copy-link-title": "Copy link to search",
      "search-hide-matches-text": "Hide additional matches",
      "search-more-match-text": "more match in this document",
      "search-more-matches-text": "more matches in this document",
      "search-clear-button-title": "Clear",
      "search-detached-cancel-button-title": "Cancel",
      "search-submit-button-title": "Submit"
    }
  }</script>
  <script async="" src="https://hypothes.is/embed.js"></script>
  <script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
  <script src="../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
  <link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
  <script src="../site_libs/datatables-binding-0.21/datatables.js"></script>
  <script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="../site_libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
  <link href="../site_libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
  <script src="../site_libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
  <link href="../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
  <script src="../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body class="floating">
<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Giving What We Can: Giving guides</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">EA Market testing data analysis</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/daaronr/eamt_data_analysis" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">About</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/gwwc_gg.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Giving What We Can: Giving guides</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/gwwc_fb.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Giving What We Can: Feb 22 Facebook Message Test</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/gwwc_pledge_wip.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">(GWWC: Pledge page trial)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/oftw_upsell_input_first_analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">OftW pre-giving-tuesday-email upselling split test (considering ‘impact vs emotion’)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/tlycs_placeholder.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">The Life You Can Save trial: redacted (empty)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
<h2 id="toc-title">Table of contents</h2>
<ul>
<li><a href="#the-trial" id="toc-the-trial" class="nav-link active" data-scroll-target="#the-trial"> <span class="header-section-number">1.1</span> The trial</a>
<ul class="collapse">
<li><a href="#treatments-text-times-video" id="toc-treatments-text-times-video" class="nav-link" data-scroll-target="#treatments-text-times-video"> <span class="header-section-number">1.1.1</span> Treatments (text <span class="math inline">\(\times\)</span> video)</a></li>
<li><a href="#further-detail-links" id="toc-further-detail-links" class="nav-link" data-scroll-target="#further-detail-links">Further detail, links</a></li>
</ul></li>
<li><a href="#implementation-treatment-assignment-key-details" id="toc-implementation-treatment-assignment-key-details" class="nav-link" data-scroll-target="#implementation-treatment-assignment-key-details"> <span class="header-section-number">1.2</span> Implementation &amp; treatment assignment: key details</a></li>
<li><a href="#build-source-data-input-and-cleaning-code" id="toc-build-source-data-input-and-cleaning-code" class="nav-link" data-scroll-target="#build-source-data-input-and-cleaning-code"> <span class="header-section-number">1.3</span> Build: Source data input and cleaning code</a>
<ul class="collapse">
<li><a href="#estimating-the-models" id="toc-estimating-the-models" class="nav-link" data-scroll-target="#estimating-the-models"> <span class="header-section-number">1.9.1</span> Estimating the models</a></li>
<li><a href="#to-do-summarize-the-model-resultscoefficients-in-clean-tables-here" id="toc-to-do-summarize-the-model-resultscoefficients-in-clean-tables-here" class="nav-link" data-scroll-target="#to-do-summarize-the-model-resultscoefficients-in-clean-tables-here"> <span class="header-section-number">1.9.2</span> (To do) Summarize the model results/coefficients in clean tables here</a></li>
<li><a href="#forest-plots" id="toc-forest-plots" class="nav-link" data-scroll-target="#forest-plots"> <span class="header-section-number">1.9.3</span> Forest plots</a></li>
<li><a href="#results-by-video-todo-fix-weighting" id="toc-results-by-video-todo-fix-weighting" class="nav-link" data-scroll-target="#results-by-video-todo-fix-weighting"> <span class="header-section-number">1.9.4</span> Results by Video (todo: fix weighting)</a></li>
<li><a href="#outcomes-by-cost" id="toc-outcomes-by-cost" class="nav-link" data-scroll-target="#outcomes-by-cost"> <span class="header-section-number">1.9.5</span> Outcomes by cost</a></li>
</ul></li>
<li><a href="#modeling-cost-per-result-and-results-per-dollar-possible-reference-literature" id="toc-modeling-cost-per-result-and-results-per-dollar-possible-reference-literature" class="nav-link" data-scroll-target="#modeling-cost-per-result-and-results-per-dollar-possible-reference-literature"> <span class="header-section-number">1.10</span> Modeling ‘cost per result’ and ‘results per dollar’: possible reference literature</a></li>
</ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/daaronr/eamt_data_analysis/edit/main/chapters/gwwc_gg.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/daaronr/eamt_data_analysis/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">
<header id="title-block-header" class="quarto-title-block default">

<div class="quarto-title"><div class="quarto-title-block d-none d-lg-block"><div><h1 class="title"><span id="gwwc_gg" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Giving What We Can: Giving guides</span></span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div></div></header>

<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>This chapter should align with a (forthcoming) EA Forum post, which will be linked here (and vice-versa).</p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#importing for dynamic input of descriptions below</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Todo: get direct import working: See https://cran.r-project.org/web/packages/rfacebookstat/rfacebookstat.pdf</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>raw_data_path <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"gwwc"</span>, <span class="st">"gg_raw_data_shareable"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>mini_clean <span class="ot">&lt;-</span> <span class="cf">function</span>(df){</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>() <span class="sc">%&gt;%</span> <span class="co"># removes empty rows and columns, here `unique_link_clicks`</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">remove_constant</span>()</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(raw_data_path, <span class="st">"gg_campaign_by_ad_by_text.csv"</span>), <span class="at">show_col_types=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="st">"Campaign name...4"</span>) <span class="sc">%&gt;%</span> <span class="co">#duplicate columns?</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a> mini_clean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="the-trial" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="the-trial"><span class="header-section-number">1.1</span> The trial</h2>
<p>See full description in the gitbook <a href="https://effective-giving-marketing.gitbook.io/untitled/contexts-partner-organizations-trials/gwwc/giving-guides-+">here</a>.</p>
<p><strong>Context</strong>: Facebook advertisements on a range of audiences</p>
<blockquote class="blockquote">
<p><strong>Effective Giving Guide Lead Generation campaign</strong> … ran late November 2021 - January 2022. The objective of this campaign was to see whether a factual [‘who researches giving’ or ‘magnitude of impact differences’] or cause-led approach was more cost-effective at getting people to fill out a form and give us their email in order to download our Effective Giving Guide.</p>
</blockquote>
<p>The page they were directed to <!-- (DR: probably the one linked below ) --></p>
<p><a href="https://www.givingwhatwecan.org/giving-guide">Learn how to give more effectively</a> allowed you to download the guide only after leaving your email.</p>
<section id="treatments-text-times-video" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="treatments-text-times-video"><span class="header-section-number">1.1.1</span> Treatments (text <span class="math inline">\(\times\)</span> video)</h3>
<p><em>There were two dimensions of treatment content:</em></p>
<ol type="1">
<li><strong>The texts displayed above the videos</strong></li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-2" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Texts
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>Bigger difference next year:</strong> Want to make a bigger difference next year? Start with our Effective Giving Guide and learn how to make a remarkable impact just by carefully choosing the charities you give to.</p>
<p><strong>100x impact:</strong> Did you know that the best charities can have a 100x greater impact? Download our free Effective Giving Guide for the best tips on doing the most good this holiday season.</p>
<p><strong>6000 people:</strong> Giving What We Can has helped 6,000+ people make a bigger impact on the causes they care about most. Download our free guide and learn how you can do the same.</p>
<p><strong>Cause list</strong>: Whether we’re moved by animal welfare, the climate crisis, or worldwide humanitarian efforts, our community is united by one thing: making the biggest impact we can. Make a bigger difference in the world through charitable giving. Start by downloading our Effective Giving Guide. You’ll learn how to approach charity research and smart giving. And be sure to share it with others who care about making a greater impact on the causes closest to their hearts.</p>
<p><strong>Learn:</strong> Use our free guide to learn how to make a bigger impact on the causes you care about most.</p>
<p><strong>Only 3% research:</strong> Only 3% of donors give based on charity effectiveness yet the best charities can be 100x more impactful. That’s incredible! Check out the Effective Giving Guide 2021. It’ll help you find the most impactful charities across a range of causes.</p>
<p><strong>Overwhelming</strong>: It can be overwhelming with so many problems in the world. Fortunately, we can do <em>a lot</em> to help, if we give effectively. Check out the Effective Giving Guide 2021. It’ll help you find the most impactful charities across a range of causes.</p>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-3" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Check against data export of texts
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Giving What We Can has helped 6,000+ people make a bigger impact on the causes they care about most. Download our free guide and learn how you can do the same., It can be overwhelming with so many problems in the world. Fortunately, we can do <em>a lot</em> to help, if we give effectively.</p>
<p>Check out the Effective Giving Guide 2021. It’ll help you find the most impactful charities across a range of causes., Use our free guide to learn how to make a bigger impact on the causes you care about most., Want to make a bigger difference next year? Start with our Effective Giving Guide and learn how to make a remarkable impact just by carefully choosing the charities you give to., Whether we’re moved by animal welfare, the climate crisis, or worldwide humanitarian efforts, our community is united by one thing: making the biggest impact we can.</p>
<p>Make a bigger difference in the world through charitable giving. Start by downloading our Effective Giving Guide. You’ll learn how to approach charity research and smart giving. And be sure to share it with others who care about making a greater impact on the causes closest to their hearts., Did you know that the best charities can have a 100x greater impact? Download our free Effective Giving Guide for the best tips on doing the most good this holiday season., Only 3% of donors give based on charity effectiveness yet the best charities can be 100x more impactful. That’s incredible!</p>
<p>Check out the Effective Giving Guide 2021. It’ll help you find the most impactful charities across a range of causes.</p>
</div>
</div>
</div>
<ol start="2" type="1">
<li><strong>The Video ads theme and content</strong></li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-4" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
“Facts”
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p><a href="https://drive.google.com/file/d/1EPgrkl7MpgcNUWBRUE9YPMG38gYClu2R/view?usp=sharing">Charity research facts short video</a> (8 seconds): Only 3% of donors research charity effectiveness, yet the best charities can 100x your impact, learn how to give effectively&nbsp;</p></li>
<li><p><a href="https://drive.google.com/file/d/1c58siggrMh2KN33bcj5f3afKgqY3RE5B/view?usp=sharing">Charity research facts long video</a> (22 seconds): Trivial things we search (shows someone searching how to do Gangnam style), things we should research (shows someone searching how to donate effectively), only 3% of donors research charity effectiveness, yet the best charities can 100x your impact, learn how to give effectively. Slower paced music compared to the short video and cause videos. &nbsp;</p></li>
</ol>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-5" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
“Cause focus”
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol start="3" type="1">
<li><p><a href="https://drive.google.com/file/d/1FtI8gA7V0Jj16Ha91jp6XeF2skNXOu7w/view?usp=sharing">Climate change</a> (15 seconds): Care about climate change? You don’t have to renounce all your possessions, But you could give to effective environmental charities, <em>Learn how to maximize your charitable impact, Download the Effective Giving Guide</em>&nbsp;</p></li>
<li><p><a href="https://drive.google.com/file/d/1qct5OPwrD3wJxZn7GEb9URTFMlkVN8ge/view?usp=sharing">Animal welfare</a> (16 seconds): Care about animals? You don’t have to adopt 100 cats, But you could give to effective animal charities, <em>Learn how to maximize your charitable impact, Download the Effective Giving Guide</em>&nbsp;</p></li>
<li><p><a href="https://drive.google.com/file/d/1POx8U1Y8Ce8xpiaJU2f0s2X3a45t89zI/view?usp=sharing">Poverty</a> (16 seconds): Want to help reduce global poverty? You don’t have to build a village, But you could give to effective global development charities, <em>Learn how to maximize your charitable impact, Download the Effective Giving Guide</em>&nbsp;</p></li>
</ol>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-6" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Arguments, rich content from “Hypercube”
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol start="6" type="1">
<li><a href="https://www.youtube.com/watch?v=CiFoHm7HD94">Hypercube</a> (1 min 22 seconds): Animated and voiceover video that explains how GWWC can help maximize charitable impact (support, community, and information) and the problems GWWC addresses (good intentions don’t always produce the desired outcomes, there are millions of charities that have varying degrees of impact and some can even cause harm). CTA: <em>Check out givingwhatwecan.org to learn how you can become an effective giver.</em></li>
</ol>
</div>
</div>
</div>
</section>
<section id="further-detail-links" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="further-detail-links">Further detail, links</h3>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-7" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Notes from the trial description
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>“In the original version of our test, we had 1 video for the factual appeal and 3 videos for the cause led approach - 1 for global health and development, 1 for animal welfare and 1 for climate change.”</p>
<p>“We targeted our ads to audiences we thought were likely to engage based on their interests and demographics, and targeted the cause led videos to a relevant audience, i.e.&nbsp;climate change message to climate change audience.”</p>
<p>“We also had various text above the videos that were displayed and optimized.”</p>
</div>
</div>
</div>
<p>Details in Gitbook <a href="https://effective-giving-marketing.gitbook.io/untitled/partner-organizations-and-trials/gwwc/giving-guides-+">HERE (and embedded below)</a> and Gdoc <a href="https://docs.google.com/document/d/1FfrXhD1YAIjrATy9PR6ScP20NMQa82sd80YvMb62iUQ/edit">here</a></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_url</span>(<span class="st">"https://effective-giving-marketing.gitbook.io/untitled/partner-organizations-and-trials/gwwc/giving-guides-+"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<iframe src="https://effective-giving-marketing.gitbook.io/untitled/partner-organizations-and-trials/gwwc/giving-guides-+" width="70%" height="400px" data-external="1">
</iframe>
</div>
</section>
</section>
<section id="implementation-treatment-assignment-key-details" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="implementation-treatment-assignment-key-details"><span class="header-section-number">1.2</span> Implementation &amp; treatment assignment: key details</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-8" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Treatment assignment order, dates
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The treatment assignment was determined by Facebook’s algorithm. Video content was manipulated across three split tests.</p>
<p>Test 1 (Nov 30, 2021 – Dec 8, 2021, campaigns: “Cause-Led” and “Factual”) displayed either the long factual video or a cause focus video. In the cause focus condition, cause-specific audiences for animal rights, climate change, and poverty (based on their behavior on Facebook) were shown the relevant cause video.</p>
<p>Test 2 (Starting December 8, campaign “Factual V2”?) was the same as Test 1 but used the short factual video instead of the cause-focus videos.</p>
<p>Test 3 (Starting December 23, campaign “Cause-led V3” and “Factual V3” (?)): was the same as Test 2 but had a new version of the videos (with Luke just holding up signs with the words). This test was also restricted to 18-35 (or 18-44) year olds.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>Test 4: (Starting December 23, “Hypercube” and “PPCo”) The Hypercube video was displayed in a separate “Hypercube” campaign which was tested against another campaign that allowed the algorithm to optimize between the ‘short factual’ and ‘cause focus’ videos (although not allowing each cause-specific audience to see the ads for other cause areas).</p>
<p>In all tests, the text content displayed above the video was determined by Facebook’s algorithm. Balance across variations was determined to equate budgets across split tests; otherwise, according to Facebook’s algorithm. All variation was done at the level of the impression.</p>
<p>The videos were adapted across the trials as we learned. First, we updated the factual video to be shorter for Trial 2, and then we tried videos of Luke holding up signs spelling out the voiceover in Trial 3 for all videos.</p>
</div>
</div>
</div>
</section>
<section id="build-source-data-input-and-cleaning-code" class="level2 page-columns page-full" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="build-source-data-input-and-cleaning-code"><span class="header-section-number">1.3</span> Build: Source data input and cleaning code</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-9" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Accessing, downloading, inputting data
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>See:</p>
<p><a href="https://app.gitbook.com/o/-MfFk4CTSGwVOPkwnRgx/s/-Mf8cHxdwePMZXRTKnEE/core-knowledge-base/marketing-implementation-and-practical-tips/collecting-data-trial-outcomes/facebook-meta-ads-interface">Accessing and bringing down simple results HERE</a>; (Public access version <a href="https://effective-giving-marketing.gitbook.io/untitled/marketing-and-testing-opportunities-tools-tips/collecting-data-trial-outcomes/facebook-meta-ads-interface">here</a>)</p>
<p>We import the exported ‘pivot table’ <code>gg_campaign_by_ad_by_text</code> below, as well as the more detailed version, broken down by age range and gender: <code>gg-campaign-by-ad-set-text-age-gender.csv</code>.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
</div>
</div>
</div>
<!-- [Most relevant breakdowns as pivot tables](https://app.gitbook.com/o/-MfFk4CTSGwVOPkwnRgx/s/-Mf8cHxdwePMZXRTKnEE/core-knowledge-base/marketing-implementation-and-practical-tips/collecting-data-trial-outcomes/facebook-meta-ads-interface/...-pivot-tables) -->
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-10" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Data structure
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The data frame <code>gg_campaign_by_ad_by_text_age_gender</code> has one row per combination of ‘campaign, ad, text, age group, gender’.</p>
<p>Each row represents a combination of the below (with different numbers of ‘reach’ for each row)<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<ul>
<li><p><code>campaign_name</code>: When and and with what funds the ad was launched, I think (?)</p></li>
<li><p><code>ad_set</code>: An ad set can specifically tie an <code>ad_name</code> to an audience (I think)</p></li>
<li><p><code>ad_name</code>: Which video/media (or collection of optimized videos/media) was shown; note this is paired with ‘which audience’ in it’s label, as there were specific ‘global poverty’, ‘animal welfare’, ‘climate change’, ‘philanthropy’ and ‘retargeting’ audiences</p>
<ul>
<li>Caveat: The <code>ad_name</code> seems to select from a different set of media for optimization depending on which <code>ad_set</code> it is in.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></li>
</ul></li>
<li><p><code>text</code>: Which text was shown along with the video</p></li>
<li><p><code>age</code> (a range of ages)</p></li>
<li><p><code>gender</code> (female, male, unknown)</p></li>
</ul>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>raw_data_path <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"gwwc"</span>, <span class="st">"gg_raw_data_shareable"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#already input above: gg_campaign_by_ad_by_text</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Version allowing demographic breakdown:</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(raw_data_path, <span class="st">"gg-campaign-by-ad-set-text-age-gender.csv"</span>), <span class="at">show_col_types=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#dplyr::select(-"Campaign name...4") %&gt;% #duplicate columns?</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a> <span class="fu">mini_clean</span>()</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Version with information on cause videos shown (even to those in 'general' groups):</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(raw_data_path, <span class="st">"gg-image-video-breakdowns.csv"</span>), <span class="at">show_col_types=</span><span class="cn">FALSE</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co">#capture and remove columns that are the same everywhere</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>attribution_setting_c <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>attribution_setting <span class="sc">%&gt;%</span> .[<span class="dv">1</span>]</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>reporting_starts_c <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>reporting_starts <span class="sc">%&gt;%</span> .[<span class="dv">1</span>]</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>reporting_ends_c <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>reporting_ends <span class="sc">%&gt;%</span> .[<span class="dv">1</span>]</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender  <span class="sc">%&lt;&gt;%</span> <span class="fu">mini_clean</span>()</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns  <span class="sc">%&lt;&gt;%</span> <span class="fu">mini_clean</span>()</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co">#functions to clean these specific data sets 'gg_campaign_by_ad_by_text_age_gender' and 'gg_campaign_by_ad_by_text':</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">here</span>(<span class="st">"gwwc"</span>, <span class="st">"giving_guides"</span>, <span class="st">"clean_gg_raw_data.R"</span>))</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="co">#Many cleaning steps: audience, video_theme, campaign_theme, agetrin; releveling</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender <span class="sc">%&lt;&gt;%</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_gg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_make_cols</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">text_clean</span>() <span class="sc">%&gt;%</span>  <span class="co"># Shorter 'text treatment' column</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, <span class="fu">everything</span>(), <span class="sc">-</span>campaign_name_1, <span class="sc">-</span>campaign_name_7) <span class="co">#campaign_name_7 was the same as campaign_name_1</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="sc">%&lt;&gt;%</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_gg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_make_cols</span>()</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a><span class="co">#gg_campaign_by_ad_by_text_age_gender %&gt;% collapse::descr()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="sc">%&lt;&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">video_theme =</span> <span class="fu">case_when</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"set_1|Animals"</span>) <span class="sc">~</span> <span class="st">"Animal"</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"set_2|Climate"</span>) <span class="sc">~</span> <span class="st">"Climate"</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"set_3|Poverty"</span>) <span class="sc">~</span> <span class="st">"Poverty"</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"Free Effective"</span>) <span class="sc">&amp;</span> video_theme<span class="sc">==</span><span class="st">"Cause-led (any)"</span> <span class="sc">~</span> <span class="st">"Poverty"</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"factual_short|Factual Short"</span>) <span class="sc">~</span> <span class="st">"Factual short"</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span>   video_theme</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">video_theme =</span>  <span class="fu">factor</span>(video_theme),</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">video_theme =</span> <span class="fu">fct_relevel</span>(video_theme, <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Poverty"</span>, <span class="st">"Factual short"</span>, <span class="st">"Factual long"</span>, <span class="st">"Hypercube (factual)"</span>))</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>cleaned_data_path <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"gwwc"</span>, <span class="st">"gg_processed_data"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#export 'cleaned' data for others to play with immediately</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(gg_video_breakdowns, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_video_breakdowns.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(gg_campaign_by_ad_by_text_age_gender, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_campaign_by_ad_by_text_age_gender.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(gg_video_breakdowns, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_video_breakdowns.Rdata"</span>))</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(gg_campaign_by_ad_by_text_age_gender, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_campaign_by_ad_by_text_age_gender.Rdata"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-11" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
This data should be publicly shareable; above, we ‘export’
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This data is clearly not identifying individuals; it involves aggregates based on real or assumed characteristics … there is likely nothing that needs to be hidden here. We aim to share and integrate all the data in this repo, for a complete pipeline.</p>
<p>In the code above, we create several ‘cleaned data’ files for others to access in the Github repo</p>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned page-columns page-full">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-27" aria-controls="callout-27" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Previous version of data used … (moved)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-27" class="callout-collapse collapse page-columns page-full">
<div class="callout-body-container callout-body page-columns page-full">
<p>We previously used data collapsed (breakdowns) by demography and ad set, into 2 files, which duplicated rows to represent the number of people reached: <code>video breakdown</code>, and <code>text breakdown.csv</code>. We now use the more ‘raw’ minimal version of the data, avoiding duplicating rows where possible.</p>
<p>Below, we also input some of the ‘old version’ of the data, with the duplicated rows, to accommodate the old-format of analysis … this will be removed when we switch over. The code above inputs and builds 2-4 related data frames (tibbles), which were constructed from the collapsed (aggregated) data by multiplying rows according to observation counts. I am not sure where this was done. Once we update the rest we will get rid of this. …</p>
<p>e.g.,</p>
<p><code>gwwc_vid_results</code>: Observations of emails provided… by video content</p>
<p>This content/input has been moved to <code>eamt_data_analysis/gwwc/giving_guides/archive_erin/erin_plots_stats_gg.qmd</code>, at least for now</p>
<section id="descriptives" class="level2 page-columns page-full" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="descriptives"><span class="header-section-number">1.4</span> Descriptives</h2>
<section id="implemented-treatments-reach" class="level3 page-columns page-full" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="implemented-treatments-reach"><span class="header-section-number">1.4.1</span> Implemented treatments, ‘reach’</h3>
<p>First we illustrate ‘where, when, and to whom’ the different campaigns and treatments were shown (Facebook ‘people reached’).</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-12" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
We use ‘reach’ as our metric throughout’; essentially ‘unique impressions’
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>According to Facebook (https://business.facebook.com/adsmanager/ accessed 5 Aug 2022), reach is:</p>
<blockquote class="blockquote">
<p>The number of people who saw your ads at least once. Reach is different from impressions, which may include multiple views of your ads by the same people.</p>
</blockquote>
<p>In all of our figures below we use the <em>reach</em> outcome rather than the ‘impressions’ outcome, although we sometimes refer to it as ‘impressions’, because it is a clearer way of describing it.</p>
</div>
</div>
</div>
<p>The sequential campaigns involved different sets of videos, and these videos had different versions:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  reach_campaign_theme <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, video_theme, reach) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tabyl</span>(campaign_name, video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, Animal, Climate, Poverty, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Campaign names and video themes: unique impressions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Campaign names and video themes: unique impressions</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> campaign_name </th>
   <th style="text-align:right;"> Animal </th>
   <th style="text-align:right;"> Climate </th>
   <th style="text-align:right;"> Poverty </th>
   <th style="text-align:right;"> Factual short </th>
   <th style="text-align:right;"> Factual long </th>
   <th style="text-align:right;"> Hypercube (factual) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 - Cause-led </td>
   <td style="text-align:right;"> 81,298 </td>
   <td style="text-align:right;"> 5,272 </td>
   <td style="text-align:right;"> 33,027 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 – Cause-led V3 </td>
   <td style="text-align:right;"> 37,680 </td>
   <td style="text-align:right;"> 3,882 </td>
   <td style="text-align:right;"> 60,346 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 – Factual </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2,333 </td>
   <td style="text-align:right;"> 25,316 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 – Factual V2 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 103,329 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 – Factual V3 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 112,203 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 – Hypercube Brand Video </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 56,694 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 – PPCo Creatives </td>
   <td style="text-align:right;"> 23,037 </td>
   <td style="text-align:right;"> 23,238 </td>
   <td style="text-align:right;"> 2,383 </td>
   <td style="text-align:right;"> 62,116 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>reach_campaign_audience <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span> <span class="co">#created but not shown for now</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, audience, reach) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tabyl</span>(campaign_name, audience) <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Campaign names and audiences: unique impressions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-13" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Versions of videos: unique impressions
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  versions_of_videos <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, version, reach) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>   table <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Versions of videos: unique impressions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Versions of videos: unique impressions</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:right;"> V1 </th>
   <th style="text-align:right;"> V2 - factual shortened </th>
   <th style="text-align:right;"> V3 - sometimes Luke </th>
   <th style="text-align:right;"> Video/creatives </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Animal </td>
   <td style="text-align:right;"> 40,852 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 20,593 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cause-led (any) </td>
   <td style="text-align:right;"> 79,624 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 75,570 </td>
   <td style="text-align:right;"> 117,888 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Climate </td>
   <td style="text-align:right;"> 1,779 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 339 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual long </td>
   <td style="text-align:right;"> 29,589 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 109,262 </td>
   <td style="text-align:right;"> 120,244 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hypercube (factual) </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 66,393 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Poverty </td>
   <td style="text-align:right;"> 7,906 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 12,017 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
<p>Some audiences were profiled as associated with a certain cause (through their Facebook interests or activities): in ‘cause-focused’ campaigns they were shown videos for their profiled cause. In campaigns that were not cause-focused, they were shown general interest videos. However, those associated with one cause were never shown videos for other causes.</p>
<p>Audiences not associated with a cause included the ‘General’ audience, the Philanthropy (interested in charity) audience, a GWWC ‘Lookalike’ audience, and a Retargeted audience: these were shown either the more general-interest videos or particular cause videos. <a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> This is illustrated in the table below.</p>
<div class="column-body-outset">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>video_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Poverty"</span>, <span class="st">"Factual short"</span>,  <span class="st">"Factual long"</span>, <span class="st">"Hypercube (factual)"</span>, <span class="st">"Total"</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>audience_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Global Poverty"</span>, <span class="st">"Philanthropy"</span>, <span class="st">"General audience"</span>, <span class="st">"Lookalikes"</span>, <span class="st">"Retargeting"</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>adorn_opts <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_percentages</span>(<span class="st">"all"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="fu">c</span>(<span class="st">"row"</span>, <span class="st">"col"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_pct_formatting</span>(<span class="at">digits =</span> <span class="dv">2</span>) </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>reach_video_audience <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, audience, reach) <span class="sc">%&gt;%</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabyl</span>(video_theme, audience) <span class="sc">%&gt;%</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_opts</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, Animal, Climate, <span class="st">`</span><span class="at">Global Poverty</span><span class="st">`</span>, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">video_theme =</span>  <span class="fu">factor</span>(video_theme, <span class="at">levels =</span> video_levels)) <span class="sc">%&gt;%</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(video_theme)  <span class="sc">%&gt;%</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Video themes by audience: share of unique impressions"</span>, <span class="at">digits=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Video themes by audience: share of unique impressions</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> video_theme </th>
   <th style="text-align:left;"> Animal </th>
   <th style="text-align:left;"> Climate </th>
   <th style="text-align:left;"> Global Poverty </th>
   <th style="text-align:left;"> General audience </th>
   <th style="text-align:left;"> Lookalikes </th>
   <th style="text-align:left;"> Philanthropy </th>
   <th style="text-align:left;"> Retargeting </th>
   <th style="text-align:left;"> Total </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Animal </td>
   <td style="text-align:left;"> 9.77% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 1.35% </td>
   <td style="text-align:left;"> 1.31% </td>
   <td style="text-align:left;"> 10.02% </td>
   <td style="text-align:left;"> 0.01% </td>
   <td style="text-align:left;"> 22.47% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Climate </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 1.80% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.98% </td>
   <td style="text-align:left;"> 0.45% </td>
   <td style="text-align:left;"> 1.88% </td>
   <td style="text-align:left;"> 0.01% </td>
   <td style="text-align:left;"> 5.12% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Poverty </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 3.04% </td>
   <td style="text-align:left;"> 0.18% </td>
   <td style="text-align:left;"> 2.66% </td>
   <td style="text-align:left;"> 9.26% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 15.15% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:left;"> 11.84% </td>
   <td style="text-align:left;"> 12.53% </td>
   <td style="text-align:left;"> 4.88% </td>
   <td style="text-align:left;"> 2.11% </td>
   <td style="text-align:left;"> 4.73% </td>
   <td style="text-align:left;"> 8.19% </td>
   <td style="text-align:left;"> 0.01% </td>
   <td style="text-align:left;"> 44.29% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual long </td>
   <td style="text-align:left;"> 1.22% </td>
   <td style="text-align:left;"> 1.19% </td>
   <td style="text-align:left;"> 0.64% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.08% </td>
   <td style="text-align:left;"> 0.88% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 4.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hypercube (factual) </td>
   <td style="text-align:left;"> 0.95% </td>
   <td style="text-align:left;"> 2.26% </td>
   <td style="text-align:left;"> 1.05% </td>
   <td style="text-align:left;"> 2.67% </td>
   <td style="text-align:left;"> 0.16% </td>
   <td style="text-align:left;"> 1.88% </td>
   <td style="text-align:left;"> 0.01% </td>
   <td style="text-align:left;"> 8.97% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:left;"> 23.78% </td>
   <td style="text-align:left;"> 17.78% </td>
   <td style="text-align:left;"> 9.60% </td>
   <td style="text-align:left;"> 7.30% </td>
   <td style="text-align:left;"> 9.39% </td>
   <td style="text-align:left;"> 32.11% </td>
   <td style="text-align:left;"> 0.04% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="column-body-outset">
<p>Below, we see that the second treatment dimension – text presented along with the video – was allowed to vary independently of the video (but these are probably not ‘statistically independent’).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>video_levels_gg <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Poverty"</span>, <span class="st">"Cause-led (any)"</span>, <span class="st">"Factual short"</span>,  <span class="st">"Factual long"</span>, <span class="st">"Hypercube (factual)"</span>, <span class="st">"Total"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  reach_video_text <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, text_treat, reach) <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">tabyl</span>(video_theme, text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>       <span class="fu">adorn_opts</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">video_theme =</span>  <span class="fu">factor</span>(video_theme, <span class="at">levels =</span> video_levels_gg)) <span class="sc">%&gt;%</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(video_theme)  <span class="sc">%&gt;%</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Video themes by text treatment: unique impressions"</span>, <span class="at">digits=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Video themes by text treatment: unique impressions</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> video_theme </th>
   <th style="text-align:left;"> 100x impact </th>
   <th style="text-align:left;"> 6000+ people </th>
   <th style="text-align:left;"> Bigger difference </th>
   <th style="text-align:left;"> Cause list </th>
   <th style="text-align:left;"> Learn </th>
   <th style="text-align:left;"> Only 3% research </th>
   <th style="text-align:left;"> Overwhelming </th>
   <th style="text-align:left;"> Total </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Animal </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 2.13% </td>
   <td style="text-align:left;"> 3.36% </td>
   <td style="text-align:left;"> 1.08% </td>
   <td style="text-align:left;"> 1.26% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 1.18% </td>
   <td style="text-align:left;"> 9.01% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Climate </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.04% </td>
   <td style="text-align:left;"> 0.05% </td>
   <td style="text-align:left;"> 0.04% </td>
   <td style="text-align:left;"> 0.13% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.05% </td>
   <td style="text-align:left;"> 0.31% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Poverty </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.40% </td>
   <td style="text-align:left;"> 0.83% </td>
   <td style="text-align:left;"> 1.01% </td>
   <td style="text-align:left;"> 0.37% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.32% </td>
   <td style="text-align:left;"> 2.92% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cause-led (any) </td>
   <td style="text-align:left;"> 4.66% </td>
   <td style="text-align:left;"> 8.59% </td>
   <td style="text-align:left;"> 5.94% </td>
   <td style="text-align:left;"> 3.49% </td>
   <td style="text-align:left;"> 6.79% </td>
   <td style="text-align:left;"> 3.39% </td>
   <td style="text-align:left;"> 7.19% </td>
   <td style="text-align:left;"> 40.04% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:left;"> 9.51% </td>
   <td style="text-align:left;"> 5.39% </td>
   <td style="text-align:left;"> 7.37% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 4.73% </td>
   <td style="text-align:left;"> 6.64% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 33.65% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual long </td>
   <td style="text-align:left;"> 0.61% </td>
   <td style="text-align:left;"> 0.83% </td>
   <td style="text-align:left;"> 0.94% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 1.28% </td>
   <td style="text-align:left;"> 0.68% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 4.34% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hypercube (factual) </td>
   <td style="text-align:left;"> 2.69% </td>
   <td style="text-align:left;"> 1.43% </td>
   <td style="text-align:left;"> 1.71% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 1.59% </td>
   <td style="text-align:left;"> 2.32% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 9.73% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:left;"> 17.47% </td>
   <td style="text-align:left;"> 18.81% </td>
   <td style="text-align:left;"> 20.19% </td>
   <td style="text-align:left;"> 5.62% </td>
   <td style="text-align:left;"> 16.15% </td>
   <td style="text-align:left;"> 13.04% </td>
   <td style="text-align:left;"> 8.74% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
<p><a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></p>
<p>However, note that treatment shares are not equal. In fact, as the first table in this section shows, they are not even equal within each campaign. This is because Facebook optimizes to show more succesful videos and text more than less succesful versions.<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a></p>
<p>As shown in the fold below, the set of text treatments varied across campaigns:</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-14" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Text treatments by campaign
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Below, we present the text treatments <em>as shares of each campaign’s unique impressions</em>. We see that the text treatments varied as shares of the treatments in each campaign. Some texts were swapped for other texts in later campaigns. But even among campaigns that used the same overall set of texts, there was some dramatic variation E.g., the ‘100x impact’ was favored heavily in the ‘Factual V2’ campaign, while the other ‘Factual’ campaigns used this much less frequently. This presumably resulted from it performing better in the earliest hours of the Factual V2 trial, and Facebook’s algorithm thus favoring it.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  reach_text_campaign <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, text_treat, reach) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a> <span class="fu">tabyl</span>(campaign_name, text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_percentages</span>(<span class="st">"row"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>     <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="fu">c</span>(<span class="st">"col"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_pct_formatting</span>(<span class="at">digits =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Text treatments as shares of unique impressions by campaign"</span>, <span class="at">digits=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Text treatments as shares of unique impressions by campaign</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> campaign_name </th>
   <th style="text-align:left;"> 100x impact </th>
   <th style="text-align:left;"> 6000+ people </th>
   <th style="text-align:left;"> Bigger difference </th>
   <th style="text-align:left;"> Cause list </th>
   <th style="text-align:left;"> Learn </th>
   <th style="text-align:left;"> Only 3% research </th>
   <th style="text-align:left;"> Overwhelming </th>
   <th style="text-align:left;"> Total </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Cause-led </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 24.99% </td>
   <td style="text-align:left;"> 27.61% </td>
   <td style="text-align:left;"> 15.45% </td>
   <td style="text-align:left;"> 13.15% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 18.79% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cause-led V3 </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 23.91% </td>
   <td style="text-align:left;"> 11.08% </td>
   <td style="text-align:left;"> 16.76% </td>
   <td style="text-align:left;"> 15.88% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 32.36% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual </td>
   <td style="text-align:left;"> 14.05% </td>
   <td style="text-align:left;"> 19.08% </td>
   <td style="text-align:left;"> 21.65% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 29.49% </td>
   <td style="text-align:left;"> 15.73% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual V2 </td>
   <td style="text-align:left;"> 28.16% </td>
   <td style="text-align:left;"> 10.41% </td>
   <td style="text-align:left;"> 21.63% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 11.88% </td>
   <td style="text-align:left;"> 27.93% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual V3 </td>
   <td style="text-align:left;"> 28.37% </td>
   <td style="text-align:left;"> 21.14% </td>
   <td style="text-align:left;"> 22.14% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 16.04% </td>
   <td style="text-align:left;"> 12.31% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hypercube Brand Video </td>
   <td style="text-align:left;"> 27.61% </td>
   <td style="text-align:left;"> 14.65% </td>
   <td style="text-align:left;"> 17.55% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 16.37% </td>
   <td style="text-align:left;"> 23.82% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> PPCo Creatives </td>
   <td style="text-align:left;"> 26.94% </td>
   <td style="text-align:left;"> 14.95% </td>
   <td style="text-align:left;"> 18.16% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 20.34% </td>
   <td style="text-align:left;"> 19.61% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</section>
<section id="demographics" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="demographics"><span class="header-section-number">1.4.2</span> Demographics</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  reach_age_gender <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(age, gender, reach) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(age, gender) <span class="sc">%&gt;%</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>       <span class="fu">adorn_opts</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Unique impressions: shares by Age and Gender"</span>, <span class="at">digits=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Unique impressions: shares by Age and Gender</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> age </th>
   <th style="text-align:left;"> female </th>
   <th style="text-align:left;"> male </th>
   <th style="text-align:left;"> unknown </th>
   <th style="text-align:left;"> Total </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 13-17 </td>
   <td style="text-align:left;"> 0.03% </td>
   <td style="text-align:left;"> 0.02% </td>
   <td style="text-align:left;"> 0.01% </td>
   <td style="text-align:left;"> 0.05% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 18-24 </td>
   <td style="text-align:left;"> 13.02% </td>
   <td style="text-align:left;"> 5.78% </td>
   <td style="text-align:left;"> 0.63% </td>
   <td style="text-align:left;"> 19.43% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 25-34 </td>
   <td style="text-align:left;"> 27.50% </td>
   <td style="text-align:left;"> 9.32% </td>
   <td style="text-align:left;"> 0.68% </td>
   <td style="text-align:left;"> 37.50% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 35-44 </td>
   <td style="text-align:left;"> 15.71% </td>
   <td style="text-align:left;"> 4.27% </td>
   <td style="text-align:left;"> 0.47% </td>
   <td style="text-align:left;"> 20.45% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 45-54 </td>
   <td style="text-align:left;"> 5.21% </td>
   <td style="text-align:left;"> 0.95% </td>
   <td style="text-align:left;"> 0.15% </td>
   <td style="text-align:left;"> 6.30% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 55-64 </td>
   <td style="text-align:left;"> 6.42% </td>
   <td style="text-align:left;"> 1.26% </td>
   <td style="text-align:left;"> 0.16% </td>
   <td style="text-align:left;"> 7.84% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 65+ </td>
   <td style="text-align:left;"> 6.44% </td>
   <td style="text-align:left;"> 1.78% </td>
   <td style="text-align:left;"> 0.20% </td>
   <td style="text-align:left;"> 8.42% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:left;"> 74.32% </td>
   <td style="text-align:left;"> 23.39% </td>
   <td style="text-align:left;"> 2.29% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>As can be clearly seen above, within all age groups, the ad was disproportionally shown to women. Relative to the <a href="https://www.statista.com/statistics/187549/facebook-distribution-of-users-age-group-usa/#:~:text=As%20of%20June%202022%2C%2023.5,13%20to%2017%20years%20old">overall Facebook population</a> our data skews very slightly younger.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_url</span>(<span class="st">"https://www.statista.com/statistics/187549/facebook-distribution-of-users-age-group-usa/#:~:text=As%20of%20June%202022%2C%2023.5,13%20to%2017%20years%20old"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<iframe src="https://www.statista.com/statistics/187549/facebook-distribution-of-users-age-group-usa/#:~:text=As%20of%20June%202022%2C%2023.5,13%20to%2017%20years%20old" width="40%" height="400px" data-external="1">
</iframe>
</div>
</section>
<section id="outcomes" class="level3 page-columns page-full" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="outcomes"><span class="header-section-number">1.4.3</span> Outcomes</h3>
<p>Below, we present the dates of each campaign, along with start dates and results:</p>
<div class="column-body-outset">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>base_results_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    df <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">summarize</span>(</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Cost =</span> <span class="fu">sum</span>(<span class="fu">round</span>(amount_spent_usd,<span class="dv">0</span>)),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">reach</span><span class="st">`</span><span class="ot">=</span><span class="fu">sum</span>(reach),</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span><span class="ot">=</span><span class="fu">sum</span>(link_clicks, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">Results=</span><span class="fu">sum</span>(results, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">$/ impr.</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Cost<span class="sc">/</span>reach,<span class="dv">3</span>),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">$/ click</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Cost<span class="sc">/</span> <span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>,<span class="dv">1</span>),</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Cost<span class="sc">/</span>Results,<span class="dv">1</span>),</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Results/ 1k impr.</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Results<span class="sc">*</span><span class="dv">1000</span><span class="sc">/</span>reach,<span class="dv">1</span>)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>     }</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  campaign_date_outcomes <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(campaign_name, starts) <span class="sc">%&gt;%</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="st">'Campaign'</span> <span class="ot">=</span> campaign_name) <span class="sc">%&gt;%</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">200</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(starts) <span class="sc">%&gt;%</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Campaign and start date"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_footnote</span>(<span class="st">"'False start' campaign dates with less than 200 reach are excluded"</span>)</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Results by Campaign and start date</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> Campaign </th>
   <th style="text-align:left;"> starts </th>
   <th style="text-align:right;"> Cost </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> Link clicks </th>
   <th style="text-align:right;"> Results </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Cause-led </td>
   <td style="text-align:left;"> 2021-11-30 </td>
   <td style="text-align:right;"> 4,451 </td>
   <td style="text-align:right;"> 113,399 </td>
   <td style="text-align:right;"> 1,111 </td>
   <td style="text-align:right;"> 407 </td>
   <td style="text-align:right;"> 0.039 </td>
   <td style="text-align:right;"> 4.0 </td>
   <td style="text-align:right;"> 10.9 </td>
   <td style="text-align:right;"> 3.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual </td>
   <td style="text-align:left;"> 2021-11-30 </td>
   <td style="text-align:right;"> 484 </td>
   <td style="text-align:right;"> 10,752 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 19 </td>
   <td style="text-align:right;"> 0.045 </td>
   <td style="text-align:right;"> 5.1 </td>
   <td style="text-align:right;"> 25.5 </td>
   <td style="text-align:right;"> 1.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual V2 </td>
   <td style="text-align:left;"> 2021-12-08 </td>
   <td style="text-align:right;"> 3,401 </td>
   <td style="text-align:right;"> 94,168 </td>
   <td style="text-align:right;"> 1,362 </td>
   <td style="text-align:right;"> 417 </td>
   <td style="text-align:right;"> 0.036 </td>
   <td style="text-align:right;"> 2.5 </td>
   <td style="text-align:right;"> 8.2 </td>
   <td style="text-align:right;"> 4.4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cause-led V3 </td>
   <td style="text-align:left;"> 2021-12-23 </td>
   <td style="text-align:right;"> 1,422 </td>
   <td style="text-align:right;"> 101,892 </td>
   <td style="text-align:right;"> 408 </td>
   <td style="text-align:right;"> 164 </td>
   <td style="text-align:right;"> 0.014 </td>
   <td style="text-align:right;"> 3.5 </td>
   <td style="text-align:right;"> 8.7 </td>
   <td style="text-align:right;"> 1.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual V3 </td>
   <td style="text-align:left;"> 2021-12-23 </td>
   <td style="text-align:right;"> 1,415 </td>
   <td style="text-align:right;"> 112,041 </td>
   <td style="text-align:right;"> 496 </td>
   <td style="text-align:right;"> 174 </td>
   <td style="text-align:right;"> 0.013 </td>
   <td style="text-align:right;"> 2.9 </td>
   <td style="text-align:right;"> 8.1 </td>
   <td style="text-align:right;"> 1.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hypercube Brand Video </td>
   <td style="text-align:left;"> 2022-01-07 </td>
   <td style="text-align:right;"> 1,022 </td>
   <td style="text-align:right;"> 51,911 </td>
   <td style="text-align:right;"> 206 </td>
   <td style="text-align:right;"> 65 </td>
   <td style="text-align:right;"> 0.020 </td>
   <td style="text-align:right;"> 5.0 </td>
   <td style="text-align:right;"> 15.7 </td>
   <td style="text-align:right;"> 1.3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> PPCo Creatives </td>
   <td style="text-align:left;"> 2022-01-07 </td>
   <td style="text-align:right;"> 1,393 </td>
   <td style="text-align:right;"> 103,347 </td>
   <td style="text-align:right;"> 423 </td>
   <td style="text-align:right;"> 136 </td>
   <td style="text-align:right;"> 0.013 </td>
   <td style="text-align:right;"> 3.3 </td>
   <td style="text-align:right;"> 10.2 </td>
   <td style="text-align:right;"> 1.3 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup>a</sup> 'False start' campaign dates with less than 200 reach are excluded</td>
</tr>
</tfoot>
</table>

</div>
</div>
</div>
<p>Next, the results by age and gender. As our age filters changed over time, we do this first for the earlier trials, when all age groups were included.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  age_outcomes_pre_12_09 <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">500</span>, starts<span class="sc">&lt;=</span> <span class="st">"2021-12-08"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Age: Campaigns starting on or before Dec 8 2021"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Results by Age: Campaigns starting on or before Dec 8 2021</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> age </th>
   <th style="text-align:right;"> Cost </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> Link clicks </th>
   <th style="text-align:right;"> Results </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 18-24 </td>
   <td style="text-align:right;"> 275 </td>
   <td style="text-align:right;"> 14,690 </td>
   <td style="text-align:right;"> 48 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> 0.019 </td>
   <td style="text-align:right;"> 5.7 </td>
   <td style="text-align:right;"> 13.8 </td>
   <td style="text-align:right;"> 1.4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 25-34 </td>
   <td style="text-align:right;"> 585 </td>
   <td style="text-align:right;"> 26,970 </td>
   <td style="text-align:right;"> 162 </td>
   <td style="text-align:right;"> 75 </td>
   <td style="text-align:right;"> 0.022 </td>
   <td style="text-align:right;"> 3.6 </td>
   <td style="text-align:right;"> 7.8 </td>
   <td style="text-align:right;"> 2.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 35-44 </td>
   <td style="text-align:right;"> 625 </td>
   <td style="text-align:right;"> 22,876 </td>
   <td style="text-align:right;"> 156 </td>
   <td style="text-align:right;"> 64 </td>
   <td style="text-align:right;"> 0.027 </td>
   <td style="text-align:right;"> 4.0 </td>
   <td style="text-align:right;"> 9.8 </td>
   <td style="text-align:right;"> 2.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 45-54 </td>
   <td style="text-align:right;"> 970 </td>
   <td style="text-align:right;"> 25,525 </td>
   <td style="text-align:right;"> 246 </td>
   <td style="text-align:right;"> 98 </td>
   <td style="text-align:right;"> 0.038 </td>
   <td style="text-align:right;"> 3.9 </td>
   <td style="text-align:right;"> 9.9 </td>
   <td style="text-align:right;"> 3.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 55-64 </td>
   <td style="text-align:right;"> 1,625 </td>
   <td style="text-align:right;"> 36,157 </td>
   <td style="text-align:right;"> 475 </td>
   <td style="text-align:right;"> 150 </td>
   <td style="text-align:right;"> 0.045 </td>
   <td style="text-align:right;"> 3.4 </td>
   <td style="text-align:right;"> 10.8 </td>
   <td style="text-align:right;"> 4.1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 65+ </td>
   <td style="text-align:right;"> 2,758 </td>
   <td style="text-align:right;"> 43,547 </td>
   <td style="text-align:right;"> 1,097 </td>
   <td style="text-align:right;"> 319 </td>
   <td style="text-align:right;"> 0.063 </td>
   <td style="text-align:right;"> 2.5 </td>
   <td style="text-align:right;"> 8.6 </td>
   <td style="text-align:right;"> 7.3 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>While <a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a> older age groups yield more results per impression, they are also more expensive. This approximately balances out, although the age 18-24 group are particular costly per result!</p>
<p>In later trials we only targeted the younger age groups; the cost per results were similar to earlier trials , and fairly close among the younger age groups (see fold).</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-15" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
By age, later trials
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  age_outcomes_post_12_09 <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">500</span>, starts <span class="sc">&gt;</span> <span class="st">"2021-12-08"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Age: Campaigns starting on or after Dec 23 2021"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Results by Age: Campaigns starting on or after Dec 23 2021</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> age </th>
   <th style="text-align:right;"> Cost </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> Link clicks </th>
   <th style="text-align:right;"> Results </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 18-24 </td>
   <td style="text-align:right;"> 802 </td>
   <td style="text-align:right;"> 67,114 </td>
   <td style="text-align:right;"> 221 </td>
   <td style="text-align:right;"> 87 </td>
   <td style="text-align:right;"> 0.012 </td>
   <td style="text-align:right;"> 3.6 </td>
   <td style="text-align:right;"> 9.2 </td>
   <td style="text-align:right;"> 1.3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 25-34 </td>
   <td style="text-align:right;"> 2,505 </td>
   <td style="text-align:right;"> 175,595 </td>
   <td style="text-align:right;"> 754 </td>
   <td style="text-align:right;"> 270 </td>
   <td style="text-align:right;"> 0.014 </td>
   <td style="text-align:right;"> 3.3 </td>
   <td style="text-align:right;"> 9.3 </td>
   <td style="text-align:right;"> 1.5 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 35-44 </td>
   <td style="text-align:right;"> 1,016 </td>
   <td style="text-align:right;"> 63,882 </td>
   <td style="text-align:right;"> 315 </td>
   <td style="text-align:right;"> 108 </td>
   <td style="text-align:right;"> 0.016 </td>
   <td style="text-align:right;"> 3.2 </td>
   <td style="text-align:right;"> 9.4 </td>
   <td style="text-align:right;"> 1.7 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
<p>Women gave their emails at a somewhat higher rate overall, but their (unique) impressions were a bit more costly. Thus cost per result roughly balanced out. Nonetheless, this might be somewhat informative for other contexts; women might be a particular promising audience, all else equal.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  gender_outcomes <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(gender) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Gender"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Results by Gender</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> gender </th>
   <th style="text-align:right;"> Cost </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> Link clicks </th>
   <th style="text-align:right;"> Results </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> female </td>
   <td style="text-align:right;"> 12,699 </td>
   <td style="text-align:right;"> 506,889 </td>
   <td style="text-align:right;"> 3,754 </td>
   <td style="text-align:right;"> 1,259 </td>
   <td style="text-align:right;"> 0.025 </td>
   <td style="text-align:right;"> 3.4 </td>
   <td style="text-align:right;"> 10.1 </td>
   <td style="text-align:right;"> 2.5 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> male </td>
   <td style="text-align:right;"> 2,930 </td>
   <td style="text-align:right;"> 159,525 </td>
   <td style="text-align:right;"> 834 </td>
   <td style="text-align:right;"> 288 </td>
   <td style="text-align:right;"> 0.018 </td>
   <td style="text-align:right;"> 3.5 </td>
   <td style="text-align:right;"> 10.2 </td>
   <td style="text-align:right;"> 1.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> unknown </td>
   <td style="text-align:right;"> 241 </td>
   <td style="text-align:right;"> 15,642 </td>
   <td style="text-align:right;"> 116 </td>
   <td style="text-align:right;"> 34 </td>
   <td style="text-align:right;"> 0.015 </td>
   <td style="text-align:right;"> 2.1 </td>
   <td style="text-align:right;"> 7.1 </td>
   <td style="text-align:right;"> 2.2 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Next we describe the outcomes by our ‘video’ treatments, focusing on the ‘Philanthropy-interested’ audience only, for comparability.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>video_outcomes_phil_0 <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">==</span><span class="st">"Philanthropy"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>video_outcomes_phil <span class="ot">&lt;-</span> video_outcomes_phil_0 <span class="sc">%&gt;%</span> </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Video theme for 'Philanthropy' audience"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Results by Video theme for 'Philanthropy' audience</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> video_theme </th>
   <th style="text-align:right;"> Cost </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> Link clicks </th>
   <th style="text-align:right;"> Results </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Animal </td>
   <td style="text-align:right;"> 2,288 </td>
   <td style="text-align:right;"> 63,347 </td>
   <td style="text-align:right;"> 516 </td>
   <td style="text-align:right;"> 169 </td>
   <td style="text-align:right;"> 0.036 </td>
   <td style="text-align:right;"> 4.4 </td>
   <td style="text-align:right;"> 13.5 </td>
   <td style="text-align:right;"> 2.7 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Climate </td>
   <td style="text-align:right;"> 267 </td>
   <td style="text-align:right;"> 11,854 </td>
   <td style="text-align:right;"> 97 </td>
   <td style="text-align:right;"> 38 </td>
   <td style="text-align:right;"> 0.023 </td>
   <td style="text-align:right;"> 2.8 </td>
   <td style="text-align:right;"> 7.0 </td>
   <td style="text-align:right;"> 3.2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Poverty </td>
   <td style="text-align:right;"> 1,045 </td>
   <td style="text-align:right;"> 58,548 </td>
   <td style="text-align:right;"> 296 </td>
   <td style="text-align:right;"> 107 </td>
   <td style="text-align:right;"> 0.018 </td>
   <td style="text-align:right;"> 3.5 </td>
   <td style="text-align:right;"> 9.8 </td>
   <td style="text-align:right;"> 1.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:right;"> 1,265 </td>
   <td style="text-align:right;"> 51,761 </td>
   <td style="text-align:right;"> 423 </td>
   <td style="text-align:right;"> 136 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 3.0 </td>
   <td style="text-align:right;"> 9.3 </td>
   <td style="text-align:right;"> 2.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual long </td>
   <td style="text-align:right;"> 306 </td>
   <td style="text-align:right;"> 5,561 </td>
   <td style="text-align:right;"> 45 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 0.055 </td>
   <td style="text-align:right;"> 6.8 </td>
   <td style="text-align:right;"> 27.8 </td>
   <td style="text-align:right;"> 2.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hypercube (factual) </td>
   <td style="text-align:right;"> 289 </td>
   <td style="text-align:right;"> 11,902 </td>
   <td style="text-align:right;"> 67 </td>
   <td style="text-align:right;"> 25 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 4.3 </td>
   <td style="text-align:right;"> 11.6 </td>
   <td style="text-align:right;"> 2.1 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>bot_table <span class="ot">&lt;-</span> <span class="cf">function</span>(df,  outvar, outcol) {</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>({{outvar}}) <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>({{outcol}}) <span class="sc">%&gt;%</span> </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_if</span>(is.factor, as.character) <span class="sc">%&gt;%</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    .[[<span class="dv">1</span>,<span class="dv">1</span>]] </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>top_table <span class="ot">&lt;-</span> <span class="cf">function</span>(df, outcol, outvar) {</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>{{outvar}}) <span class="sc">%&gt;%</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>({{outcol}}) <span class="sc">%&gt;%</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_if</span>(is.factor, as.character) <span class="sc">%&gt;%</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    .[[<span class="dv">1</span>,<span class="dv">1</span>]]</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="co"># { ov &lt;- {{outvar}}</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a><span class="co"># ifelse(reverse,</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="co">#          dplyr::arrange(ov),</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="co">#    dplyr::arrange(-ov)</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="co">#   )} %&gt;% </span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::arrange({{outvar}}),</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a> <span class="co">#         dplyr::arrange(-{{outvar}}))} %&gt;% </span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>top_vid_phil <span class="ot">&lt;-</span> video_outcomes_phil_0 <span class="sc">%&gt;%</span> <span class="fu">bot_table</span>( <span class="at">outvar=</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>, <span class="at">outcol=</span>video_theme)</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>bot_vid_phil <span class="ot">&lt;-</span> video_outcomes_phil_0 <span class="sc">%&gt;%</span> <span class="fu">top_table</span>( <span class="at">outvar=</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>, <span class="at">outcol=</span>video_theme)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The Climate video performed particularly well on the philanthropy-interested audience filter, while Factual long performed the worst.<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a></p>
<p>Next, we compare the text treatments for the later campaigns only. The earlier and later campaigns had a slightly different set of texts; combining across these risks confounding multiple dimensions.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  outcomes_by_text <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(campaign_name, <span class="st">"factual|hyper"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by text; later campaigns"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Results by text; later campaigns</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> text_treat </th>
   <th style="text-align:right;"> Cost </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> Link clicks </th>
   <th style="text-align:right;"> Results </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 100x impact </td>
   <td style="text-align:right;"> 2,149 </td>
   <td style="text-align:right;"> 87,369 </td>
   <td style="text-align:right;"> 695 </td>
   <td style="text-align:right;"> 225 </td>
   <td style="text-align:right;"> 0.025 </td>
   <td style="text-align:right;"> 3.1 </td>
   <td style="text-align:right;"> 9.6 </td>
   <td style="text-align:right;"> 2.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 6000+ people </td>
   <td style="text-align:right;"> 1,089 </td>
   <td style="text-align:right;"> 52,165 </td>
   <td style="text-align:right;"> 276 </td>
   <td style="text-align:right;"> 74 </td>
   <td style="text-align:right;"> 0.021 </td>
   <td style="text-align:right;"> 3.9 </td>
   <td style="text-align:right;"> 14.7 </td>
   <td style="text-align:right;"> 1.4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bigger difference </td>
   <td style="text-align:right;"> 1,561 </td>
   <td style="text-align:right;"> 68,308 </td>
   <td style="text-align:right;"> 450 </td>
   <td style="text-align:right;"> 155 </td>
   <td style="text-align:right;"> 0.023 </td>
   <td style="text-align:right;"> 3.5 </td>
   <td style="text-align:right;"> 10.1 </td>
   <td style="text-align:right;"> 2.3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Learn </td>
   <td style="text-align:right;"> 1,240 </td>
   <td style="text-align:right;"> 51,860 </td>
   <td style="text-align:right;"> 325 </td>
   <td style="text-align:right;"> 91 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 3.8 </td>
   <td style="text-align:right;"> 13.6 </td>
   <td style="text-align:right;"> 1.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Only 3% research </td>
   <td style="text-align:right;"> 1,734 </td>
   <td style="text-align:right;"> 65,786 </td>
   <td style="text-align:right;"> 745 </td>
   <td style="text-align:right;"> 246 </td>
   <td style="text-align:right;"> 0.026 </td>
   <td style="text-align:right;"> 2.3 </td>
   <td style="text-align:right;"> 7.0 </td>
   <td style="text-align:right;"> 3.7 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>We next consider results by audience, focusing on non-cause treatments for comparability.</p>
<div class="column-body-outset">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  audience_outcomes <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(audience) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(video_theme, <span class="st">"Factual|factual"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Results by audience for non-cause videos"</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="htmlwidget-1f0ae48077b52617988c" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1f0ae48077b52617988c">{"x":{"filter":"none","vertical":false,"caption":"<caption>Results by audience for non-cause videos<\/caption>","data":[["1","2","3","4","5","6","7"],["Animal","Climate","General audience","Global Poverty","Lookalikes","Philanthropy","Retargeting"],[2030,2345,509,946,945,1860,5],[88551,100998,30208,41468,31412,69224,130],[658,753,110,278,392,535,3],[202,234,36,85,140,172,1],[0.023,0.023,0.017,0.023,0.03,0.027,0.038],[3.1,3.1,4.6,3.4,2.4,3.5,1.7],[10,10,14.1,11.1,6.8,10.8,5],[2.3,2.3,1.2,2,4.5,2.5,7.7]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>audience<\/th>\n      <th>Cost<\/th>\n      <th>reach<\/th>\n      <th>Link clicks<\/th>\n      <th>Results<\/th>\n      <th>$/ impr.<\/th>\n      <th>$/ click<\/th>\n      <th>$/ result<\/th>\n      <th>Results/ 1k impr.<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<p>Above, we look at the performance of different audiences. As cause-specific audiences tend to be presented particular cause videos, we focus only on non-cause-related videos here for greater comparability across audiences.</p>
<p><em>Format note:</em> The final table above is presented with the <code>Datatables</code> package/function. This allows sorting, filtering, etc. We can present more tables in this format if it is preferable.</p>
</section>
</section>
<section id="asking-and-answering-questions" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="asking-and-answering-questions"><span class="header-section-number">1.5</span> Asking and answering questions</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-16" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
This dynamic document format allows us to ask and answer a series of questions
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>Using the data, with all coding steps shown</li>
<li>Ideally, following a pre-defined (pre-analysis) plan</li>
<li>Using the data and statistics directly and automatically in the narrative
<ul>
<li>And everything will be automatically adjusted if we bring in new data or adjust/correct features</li>
</ul></li>
</ul>
</div>
</div>
</div>
<section id="in-this-context-how-much-does-it-cost-to-get-a-result-i.e.-to-get-a-person-to-give-their-email-to-receive-a-giving-guide" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="in-this-context-how-much-does-it-cost-to-get-a-result-i.e.-to-get-a-person-to-give-their-email-to-receive-a-giving-guide">In this context, how much does it cost to get a ’Result”, i.e., to get a person to give their email to receive a Giving Guide?</h3>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-17" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Cost per result (CpR) as the result of several processes…
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>How should we consider this outcome? At the base level the Cost per Result (‘CpR’) for a ‘segment’ (a particular ad version, audience, campaign, etc), comes from several interrelated processes:</p>
<ol type="1">
<li>How much FB charges us for this segment</li>
<li>Who FB serves this segment to (what types of people, how many)</li>
<li>How many people in that segment click and then ‘convert’, yielding a result</li>
</ol>
<p>We could try to model each of these processes, but it could be very involved, and we don’t fully observe or understand the second step, FB’s optimization algorithm.</p>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-18" aria-controls="callout-18" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Rambling about the unit of observation, and a possible multi-equation model
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>I still want to model “cost per result” (or perhaps better “results per cost”) as a function of the different levers we can pull (audience filters, video content, message content, etc.). But I’m not quite sure how to model it, in particular, how to think about the unit of observation and the outcome variability, for statistical inference.</p>
<p>Fundamentally, the data represents a lot of rows of mostly 0’s (no result, no email left) with a few 1’s. Each of these rows has a set of design features; the ‘levers’ above, as well as some other features like demographics and calendar date (although FB makes it difficult/impossible to view everything together.)</p>
<p>We could examine the relationship between the features and the ‘probability an individual yields a result’. I guess ‘cost’ could be one of those features, in something like a logit model. A transformation of the function $p(result) = a + b_1 cost (b_2 AdVersion +b_3 audience + b_4 AdVersion*audience +… ), perhaps.</p>
<p>But cost (cost per impression) is also a function of some of these characteristics. We could examine the relationship between cost and these features in a separate equation and somehow try to simultaneously estimate these … but it’s challenging.</p>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-19" aria-controls="callout-19" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
CpR as a black box…
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Alternatively, we could think of the CpR for a segment as just a ‘base outcome to model’, and treat it as a sort of black box. This would suggests we have ‘only one CpR coutcome per segment’, and each segment has different characteristics (‘features’ or ‘variables’), some in common. But that discards some important information: the mean values for segments with more observations (here, ‘reach’) can be expected to have less variance (lower standard error), all else equal.</p>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-20" aria-controls="callout-20" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
CpR as the average of a lot of black boxes…
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-20" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We can do something intermediate – taking the aggregation into account, without fully building a structural model of the factors above. Within each segment, we can consider the ‘average cost per result’ outcome for each individual as the expected value of a random draw. Each individual has some ‘cost per impression’, and some ‘probability of a result’. The ratio of these is the individual’s ‘expected cost per result … which we can also abstract as just some random draw. This may be considered as a function of ’all the characteristics of the segment the individual is in’. The CpR for the segment is thus an average of the CpR for all the individuals in the segment, and we can use ‘regression weights’ (technically ‘inverse variance weights’; see discussion in <a href="https://theeffectbook.net/ch-StatisticalAdjustment.html#sample-weights">Huntington-Klein’s book here</a>) in our model to reflect this.</p>
</div>
</div>
</div>
<!-- Each segment has different observable preset characteristics: a particular combination of ad features, audience filter, time the campaign started, etc.

Segments also have different unobserved features: FB selectively chooses how to present the ad features, and to whom, and to how many people,  to maximize some outcome (considering an explore/exploit tradeoff). This makes some inference difficult.

But what I want to know is basically “which observable preset characteristics (the things we can control) yield the lowest CpR?“, and “how confident can I be in the relative differences in the CpR between these features?“.

It’s ~OK that some ad features may be more easily matched to amenable audiences, and thus we are  not learning ‘which performs better on a single group’. I might ~expect that whatever works best now, for whatever reason, will work better in the future.

I am thinking something like a linear (or log-linear) regression where
the CpR for the segment is the outcome
this is seen as a mean across observations, thus ~weighted by the size of the segment (number of people reached)
possibly a mixed model, allowing for some random effects? (But I’m not great at that).

-->
</section>
</section>
<section id="building-a-set-of-models-to-do" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="building-a-set-of-models-to-do"><span class="header-section-number">1.6</span> Building a set of models (to do)</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#targets:</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>bin_out <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"d_don_1k"</span>, <span class="st">"d_don_10pct"</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>num_out <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'donation_usd'</span>, <span class="st">'don_av2_yr'</span>, <span class="st">'l_don_usd'</span>, <span class="st">"l_don_av_2yr"</span>, <span class="st">"don_share_inc_imp_bc5k"</span>, <span class="st">"donation_plan_usd"</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>targets <span class="ot">&lt;-</span> <span class="fu">c</span>(bin_out, num_out)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>targets_short <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"don_av2_yr"</span>, <span class="st">"don_share_inc_imp_bc5k"</span>, <span class="st">"d_don_1k"</span>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Note -- don_av2_yr is the right one for qpoisson as it already expresses things in exponents. l_don_av2_yr was the one to use in the loglinear model, which we are not emphasizing</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>targets_short_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Log (Avg don +1)"</span>, <span class="st">"Don/Income"</span>, <span class="st">"Donated 1k+"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#imputing and normalization</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#labeling for model output</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>key_eas_all_labels <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="co">#note these are converted to a list with as.list before assigning them</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">donation_usd =</span> <span class="st">"Donation (USD)"</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">l_don_usd =</span> <span class="st">"Log Don. (USD)"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">l_don_av_2yr =</span> <span class="st">"Log Don. 'avg.'"</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_age =</span> <span class="st">"Log age"</span>,</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">don_av2_yr =</span> <span class="st">"Don. 'avg'"</span>,</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">donation_plan_usd =</span> <span class="st">"Don. plan (USD)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>feat_list <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(key_demog, feat_income_employ, controls),</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(key_demog, feat_income_employ, controls, robust_controls),</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(key_demog, feat_income_employ, feat_gwwc_etg, controls) )</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>feat_names <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Baseline"</span>, <span class="st">"Robust controls"</span>,  <span class="st">"Base + EtG &amp; GWWC"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>rhs_vars_list <span class="ot">&lt;-</span> <span class="fu">rep</span>(feat_list, <span class="fu">length</span>(targets_short))</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>outcome_vars_list <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">as.list</span>(targets_short), <span class="at">each=</span><span class="fu">length</span>(feat_list))</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>dfs <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">list</span>(eas_all_s_rl_imp), <span class="fu">length</span>(outcome_vars_list))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Create dataframe for modeling</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>(linear_models <span class="ot">&lt;-</span> <span class="fu">make_model_df</span>(rhs_vars_list, outcome_vars_list, dfs))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>linear_models <span class="ot">&lt;-</span> linear_models <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">lm_fit =</span> <span class="fu">fit_models</span>(</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>      linear_models, <span class="st">"formulas"</span>, <span class="st">"dfs"</span>, <span class="at">fun =</span> fit_lm)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract coefficients, fitted and residuals</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>model_feat_names <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(feat_names), <span class="at">times=</span> <span class="fu">length</span>(targets_short))</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>model_oc_names <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(targets_short_names), <span class="at">each=</span> <span class="fu">length</span>(feat_names))</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>model_names <span class="ot">&lt;-</span> <span class="fu">paste</span>(model_oc_names, model_feat_names, <span class="at">sep =</span> <span class="st">": "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-21" aria-controls="callout-21" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Modeling goals/discussion/todo
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>*Rethinking (5 Aug 2022): Cost per result may not be the best outcome to model as a first pass. We might better model results per impression and put in a cost adjustment later. See</p>
<ol type="1">
<li>Present mean/Bayesian updating:</li>
</ol>
<ul>
<li>Overall cost/result
<ul>
<li>and for different audiences</li>
<li>random effects?</li>
</ul></li>
<li>present posterior distribution and intervals</li>
</ul>
<p>Or a stripped down ‘simulation approach’?</p>
<ol start="2" type="1">
<li>Model (multivariable regression):</li>
</ol>
<p>Cost/result as a function of</p>
<ul>
<li>campaign (i.e., time of launch)</li>
<li>message</li>
<li>video</li>
<li>audience</li>
<li>gender</li>
<li>age</li>
</ul>
<p>Linear and log-linear</p>
<p>Random effects (how?)</p>
<p>Present a set of estimates for the mean and 80% CI for cost/result for key groups</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#set base levels before doing modeling</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">factor</span>( gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>age,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordered =</span> <span class="cn">FALSE</span> )</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">relevel</span>( gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>age,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ref=</span><span class="st">"18-24"</span>)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>audience <span class="ot">&lt;-</span> <span class="fu">factor</span>( gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>audience,</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordered =</span> <span class="cn">FALSE</span> )</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>audience <span class="ot">&lt;-</span> <span class="fu">relevel</span>( gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>audience,</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">ref=</span><span class="st">"Philanthropy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>summarise_stuff <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">summarise</span>(</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">amount_spent_usd =</span> <span class="fu">sum</span>(amount_spent_usd),</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">reach=</span><span class="fu">sum</span>(reach),</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">link_clicks =</span> <span class="fu">sum</span>(link_clicks, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">results =</span> <span class="fu">sum</span>(results, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">cost_per_impression =</span> amount_spent_usd<span class="sc">/</span>reach,</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">cost_per_click =</span> amount_spent_usd<span class="sc">/</span>link_clicks,</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">results =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(results), <span class="dv">0</span>, results ),</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">results_per_100usd =</span> results<span class="sc">/</span>(amount_spent_usd<span class="sc">/</span><span class="dv">100</span>),</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">results_per_1k_reach =</span> results<span class="sc">*</span><span class="dv">1000</span><span class="sc">/</span>reach)</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>model_data_0 <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme, text_treat, audience) <span class="sc">%&gt;%</span> <span class="co">#starts,</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(reach&gt;200) %&gt;%</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise_stuff</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(video_theme, text_treat, audience), <span class="co">#starts,</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>      as.factor )</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>model_data_start <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme, text_treat, audience, starts) <span class="sc">%&gt;%</span> <span class="co">#starts,</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(reach&gt;200) %&gt;%</span></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise_stuff</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(video_theme, text_treat, audience, starts), <span class="co">#starts,</span></span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>      as.factor )</span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a>model_data <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme, text_treat, audience, gender, agetrin) <span class="sc">%&gt;%</span> <span class="co">#starts,</span></span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(reach&gt;200) %&gt;%</span></span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise_stuff</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(video_theme, text_treat, audience, gender, agetrin), <span class="co">#starts,</span></span>
<span id="cb30-51"><a href="#cb30-51" aria-hidden="true" tabindex="-1"></a>      as.factor )</span>
<span id="cb30-52"><a href="#cb30-52" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-53"><a href="#cb30-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-54"><a href="#cb30-54" aria-hidden="true" tabindex="-1"></a>Rp100usd_vid_text_audience0 <span class="ot">&lt;-</span> model_data_0 <span class="sc">%&gt;%</span></span>
<span id="cb30-55"><a href="#cb30-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(</span>
<span id="cb30-56"><a href="#cb30-56" aria-hidden="true" tabindex="-1"></a>    results_per_100usd <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> video_theme <span class="sc">+</span> text_treat <span class="sc">+</span> audience,</span>
<span id="cb30-57"><a href="#cb30-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> .,</span>
<span id="cb30-58"><a href="#cb30-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">weights =</span> reach)</span>
<span id="cb30-59"><a href="#cb30-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-60"><a href="#cb30-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-61"><a href="#cb30-61" aria-hidden="true" tabindex="-1"></a>Rp100usd_vid_text_audience_starts <span class="ot">&lt;-</span> model_data_start <span class="sc">%&gt;%</span></span>
<span id="cb30-62"><a href="#cb30-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(</span>
<span id="cb30-63"><a href="#cb30-63" aria-hidden="true" tabindex="-1"></a>    results_per_100usd <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> starts <span class="sc">+</span> video_theme <span class="sc">+</span> text_treat <span class="sc">+</span> audience,</span>
<span id="cb30-64"><a href="#cb30-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> .,</span>
<span id="cb30-65"><a href="#cb30-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">weights =</span> reach)</span>
<span id="cb30-66"><a href="#cb30-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-67"><a href="#cb30-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-68"><a href="#cb30-68" aria-hidden="true" tabindex="-1"></a>Rp100usd_vid_text_audience_demo <span class="ot">&lt;-</span> model_data <span class="sc">%&gt;%</span></span>
<span id="cb30-69"><a href="#cb30-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(</span>
<span id="cb30-70"><a href="#cb30-70" aria-hidden="true" tabindex="-1"></a>    results_per_100usd <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> video_theme <span class="sc">+</span> text_treat <span class="sc">+</span> audience <span class="sc">+</span> gender <span class="sc">+</span> agetrin,</span>
<span id="cb30-71"><a href="#cb30-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> .,</span>
<span id="cb30-72"><a href="#cb30-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">weights =</span> reach)</span>
<span id="cb30-73"><a href="#cb30-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-74"><a href="#cb30-74" aria-hidden="true" tabindex="-1"></a><span class="co">#Do NOT do this: Rp100usd_vid_text_audience0$df.residual &lt;- sum(model_data_0$reach) - length(coef(Rp100usd_vid_text_audience0))</span></span>
<span id="cb30-75"><a href="#cb30-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-76"><a href="#cb30-76" aria-hidden="true" tabindex="-1"></a>huxtable<span class="sc">::</span><span class="fu">huxreg</span>(Rp100usd_vid_text_audience0, Rp100usd_vid_text_audience_starts, Rp100usd_vid_text_audience_demo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p></p><table class="huxtable" style="border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; ; margin-left: auto; margin-right: auto;  " id="tab:unnamed-chunk-18">
<colgroup><col><col><col><col></colgroup><tbody><tr>
<th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1)</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2)</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(3)</th></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(Intercept)</th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">12.402 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">10.855 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11.836 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.608)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.976)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.611)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">video_themeCause-led (any)</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-2.292&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.287&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-2.441&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.260)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.682)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.260)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">video_themeClimate</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.862&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2.010&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.919&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(4.758)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(5.719)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(4.689)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">video_themeFactual long</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-7.290 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-6.227 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-7.669 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.638)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2.007)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.619)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">video_themeFactual short</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.003&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.869&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.125&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.189)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.647)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.174)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">video_themeHypercube (factual)</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-6.552 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-5.167 *&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-6.976 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.472)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2.088)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.478)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">video_themePoverty</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.018&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.248&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.686&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2.135)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2.594)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2.112)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">text_treat6000+ people</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-2.806 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-2.959 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-2.358 **&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.912)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.130)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.899)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">text_treatBigger difference</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.658&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.008&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.276&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.886)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.081)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.873)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">text_treatCause list</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.435&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.647&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.876&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.385)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.760)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.364)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">text_treatLearn</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.512&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.306&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.305&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.924)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.121)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.910)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">text_treatOnly 3% research</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2.361 *&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2.744 *&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2.793 **&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.957)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.151)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.943)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">text_treatOverwhelming</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.926&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.487&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.083&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.203)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.593)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.185)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">audienceAnimal</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.442&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.307&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.578&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.932)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.174)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.928)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">audienceClimate</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.091&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.109&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.805&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.830)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.081)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.824)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">audienceGeneral audience</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.938&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.420&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.799&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.117)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.464)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.108)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">audienceGlobal Poverty</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.277&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.349&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.261&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.180)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.465)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.165)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">audienceLookalikes</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.985 *&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.075&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.459&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.990)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.191)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.975)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">starts2021-12-08</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2.915&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.532)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">starts2021-12-23</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">3.559 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.072)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">starts2022-01-07</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.300&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.411)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">gendermale</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.558&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.604)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">genderunknown</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.459&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.686)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">agetrin0</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.770&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.794)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">agetrin1</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.014&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.667)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">N</th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">129&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">185&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">991&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">R2</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.509&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.366&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.115&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">logLik</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-360.487&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-574.434&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-4238.915&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">AIC</th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">758.974&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1192.867&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">8523.830&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th colspan="4" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"> *** p &lt; 0.001;  ** p &lt; 0.01;  * p &lt; 0.05.</th></tr>
</tbody></table>
<p></p>
</div>
</div>
<p>Note: the N (and R-sq?) values above are incorrect; these are the number of <em>groups</em> not the number of baseline observations.</p>
<p><a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a></p>
<section id="which-pre-defined-audience-yields-a-result-at-the-lowest-cost-how-does-this-cost-vary-by-audience" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="which-pre-defined-audience-yields-a-result-at-the-lowest-cost-how-does-this-cost-vary-by-audience">Which pre-defined audience yields a Result at the lowest cost? How does this cost vary by audience?</h3>
<ul>
<li>Refer to models/estimates above</li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>limits <span class="ot">&lt;-</span> <span class="fu">aes</span>(<span class="at">ymax =</span> mean_dv <span class="sc">+</span> (se_dv), <span class="at">ymin =</span> mean_dv <span class="sc">-</span> (se_dv))</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>dodge <span class="ot">&lt;-</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>gg_gg_options <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">'identity'</span>, <span class="at">position=</span>dodge),</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(limits, <span class="at">position=</span>dodge,  <span class="at">width=</span><span class="fl">0.25</span>, <span class="at">color=</span><span class="st">"red"</span>),</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  jtools<span class="sc">::</span><span class="fu">theme_apa</span>(),</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"none"</span>),</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste</span>(<span class="st">"$"</span>, mean_dv <span class="sc">%&gt;%</span> <span class="fu">round</span>(.,<span class="dv">2</span>)), <span class="at">y=</span><span class="dv">5</span>), <span class="at">position =</span> <span class="fu">position_dodge</span>(.<span class="dv">9</span>), <span class="at">size=</span><span class="dv">4</span>, <span class="at">color=</span><span class="st">"white"</span>),</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>))</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>limits <span class="ot">&lt;-</span> <span class="fu">aes</span>(<span class="at">ymax =</span> mean_dv , <span class="at">ymin =</span> mean_dv)</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>dodge <span class="ot">&lt;-</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>)</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>  result_by_age <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">results_per_100usd =</span> results<span class="sc">/</span>(amount_spent_usd<span class="sc">/</span><span class="dv">100</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>     <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_dv =</span> <span class="fu">mean</span>(results_per_100usd, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>age, mean_dv)) <span class="sc">+</span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">'identity'</span>,<span class="at">fill=</span><span class="st">"#0072B2"</span>, <span class="at">position=</span>dodge) <span class="sc">+</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">'Results/$ spent'</span>) <span class="sc">+</span></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">'Video'</span>) <span class="sc">+</span></span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">'Results/$ spent by Age'</span>) </span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a><span class="co">#+  scale_x_discrete(labels=vid_types)</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="which-pre-defined-audience-yields-the-highest-rate-of-result-how-does-this-vary-by-audience" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="which-pre-defined-audience-yields-the-highest-rate-of-result-how-does-this-vary-by-audience">Which pre-defined audience yields the highest ‘rate of Result’? How does this vary by audience?</h3>
<p>Note, this is not the same as the previous question because some audiences are more <em>costly</em> to target on Facebook.</p>
<ul>
<li>Re-run above models for ‘results per impression’</li>
</ul>
<p>Important caveat: this does not tell us the effect ‘on a particular group’, because of FB’s optimization algorithms; <a href="https://effective-giving-marketing.gitbook.io/untitled/methodological-discussion/splits-randomization/facebook-split-testing-etc">see discussion here</a>.</p>
<p>Interactions/separate models for ‘vary by audience’.</p>
</section>
<section id="which-video-yields-a-result-at-the-highest-ratelowest-cost" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="which-video-yields-a-result-at-the-highest-ratelowest-cost">Which <em>video</em> yields a Result at the highest rate/lowest cost?</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot options in common</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="co">#limits &lt;- aes(ymax = mean_dv + (ci_spread), ymin = mean_dv - (ci_spread))</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>dodge <span class="ot">&lt;-</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>vid_types <span class="ot">&lt;-</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"factual short"</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"animal"</span>,</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"climate"</span>,</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"factual long"</span>,</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"hypercube"</span>,</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"poverty"</span>)</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>grpsumgg <span class="ot">&lt;-</span> <span class="cf">function</span>(df, gvar, var, ci_ends) {</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>({{gvar}}) <span class="sc">%&gt;%</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_dv =</span> <span class="fu">mean</span>({{var}}, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">se_dv =</span> <span class="fu">sd</span>({{var}}, <span class="at">na.rm=</span><span class="cn">TRUE</span>)<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">n</span>()),</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">ci_spread =</span> <span class="fu">qt</span>(<span class="dv">1</span> <span class="sc">-</span> (ci_ends <span class="sc">/</span> <span class="dv">2</span>), <span class="fu">n</span>() <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> se_dv)</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">results_per_100usd =</span> results<span class="sc">/</span>(amount_spent_usd<span class="sc">/</span><span class="dv">100</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_dv =</span> <span class="fu">mean</span>(results_per_100usd, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#grpsumgg(video_theme, results_per_100usd, 0.1) %&gt;%</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>video_theme, mean_dv)) <span class="sc">+</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">'identity'</span>,<span class="at">fill=</span><span class="st">"#0072B2"</span>, <span class="at">position=</span>dodge) <span class="sc">+</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#gg_gg_options +</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">'Results/$ spent'</span>) <span class="sc">+</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">'Video'</span>) <span class="sc">+</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#ggtitle('Results/$ spent by Video, 90% CIs') +</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">'Results/$ spent by Video'</span>) <span class="sc">+</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels=</span>vid_types)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/gwwc_vid_results_plot-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># gwwc_vid_results %&gt;%</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   grpsumgg(media, DV_costadj, 0.1) %&gt;%</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   ggplot(aes(x=media, y=mean_dv)) +</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_bar(stat='identity',fill="#0072B2", position=dodge) +</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   gg_gg_options +</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   ylab('Results/$ spent') +</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   xlab('Video') +</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   ggtitle('Results/$ spent by Video, 90% CIs') +</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_y_continuous(limits = c(0,.2),  breaks=seq(0,.2, by=.05)) +</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_x_discrete(labels=vid_types)</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>Refer to models/estimates above, coefficient on ‘video’</li>
</ul>
<p><a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a></p>
<section id="how-does-the-best-video-vary-by-audience" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="how-does-the-best-video-vary-by-audience">How does the ‘best video’ vary by audience?</h4>
<ul>
<li>Include interactions in above model</li>
<li>Run model separately for each group (or allowing everything to interact) for robustness</li>
<li>Also consider ‘what did FB serve to each group’, assuming it is optimizing.</li>
</ul>
</section>
<section id="aggregating-which-category-of-videos-yields-a-result-at-the-highest-ratelowest-cost-facts-cause-focus-or-arguments-rich-content" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="aggregating-which-category-of-videos-yields-a-result-at-the-highest-ratelowest-cost-facts-cause-focus-or-arguments-rich-content">Aggregating: Which <em>category</em> of videos yields a result at the highest rate/lowest cost? (“Facts”, “Cause focus”, or “Arguments, rich content”)</h4>
<ul>
<li>Above, pooling videos of similar type. (Random effects models?)</li>
</ul>
</section>
</section>
<section id="which-message-yields-a-result-at-the-highest-ratelowest-cost" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="which-message-yields-a-result-at-the-highest-ratelowest-cost">Which <em>message</em> yields a Result at the highest rate/lowest cost?</h3>
<p><a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a></p>
<p><strong>Sub-questions</strong></p>
<section id="how-does-the-best-message-vary-by-audience" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="how-does-the-best-message-vary-by-audience">How does the ‘best message’ vary by audience?</h4>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-22" aria-controls="callout-22" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Other questions (less interest or less feasible)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li><p>Do the message treatments ‘interact’ with the video treatments (i.e., are their synergies and better pairings)?</p></li>
<li><p>Do some videos lead to higher click rates?</p></li>
<li><p>Do some videos lead to higher watch rates?</p></li>
</ul>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="analysis-and-visuals" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="analysis-and-visuals"><span class="header-section-number">1.7</span> Analysis and visuals</h2>
<p><a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="do">##gwwc_vid_results$DV_costadj)</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="do">##gwwc_vid_results$DV)</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="do">##gwwc_vid_results$ave.cost.impr)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Data summary</p>
<div class="alert alert-secondary">
<p>Below, a few data summary bits (from Erin). I commented most of it out and will redo it using an automated and formatted ‘key summary statistics’ package.</p>
<p>I may also present the data in a dashboard for self-service.</p>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">#datatable(gwwc_vid_results)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#print(gwwc_vid_results %&gt;% group_by(Gender,Age) %&gt;% summarise(n=n(),cost=mean(ave.cost.impr)),n=40)</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co">#gwwc_vid_results %&gt;% group_by(audience) %&gt;% summarise(n=n(), cost=mean(ave.cost.impr)*100) %&gt;% .kable(digits=2, caption="Average cost per impression (in pennies)") %&gt;%  .kable_styling()</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co">#gwwc_vid_results %&gt;% group_by(message) %&gt;% summarise(n=n(),cost=mean(ave.cost.impr)*100) %&gt;% .kable(digits=2, caption="Average cost per impression (in pennies)") %&gt;%  .kable_styling()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="do">### CHART DATA</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co">#print(gwwc_vid_results %&gt;% group_by(audience,media) %&gt;% #summarise(results=mean(DV)*100,SE=std.error(DV)*100,n=n(),cost=mean(ave.cost.impr),CPR=cost/results),n=50)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<!--  Erin's work  has been (moved) 

### PLOTS (Erin)

Moved to archive: `eamt_data_analysis/gwwc/giving_guides/archive_erin/erin_plots_stats_gg.qmd`; will re-incoprporate and adjust

### Models, statistics and crosstabs (Erin)

Moved to archive: `../erin_plots_stats_gg.qmd`

-->
</section>
<section id="modelingsimulating-cis-for-results-by-group" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="modelingsimulating-cis-for-results-by-group"><span class="header-section-number">1.8</span> Modeling/simulating CIs for results by group</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-23" aria-controls="callout-23" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Simulation-based: Sketched proposal
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Assume the ‘cost per impression’ (CpI) is fixed for each group or segment – take that as exogenous and something we adjust for at the end<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a></p></li>
<li><p>Make some assumptions about the distribution of the probability of a result from an impression for each individual in each group <span class="math inline">\(g\)</span>; call this <span class="math inline">\(P_{ig}\)</span>. E.g., each outcome <span class="math inline">\(r_i \in \{0,1\}\)</span> is drawn with probability <span class="math inline">\(P_{ig}\)</span>. We see the average of these draws.</p></li>
</ol>
<p>A close-to-correct simplification might yield that the group-specific results per impression (RpI) is the average value of <span class="math inline">\(P_{ig}\)</span> for the group, call this <span class="math inline">\(P_g\)</span>. We can make some intuitive assumptions about the variance of <span class="math inline">\(P_{ig}\)</span> around <span class="math inline">\(P_g\)</span> within each group.</p>
<p>So we would have something like: <span class="math inline">\(P_{ig} \sim \beta\)</span> distribution with a mean of RpI (results per impression for the group), and some reasonable variation.</p>
<ol start="3" type="1">
<li>Let <span class="math inline">\(N_g\)</span> be the number of impressions we see per group.</li>
</ol>
<p>In each simulation replication, simulate <span class="math inline">\(N_g\)</span> draws of <span class="math inline">\(P_{ig}\)</span> for each individual in each group <span class="math inline">\(g\)</span>.</p>
<p>Next ‘flip an unfair coin for each individual’, where the coin has probability <span class="math inline">\(P_{ig}\)</span> of a result. This yields <span class="math inline">\(N_g\)</span> draws of the 0/1 outcome <span class="math inline">\(r_i(g)\)</span> for each group</p>
<ol start="4" type="1">
<li>Look at the distribution of results for each group across many simulations. This can easily be converted to the distribution of RpI for each group, or, assuming CpI is fixed, the distribution of ‘cost per result’ (or results per cost) for each group.</li>
</ol>
<p>This gives us our confidence intervals.</p>
<p>The above is a bit ad-hoc (but less than our previous work). I suspect the procedure comes close to something that could give us something Bayesian.</p>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-24" aria-controls="callout-24" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Adjusting the above to Jamie’s suggestions … for a 2 step simulation
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-24" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Draw <span class="math inline">\(P_{gci}\)</span> — the probability of a click for person <span class="math inline">\(i\)</span> in group <span class="math inline">\(g\)</span> for each individual (impression) in each group which might have a mean at the empirical click rate for this group, <span class="math inline">\(C_g/N_g\)</span>, where <span class="math inline">\(N_g\)</span> is the number of impressions in group <span class="math inline">\(g\)</span></p></li>
<li><p>Simulate clicks by group with <span class="math inline">\(N_g\)</span> coin flips each w/ draws from the <span class="math inline">\(P_{gci}\)</span> probability vector <span class="math inline">\(\rightarrow\)</span> <span class="math inline">\(C^k_g\)</span> simulated clicks for group <span class="math inline">\(g\)</span> in simulation <span class="math inline">\(k\)</span></p></li>
<li><p>Draw <span class="math inline">\(P_{gri|c}\)</span>: ‘probability of result given click’ for individual <span class="math inline">\(i\)</span> in group <span class="math inline">\(g\)</span></p></li>
</ol>
<p>which might have a mean at the empirical results/clicks for this group</p>
<ol start="4" type="1">
<li>Simulate results by group with <span class="math inline">\(C^k_g\)</span> draws with vector of probabilities <span class="math inline">\(P_{gri|c}\)</span> <span class="math inline">\(\rightarrow\)</span> <span class="math inline">\(R^k_g\)</span> simulated results for group <span class="math inline">\(g\)</span> in simulation <span class="math inline">\(k\)</span></li>
</ol>
<p>My concern in general with these hurdle models is when they make inferences that depended on independence across hurdles. Here, I would be concerned if it depends on the probabilities <span class="math inline">\(P_{gc}\)</span> and <span class="math inline">\(P_{gr|c}\)</span> being independent.</p>
<p>To me it seems plausible that for higher draws of <span class="math inline">\(P_c\)</span> we tend to have lower values of <span class="math inline">\(P_{r|c}\)</span> … e.g., people (and groups) who click on everything rarely convert when they click.</p>
<p>But I don’t think that the simulation posed above itself suffers from this problem. If one group has a high click rate and a low ‘conversions per click’ rate, I think this would be reflected in the means of the distributions of <span class="math inline">\(P\)</span>’s I use for the simulation above.</p>
<p>As long as we don’t try to make (overly strong inferences) from the differences in <span class="math inline">\(P_{gr|c}\)</span> by group <span class="math inline">\(g\)</span> itself, I think we are OK. So the ‘two step’ simulation could indeed be better here.</p>
</div>
</div>
</div>
</section>
<section id="bayesian-logistic-regressions-and-cis" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="bayesian-logistic-regressions-and-cis"><span class="header-section-number">1.9</span> Bayesian Logistic regressions and CIs</h2>
<p>This comes from Jamie’s work in <code>fb ad analysis.R</code></p>
<p><a href="https://drive.google.com/file/d/1t_dySvC-GIQcSY2hJw7rfofuv15Qlg0s/view?usp=sharing">google drive link</a></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(brms, <span class="at">install=</span><span class="cn">FALSE</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(brms)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(tidybayes, <span class="at">install=</span><span class="cn">FALSE</span>)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidybayes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>sum_results <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    df <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">summarise</span>(</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">results =</span> <span class="fu">sum</span>(results, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">spend =</span> <span class="fu">sum</span>(amount_spent_usd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">clicks =</span> <span class="fu">sum</span>(link_clicks, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">impressions =</span> <span class="fu">sum</span>(impressions, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">reach =</span> <span class="fu">sum</span>(reach, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="co"># collapse into the categories of interest</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns_col <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(video_theme, audience) <span class="sc">%&gt;%</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">#group_by(video_theme, audience, starts) %&gt;%</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>sum_results</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a><span class="co">#%&gt;%   mutate(starts = as.factor(starts))</span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a><span class="co">#rem: we are just summing outcomes, so no weights are needed here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>In the chunk below, we compute and set minimally informative priors for the click rates model.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#helper function to 'make priors'</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>make_prior_normal <span class="ot">&lt;-</span> <span class="cf">function</span>(mean, sd, ...) {</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prior_string</span>(<span class="fu">paste0</span>(<span class="st">"normal("</span>, mean, <span class="st">","</span>, sd, <span class="st">")"</span>), ...)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>prior_click_per_reach <span class="ot">&lt;-</span> <span class="fl">0.028</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>prior_intercept_click <span class="ot">&lt;-</span>  <span class="fu">logit</span>(prior_click_per_reach)</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>prior_intercept_click_ub <span class="ot">&lt;-</span> <span class="fl">0.15</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>se_prior_click <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_intercept_click_ub) <span class="sc">-</span> prior_intercept_click)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>prior_slope_click_ub <span class="ot">&lt;-</span> <span class="fl">0.25</span></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>se_prior_slope_click <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_slope_click_ub) <span class="sc">-</span> prior_intercept_click)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>prior_click <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">make_prior_normal</span>(prior_intercept_click, se_prior_click, <span class="at">class =</span> <span class="st">"Intercept"</span>),</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a><span class="fu">make_prior_normal</span>(<span class="dv">0</span>, se_prior_slope_click, <span class="at">class =</span> <span class="st">"b"</span>)</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a><span class="co">#DR @Jamie: This is a log ratio of probabilities, iirc. Why are we assuming it is normally distributed? </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-25" aria-controls="callout-25" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Determining appropriate priors for click rates - intercept
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-25" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In the code chunk just above, we define the priors which we use below.</p>
<p>Where did this come from? It is somewhat casual, but given the very large dataset, we don’t expect our results to be very sensitive to the priors.</p>
<p>A 0.028 click rate (as a share of ‘reach’) seemed like a reasonable mean. This is approximately the rate GWWC saw in all of its trials before February 2021, when this trial started. <code>logit(prior_click_per_reach)</code> gives us the intercept associated with this prior expected outcome rate.</p>
<p>The prior on the standard error for the intercept is not based on prior data. We considered ‘what baseline rate would we consider to be extremely unlikely?’, and set the standard deviations to be about half of this (recalling that 95% of the area of a normal distribution is within 1.96 sd’s of the mean) . In the positive direction, a rate of 15% or more would be truly shocking. This would yield a logit intercept of <code>logit(prior_intercept_click_ub)</code> = -1.7346011. Differencing this from the prior mean and dividing by two yields our chosen prior intercept standard error: 0.925; note this gives a 95 percent lower-bound of a 0.468% click rate.</p>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-26" aria-controls="callout-26" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Determining appropriate priors for click rates - coefficients
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-26" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In determining priors for the slopes (adjustments for different groups), we start with a mean expected slope of 0; this is consistent with a sort of ‘unbiased’ prior, not loading the dice in either direction, and also most adaptable to a range of groups we might consider. We again considered ‘what mean click rates would be very surprising’. A click rate of 25% of more for any targeted subgroup or treatment would be very unexpected – this seems conservative. By similar calculations above, this yields <code>se_prior_slope_click</code> = 1.2492546.</p>
<p>Could we instead do this considering reasonable ‘proportional differences in rates’? We will consider this for future work (possible challenge: it may interact with the intercepts).</p>
</div>
</div>
</div>
<p>In the chunk below, we compute and set minimally informative priors for the results model. Again, some notes follow.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>prior_results_per_click <span class="ot">&lt;-</span> <span class="fl">0.20</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>prior_intercept_results <span class="ot">&lt;-</span>  <span class="fu">logit</span>(prior_results_per_click)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>prior_intercept_results_ub <span class="ot">&lt;-</span> <span class="fl">0.75</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>se_prior_results <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_intercept_results_ub) <span class="sc">-</span> prior_intercept_results)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>prior_slope_results_ub <span class="ot">&lt;-</span> <span class="fl">0.85</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>se_prior_slope_results <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_slope_results_ub) <span class="sc">-</span> prior_intercept_results)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>prior_results <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">make_prior_normal</span>(prior_intercept_results, se_prior_results, <span class="at">class =</span> <span class="st">"Intercept"</span>),</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="fu">make_prior_normal</span>(<span class="dv">0</span>, se_prior_slope_results, <span class="at">class =</span> <span class="st">"b"</span>)</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>:: {.callout-note collapse=“true”} ## Determining appropriate priors for results (per click)</p>
<p>See the above discussion folds on priors for clicks for our general approach.</p>
<p>For results per click (RpC), we had very little data or experience to go on. The little prior data GWWC had on results per click were from very different contexts, e.g., RSVPs for attending events rather than simply leaving an email. In those cases results per click are (as we expect, are results per click for Facebook ads are in general). However, here people are clicking on a call to action like ‘Download the Effective Giving Guide’, directing them to a site where they merely need to leave their email to download this guide. Thus, if the clicks are intentional, a much higher rate of ‘result’ seems reasonable. Thus we compromised on a 20% ‘results per click’ rate as our overall prior mean.</p>
<p>We would be ‘very surprised’ (seems 5% likely or less) with an RpC of over 75% overall or 85% for any subgroup – we derive the standard errors of the intercept and slope from these, as for clicks.</p>
<p>(Note: this implies a 95% CI lower-bound of a 2.04% overall RpC rate.)</p>
</section>
</div>
</div>
</div>
<section id="estimating-the-models" class="level3" data-number="1.9.1">
<h3 data-number="1.9.1" class="anchored" data-anchor-id="estimating-the-models"><span class="header-section-number">1.9.1</span> Estimating the models</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>clicks_per_reach_video_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"clicks | trials(reach) ~ video_theme + audience + video_theme:audience"</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="co"># +  starts</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>results_per_click_video_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"results | trials(clicks) ~ video_theme + audience + video_theme:audience"</span>)</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="do">## passing a list</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>arg.list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>) </span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>clicks_logit_vid <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span>gg_video_breakdowns_col, </span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> clicks_per_reach_video_aud,</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">prior =</span> prior_click),</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>                  arg.list,                  </span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)))</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Running MCMC with 4 parallel chains, with 8 thread(s) per chain...

Chain 1 finished in 5.6 seconds.
Chain 2 finished in 5.6 seconds.
Chain 4 finished in 6.1 seconds.
Chain 3 finished in 9.4 seconds.

All 4 chains finished successfully.
Mean chain execution time: 6.7 seconds.
Total execution time: 9.6 seconds.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>results_logit_vid <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_video_breakdowns_col, </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> results_per_click_video_aud,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">prior =</span> prior_results),</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>                  arg.list,                  </span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)))</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Running MCMC with 4 parallel chains, with 8 thread(s) per chain...

Chain 1 finished in 2.6 seconds.
Chain 2 finished in 2.6 seconds.
Chain 3 finished in 2.9 seconds.
Chain 4 finished in 3.9 seconds.

All 4 chains finished successfully.
Mean chain execution time: 3.0 seconds.
Total execution time: 3.9 seconds.</code></pre>
</div>
</div>
</section>
<section id="to-do-summarize-the-model-resultscoefficients-in-clean-tables-here" class="level3" data-number="1.9.2">
<h3 data-number="1.9.2" class="anchored" data-anchor-id="to-do-summarize-the-model-resultscoefficients-in-clean-tables-here"><span class="header-section-number">1.9.2</span> (To do) Summarize the model results/coefficients in clean tables here</h3>
</section>
<section id="forest-plots" class="level3" data-number="1.9.3">
<h3 data-number="1.9.3" class="anchored" data-anchor-id="forest-plots"><span class="header-section-number">1.9.3</span> Forest plots</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># posterior expectations:</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>full_crossing <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"video_theme"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_video_breakdowns_col<span class="sc">$</span>video_theme),</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"audience"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_video_breakdowns_col<span class="sc">$</span>audience)) <span class="sc">%&gt;%</span> </span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reach =</span> <span class="dv">1</span>, <span class="co">#it is estimating the number of clicks based on the reach</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">clicks =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="sc">!</span>(audience<span class="sc">==</span><span class="st">"Animal"</span> <span class="sc">&amp;</span> (video_theme <span class="sc">==</span> <span class="st">"Climate"</span> <span class="sc">|</span> video_theme <span class="sc">==</span> <span class="st">"Poverty"</span>)))  <span class="sc">%&gt;%</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(audience<span class="sc">==</span><span class="st">"Climate"</span> <span class="sc">&amp;</span> (video_theme <span class="sc">==</span> <span class="st">"Animal"</span> <span class="sc">|</span> video_theme <span class="sc">==</span> <span class="st">"Poverty"</span>)))  <span class="sc">%&gt;%</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(audience<span class="sc">==</span><span class="st">"Global Poverty"</span> <span class="sc">&amp;</span> (video_theme <span class="sc">==</span> <span class="st">"Animal"</span> <span class="sc">|</span> video_theme <span class="sc">==</span> <span class="st">"Climate"</span>))) <span class="co">#remove combinations where we don't have data ... at least for now</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="co"># setting reach and clicks = 1 will give us proportion of conversions (because it makes a prediction for total outcomes per unit )</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>click_post <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(clicks_logit_vid, <span class="at">newdata =</span> full_crossing) <span class="co">#ndraws = 1000, </span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>results_post <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(results_logit_vid, full_crossing)</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>combined_post <span class="ot">&lt;-</span> click_post <span class="sc">*</span> results_post <span class="co">#DR: multiplying the predicted probabilities of click and conversion here?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co">#make tibbles of the stuff above, put it together s</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>full_crossing <span class="ot">&lt;-</span> <span class="cf">function</span>(df, name) {</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"identifier"</span>,</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"probability"</span>) </span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">level =</span> name,</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">theme =</span> <span class="fu">rep</span>(full_crossing<span class="sc">$</span>video_theme, <span class="fu">dim</span>(data)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing)[<span class="dv">1</span>]),</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">audience =</span> <span class="fu">rep</span>(full_crossing<span class="sc">$</span>audience,  <span class="fu">dim</span>(data)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing)[<span class="dv">1</span>])</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>       <span class="co">#     starts = rep(full_crossing$starts, 1000) #DR: I think I want starts (start date as a factor) in the model, because the audience may be systematically different on those days, and other things change we leave out here. However, I don't want to see it in the graphs. How to do that? </span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data)</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a><span class="co"># make tibbles</span></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>tib_click_post <span class="ot">&lt;-</span> click_post <span class="sc">%&gt;%</span> </span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">post_tib_clean</span>( <span class="st">"1. Reach to clicks"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in post_tib_clean(., "1. Reach to clicks"): could not find function "post_tib_clean"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>tib_result_post <span class="ot">&lt;-</span> results_post  <span class="sc">%&gt;%</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">post_tib_clean</span>(<span class="st">"2. Clicks to signups"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in post_tib_clean(., "2. Clicks to signups"): could not find function "post_tib_clean"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>tib_combined_post <span class="ot">&lt;-</span> combined_post <span class="sc">%&gt;%</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">post_tib_clean</span>(<span class="st">"3. Total"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in post_tib_clean(., "3. Total"): could not find function "post_tib_clean"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>full_post <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(tib_click_post,</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>                       tib_result_post,</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>                       tib_combined_post)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in list2(...): object 'tib_click_post' not found</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>hdi <span class="ot">&lt;-</span> HDInterval<span class="sc">::</span>hdi</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>CI_choice_n <span class="ot">&lt;-</span> <span class="fl">0.6</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>CI_choice_w <span class="ot">&lt;-</span> <span class="fl">0.9</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>sum_mean_hdi <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    df, </span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> probability, <span class="at">scaleme=</span><span class="dv">100</span>, <span class="at">CI_choice_n=</span>CI_choice_narrow, <span class="at">CI_choice_w =</span> CI_choice_wide) {</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean =</span> <span class="fu">mean</span>({{var}}) <span class="sc">*</span> scaleme,</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_wide)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_wide)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower_eti =</span> <span class="fu">quantile</span>({{var}}, (<span class="dv">1</span><span class="sc">-</span>CI_choice_wide)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper_eti =</span> <span class="fu">quantile</span>({{var}}, <span class="dv">1</span><span class="sc">-</span>(<span class="dv">1</span><span class="sc">-</span>CI_choice_wide)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">check =</span> <span class="fu">length</span>(<span class="fu">hdi</span>({{var}}))</span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-22"><a href="#cb56-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-23"><a href="#cb56-23" aria-hidden="true" tabindex="-1"></a>mutate_mean_hdi <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb56-24"><a href="#cb56-24" aria-hidden="true" tabindex="-1"></a>    df, </span>
<span id="cb56-25"><a href="#cb56-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> probability, <span class="at">scaleme=</span><span class="dv">100</span>, <span class="at">CI_choice_n=</span>CI_choice_narrow, <span class="at">CI_choice_w =</span> CI_choice_wide) {</span>
<span id="cb56-26"><a href="#cb56-26" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb56-27"><a href="#cb56-27" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb56-28"><a href="#cb56-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean =</span> <span class="fu">mean</span>({{var}}) <span class="sc">*</span> scaleme,</span>
<span id="cb56-29"><a href="#cb56-29" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb56-30"><a href="#cb56-30" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb56-31"><a href="#cb56-31" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_wide)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb56-32"><a href="#cb56-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_wide)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb56-33"><a href="#cb56-33" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower_eti =</span> <span class="fu">quantile</span>({{var}}, (<span class="dv">1</span><span class="sc">-</span>CI_choice_wide)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb56-34"><a href="#cb56-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper_eti =</span> <span class="fu">quantile</span>({{var}}, <span class="dv">1</span><span class="sc">-</span>(<span class="dv">1</span><span class="sc">-</span>CI_choice_wide)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb56-35"><a href="#cb56-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">check =</span> <span class="fu">length</span>(<span class="fu">hdi</span>({{var}}))</span>
<span id="cb56-36"><a href="#cb56-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb56-37"><a href="#cb56-37" aria-hidden="true" tabindex="-1"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="results-by-audience" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="results-by-audience">Results by audience</h4>
<p>We ran two Bayesian Logit models, presented above. Results come out of a two-stage process: some people who see the ad click on it. Some of those who click on the ad leave their email (asking for a Giving Guide). We model clicks as a share of unique impressions (‘reach’) and results as a share of clicks, allowing each to vary by video theme and by audience. (Later: by text and by demographics.) The product of these shares (probabilities) yields results as a share of impressions, the main outcome of interest.</p>
<p>Below, we plot the point means (aka ‘coefficients’) and ‘highest density intervals’ (HDI) of our posterior beliefs for these. These models consider the audience and video themes at the same time, the imbalance between audiences and themes should probably not be a major biasing factor.</p>
<p><em>Caveats</em>:</p>
<ol type="1">
<li><p>The coefficients for the second stage (‘clicks to results’) should be taken lightly; as the audiences may be selected very different ‘conditional on click’; e.g., audiences that are ‘easy to click’ may by ‘harder to convert ot a result’.</p></li>
<li><p>The results presented below do not control for ‘which text treatment’ nor for ‘which campaign’. (We can do the latter next, but we can only do the former with the other version of the data, which is then missing some detail on who saw which video)</p></li>
<li><p>The usual <a href="https://effective-giving-marketing.gitbook.io/untitled/methodological-discussion/splits-randomization/facebook-split-testing-etc">‘divergent delivery’ issue</a></p></li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>aud_plots <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(level, audience) <span class="sc">%&gt;%</span> <span class="co">#, starts</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">audience =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(audience), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> audience), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> audience),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span><span class="st">`</span><span class="at">mean</span><span class="st">`</span>, </span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> audience))</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience (reach, clicks, signups)"</span>,</span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., audience != "Retargeting"): object 'full_post' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot_no_cause <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_det</span>(theme, <span class="st">"Animal|Climate|Poverty"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience, no cause videos"</span>,</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., !str_det(theme, "Animal|Climate|Poverty")): object 'full_post' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot_cause <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(theme, <span class="st">"Animal|Climate|Poverty"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience, Cause videos only"</span>,</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., str_det(theme, "Animal|Climate|Poverty")): object 'full_post' not found</code></pre>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note: the ‘pooled’ graphs in this section may not be correctly weighted across subcategories. We need to reexamine this.</p>
</div>
</div>
<p>For the ‘cause videos only’ we see (todo: doublecheck after final estimates) that the philanthropy audience, across all causes, seems to perform at least as well as the climate and ‘global poverty’ audiences (when the latter are presented videos for the causes they are said to care about). However, the animal audiences seems to perform substantially better.</p>
<p>For example, focusing on climate-cause videos (and removing ‘lookalikes’) below, we see that the philanthropy audience performs substantially better than the climate audience.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot_climate <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(theme, <span class="st">"Climate"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Lookalikes"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience, Climate videos only"</span>,</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., str_det(theme, "Climate")): object 'full_post' not found</code></pre>
</div>
</div>
</section>
</section>
<section id="results-by-video-todo-fix-weighting" class="level3" data-number="1.9.4">
<h3 data-number="1.9.4" class="anchored" data-anchor-id="results-by-video-todo-fix-weighting"><span class="header-section-number">1.9.4</span> Results by Video (todo: fix weighting)</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>vid_plots <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(level, theme) <span class="sc">%&gt;%</span> <span class="co">#, starts</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>    sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">theme =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(theme), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> theme), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> theme),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span><span class="st">`</span><span class="at">mean</span><span class="st">`</span>, </span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> theme))</span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_vid_plot <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">vid_plots</span>() <span class="sc">+</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By theme (reach, clicks, signups)"</span>,</span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in group_by(., level, theme): object 'full_post' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_vid_plot_phil <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(audience <span class="sc">==</span> <span class="st">"Philanthropy"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">vid_plots</span>() <span class="sc">+</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By theme, 'philanthropy' audience only"</span>,</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., audience == "Philanthropy"): object 'full_post' not found</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_plot <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"1"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(theme, audience) <span class="sc">%&gt;%</span> <span class="co">#, starts</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>    sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">theme =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(theme), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> theme), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> theme),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> theme)) <span class="sc">+</span></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">1.75</span>)) <span class="sc">+</span></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Clicks by video theme and audience"</span>,</span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % clicking with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., grepl("1", level)): object 'full_post' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>reach_to_results_plot <span class="ot">&lt;-</span>  full_post <span class="sc">%&gt;%</span> </span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(theme, audience) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, </span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>      sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">theme =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(theme), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> theme), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> theme),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> theme)) <span class="sc">+</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total)"</span>,</span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">factor</span>(audience, <span class="at">levels=</span>audience_levels), <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., grepl("3", level)): object 'full_post' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>reach_to_results_plot_flip <span class="ot">&lt;-</span>  full_post <span class="sc">%&gt;%</span> </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(audience, theme) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, </span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>      sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">audience =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(audience), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> audience), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> audience),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> audience)) <span class="sc">+</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total)"</span>,</span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>theme, <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., grepl("3", level)): object 'full_post' not found</code></pre>
</div>
</div>
</section>
<section id="outcomes-by-cost" class="level3" data-number="1.9.5">
<h3 data-number="1.9.5" class="anchored" data-anchor-id="outcomes-by-cost"><span class="header-section-number">1.9.5</span> Outcomes by cost</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Joining spending and conversion ####</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>cost_tibble <span class="ot">&lt;-</span> </span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(tib_combined_post,</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(gg_video_breakdowns_col, <span class="at">theme=</span>video_theme)) <span class="sc">%&gt;%</span> </span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">reach_per_dollar =</span> reach <span class="sc">/</span> spend,</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sign_per_dollar =</span> reach_per_dollar <span class="sc">*</span> probability,</span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#NOTE this uses the simulated distribution of probabilities, not just averages! </span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sign_per_100d =</span> <span class="dv">100</span><span class="sc">*</span>sign_per_dollar,</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">cost_per_signup =</span> <span class="dv">1</span><span class="sc">/</span>sign_per_dollar</span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(spend) <span class="sc">==</span> <span class="cn">FALSE</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in left_join(tib_combined_post, rename(gg_video_breakdowns_col, : object 'tib_combined_post' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>cost_summary <span class="ot">&lt;-</span> cost_tibble <span class="sc">%&gt;%</span> </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(theme, audience) <span class="sc">%&gt;%</span> </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum_mean_hdi</span>(<span class="at">var=</span> sign_per_100d, <span class="at">scaleme=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in group_by(., theme, audience): object 'cost_tibble' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co">#dim(filter(cost_summary, check &gt; 2))[1] ... where HDI is not continuous, I guess... this doesn't happen here atm</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  sign_per_100d_plot_vid_by_aud <span class="ot">&lt;-</span> cost_tibble <span class="sc">%&gt;%</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>(</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> sign_per_100d, </span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> theme</span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> cost_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>), </span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> theme)) <span class="sc">+</span></span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Signups per $100: Comparing videos by audience"</span>,</span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Density plots, means"</span>) <span class="sc">+</span></span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">factor</span>(audience, <span class="at">levels =</span> audience_levels), <span class="at">scales =</span> <span class="st">"free_x"</span>  )</span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., audience != "Retargeting"): object 'cost_tibble' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(filter(cost_tibble, upper_eti &lt; 100)) +</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_errorbarh(aes(xmin = lower_eti, xmax = upper_eti, y = audience)) +</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_point(aes(x = mean, y = audience)) +</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs(title = "Cost per signup ($)",</span></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a><span class="co">#     x = "Estimated cost per signup (USD) with 95% ETI") +</span></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   facet_wrap(~theme, scales = "free_x")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Above we consider the cost effectiveness of each video by audience.</p>
<p><strong>‘Factual short’</strong>: <a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a> This video seems to perform as good or better than any other video for each of the cause audiences as well as for the Lookalike audience (but see cav eat). It performs nearly as good as other videos for the other audiences.</p>
<p><strong>Climate video</strong>: This seems to have performed best for the Philanthropy and General audiences, although the distribution is diffuse. Surprisingly, it does <em>not</em> perform best for the climate audience.</p>
<p><strong>Hypercube, Factual Long</strong>: These seemed to have performed worst or near-worst for most audiences. ‘Factual long’ seems to have clearly performed worse than ‘Factual short’ version. (But see caveat below.)</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-29" aria-controls="callout-29" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Caveat/todo – Video/campaign date imbalance
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-29" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>There is substantial imbalance in dates the administration of treatments in the pooled data. E.g., the ‘Factual short’ video was the only one shown for the 2021-12-08 trial, which may confound the above result. The Hypercube video was <em>only</em> shown in a single trial, where it was the only video shown. The ‘Factual long’ video was dropped in later trials (?possibly after poor performance in an explicit A/B test?). Again, confounds are certainly possible. We may want to either remove trials from dates that only ran a single trial (at a first pass), or include start date/campaign into our modeling.</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  sign_per_100d_plot_aud_by_vid <span class="ot">&lt;-</span> cost_tibble <span class="sc">%&gt;%</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span> <span class="sc">&amp;</span> audience<span class="sc">!=</span><span class="st">"General audience"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>  ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>(</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> sign_per_100d, </span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> audience</span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> cost_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span> <span class="sc">&amp;</span> audience<span class="sc">!=</span><span class="st">"General audience"</span>), </span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> audience)) <span class="sc">+</span></span>
<span id="cb83-14"><a href="#cb83-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Signups per $100: Comparing audiences for each video"</span>,</span>
<span id="cb83-15"><a href="#cb83-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Density plots, means"</span>) <span class="sc">+</span></span>
<span id="cb83-16"><a href="#cb83-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>theme, <span class="at">scales =</span> <span class="st">"free_x"</span>)</span>
<span id="cb83-17"><a href="#cb83-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in filter(., audience != "Retargeting" &amp; audience != "General audience"): object 'cost_tibble' not found</code></pre>
</div>
</div>
<p>Flipping the previous plot, we compare the cost-effectiveness of each audience for each video.<sup>[Again hard-coding here…]</sup>[Note that the audience-imbalance caveat still applies. We removed the ‘General Audience’ here, as this was only used for the final trial, and this seems particularly non-comparable.]</p>
<p>The Lookalike audiences are relatively cost-effective for most videos, although the Philanthropy audience seems to do better per dollar for the Climate video.</p>
<p>The cause audiences are relatively cost-effective for their ‘own’ videos, but not overwhelmingly so. They seemed particularly cost-ineffective for the Hypercube video.</p>
</section>
</section>
<section id="modeling-cost-per-result-and-results-per-dollar-possible-reference-literature" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="modeling-cost-per-result-and-results-per-dollar-possible-reference-literature"><span class="header-section-number">1.10</span> Modeling ‘cost per result’ and ‘results per dollar’: possible reference literature</h2>
<p><a href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.448.8462&amp;rep=rep1&amp;type=pdf">Sodomka, Eric, Sébastien Lahaie, and Dustin Hillard. “A predictive model for advertiser value-per-click in sponsored search.” Proceedings of the 22nd international conference on World Wide Web. 2013.</a></p>
<p><a href="https://www.kaggle.com/code/chrisbow/an-introduction-to-facebook-ad-analysis-using-r/notebook">Chris Bow Kaggle vignette</a></p>



<!-- -->

</section>
<section class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1" role="doc-endnote"><p>We see ‘no individuals over 45’ in the data for all experiments starting after mid-December<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>We use the latter going forward as it subsumes the former; the former is just kept as a check.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p>However, for the Hypercube campaign these are further broken up; I am not sure how.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4" role="doc-endnote"><p>In particular, it seems that for the <code>Giving Guide 2021 – PPCo Creatives</code> the <code>Emotional + Factual (Animated)</code> draws from a different set of ads for (e.g.) <code>Global Poverty + Lookalikes (18-39)</code> versus <code>Philanthropy + Lookalikes (18-39)</code>. I assume it draws from <em>all causes</em> for non-cause-linked audiences, but for the cause-linked audiences it draws only from the cause-of-interest, as well as the general ‘factual’ videos.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5" role="doc-endnote"><p>Unfortunately, for these groups, we cannot extract the data on <em>which</em> cause-specific video they saw in combination with certain other categories, like ‘which text’ or demographics. This breaks up our analysis a bit.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6" role="doc-endnote"><p>Again, note, above that we cannot identify all of the video treatments in the same dataset with text treatments; this is a limitation of the Facebook interface.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7" role="doc-endnote"><p>This also may lead FB to particularly combine certain message presentations more with certain video presentations. However we cannot check this in our current setup: it is confounded with ‘audience profile’ (at least in the data we can observe).<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8" role="doc-endnote"><p>But we essentially excluded the 13-17 age group.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9" role="doc-endnote"><p>this text is ‘hard-coded’ on 4 Aug 2022 … if data changes we need to change the text<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10" role="doc-endnote"><p>Tech note: the video names in the previous sentence are soft-coded, i.e., inline code; see the previous chunk where we identify the <code>top_vid_phil</code> and <code>bot_vid_phil</code>.<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11" role="doc-endnote"><p>Followup of interest: What do the ‘diminishing returns to scale’ look like here? How to measure? Can we track results over time and see if the cost increased? (But targeting may also improve over time.) Roughly compare ‘small’ and ‘large’ campaigns? …<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12" role="doc-endnote"><p>Check: is this the same as ‘which yields the highest rate of results, or is there a cost difference?’<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13" role="doc-endnote"><p>Check: is this the same as ‘which yields the highest rate of results, or is there a cost difference?’<a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14" role="doc-endnote"><p>Moved from Erin’s work<a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15" role="doc-endnote"><p>Although I am not sure if this is the case; the costs and number of impressions served are determined in a complicated way.<a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16" role="doc-endnote"><p>Hard-coded, may need recoding after fixes<a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
</main> <!-- /main -->
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    setTimeout(function() {
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">About</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/gwwc_fb.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Giving What We Can: Feb 22 Facebook Message Test</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb85" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="co">    freeze: auto # re-render only when source changes</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="co">    warning: false</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="co">    message: false</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a><span class="co">    error: true</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a><span class="fu"># Giving What We Can: Giving guides {#gwwc_gg}</span></span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a>::: {.callout-note}</span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a>This chapter should align with a (forthcoming) EA Forum post, which will be linked here (and vice-versa).</span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-15"><a href="#cb85-15" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-16"><a href="#cb85-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-17"><a href="#cb85-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-18"><a href="#cb85-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-19"><a href="#cb85-19" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, include=FALSE}</span></span>
<span id="cb85-20"><a href="#cb85-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb85-21"><a href="#cb85-21" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">here</span>(<span class="st">"code"</span>, <span class="st">"shared_packages_code.R"</span>))</span>
<span id="cb85-22"><a href="#cb85-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr, janitor)</span>
<span id="cb85-23"><a href="#cb85-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb85-24"><a href="#cb85-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-25"><a href="#cb85-25" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'BiocManager'</span>)</span>
<span id="cb85-26"><a href="#cb85-26" aria-hidden="true" tabindex="-1"></a><span class="co">#remotes::install_github("stan-dev/cmdstanr@fix-install-win11")</span></span>
<span id="cb85-27"><a href="#cb85-27" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(cmdstanr)</span>
<span id="cb85-28"><a href="#cb85-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-29"><a href="#cb85-29" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("tidybayes")</span></span>
<span id="cb85-30"><a href="#cb85-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidybayes)</span>
<span id="cb85-31"><a href="#cb85-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-32"><a href="#cb85-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-33"><a href="#cb85-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GDAtools, <span class="at">include.only =</span> <span class="st">'wtable'</span>, <span class="st">'dichotom'</span>)</span>
<span id="cb85-34"><a href="#cb85-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-35"><a href="#cb85-35" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-36"><a href="#cb85-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-37"><a href="#cb85-37" aria-hidden="true" tabindex="-1"></a><span class="in">```{r import_raw_0}</span></span>
<span id="cb85-38"><a href="#cb85-38" aria-hidden="true" tabindex="-1"></a><span class="co">#importing for dynamic input of descriptions below</span></span>
<span id="cb85-39"><a href="#cb85-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-40"><a href="#cb85-40" aria-hidden="true" tabindex="-1"></a><span class="co">#Todo: get direct import working: See https://cran.r-project.org/web/packages/rfacebookstat/rfacebookstat.pdf</span></span>
<span id="cb85-41"><a href="#cb85-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-42"><a href="#cb85-42" aria-hidden="true" tabindex="-1"></a>raw_data_path <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"gwwc"</span>, <span class="st">"gg_raw_data_shareable"</span>)</span>
<span id="cb85-43"><a href="#cb85-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-44"><a href="#cb85-44" aria-hidden="true" tabindex="-1"></a>mini_clean <span class="ot">&lt;-</span> <span class="cf">function</span>(df){</span>
<span id="cb85-45"><a href="#cb85-45" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb85-46"><a href="#cb85-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-47"><a href="#cb85-47" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-48"><a href="#cb85-48" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>() <span class="sc">%&gt;%</span> <span class="co"># removes empty rows and columns, here `unique_link_clicks`</span></span>
<span id="cb85-49"><a href="#cb85-49" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">remove_constant</span>()</span>
<span id="cb85-50"><a href="#cb85-50" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb85-51"><a href="#cb85-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-52"><a href="#cb85-52" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(raw_data_path, <span class="st">"gg_campaign_by_ad_by_text.csv"</span>), <span class="at">show_col_types=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-53"><a href="#cb85-53" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="st">"Campaign name...4"</span>) <span class="sc">%&gt;%</span> <span class="co">#duplicate columns?</span></span>
<span id="cb85-54"><a href="#cb85-54" aria-hidden="true" tabindex="-1"></a> mini_clean</span>
<span id="cb85-55"><a href="#cb85-55" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-56"><a href="#cb85-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-57"><a href="#cb85-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-58"><a href="#cb85-58" aria-hidden="true" tabindex="-1"></a><span class="fu">## The trial</span></span>
<span id="cb85-59"><a href="#cb85-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-60"><a href="#cb85-60" aria-hidden="true" tabindex="-1"></a>See full description in the gitbook <span class="co">[</span><span class="ot">here</span><span class="co">](https://effective-giving-marketing.gitbook.io/untitled/contexts-partner-organizations-trials/gwwc/giving-guides-+)</span>.</span>
<span id="cb85-61"><a href="#cb85-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-62"><a href="#cb85-62" aria-hidden="true" tabindex="-1"></a>**Context**: Facebook advertisements on a range of audiences</span>
<span id="cb85-63"><a href="#cb85-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-64"><a href="#cb85-64" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **Effective Giving Guide Lead Generation campaign** ... ran late November 2021 - January 2022. The objective of this campaign was to see whether a factual </span><span class="co">[</span><span class="ot">'who researches giving' or 'magnitude of impact differences'</span><span class="co">]</span><span class="at"> or cause-led approach was more cost-effective at getting people to fill out a form and give us their email in order to download our Effective Giving Guide.</span></span>
<span id="cb85-65"><a href="#cb85-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-66"><a href="#cb85-66" aria-hidden="true" tabindex="-1"></a>The page they were directed to <span class="co">&lt;!-- (DR: probably the one linked below ) --&gt;</span> </span>
<span id="cb85-67"><a href="#cb85-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-68"><a href="#cb85-68" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Learn how to give more effectively</span><span class="co">](https://www.givingwhatwecan.org/giving-guide)</span> allowed you to download the guide only after leaving your email.</span>
<span id="cb85-69"><a href="#cb85-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-70"><a href="#cb85-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-71"><a href="#cb85-71" aria-hidden="true" tabindex="-1"></a><span class="fu">### Treatments (text $\times$ video)</span></span>
<span id="cb85-72"><a href="#cb85-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-73"><a href="#cb85-73" aria-hidden="true" tabindex="-1"></a>*There were two dimensions of treatment content:*</span>
<span id="cb85-74"><a href="#cb85-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-75"><a href="#cb85-75" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>**The texts displayed above the videos**</span>
<span id="cb85-76"><a href="#cb85-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-77"><a href="#cb85-77" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-78"><a href="#cb85-78" aria-hidden="true" tabindex="-1"></a><span class="fu">## Texts</span></span>
<span id="cb85-79"><a href="#cb85-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-80"><a href="#cb85-80" aria-hidden="true" tabindex="-1"></a>**Bigger difference next year:** Want to make a bigger difference next year? Start with our Effective Giving Guide and learn how to make a remarkable impact just by carefully choosing the charities you give to.</span>
<span id="cb85-81"><a href="#cb85-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-82"><a href="#cb85-82" aria-hidden="true" tabindex="-1"></a>**100x impact:** Did you know that the best charities can have a 100x greater impact? Download our free Effective Giving Guide for the best tips on doing the most good this holiday season.</span>
<span id="cb85-83"><a href="#cb85-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-84"><a href="#cb85-84" aria-hidden="true" tabindex="-1"></a>**6000 people:** Giving What We Can has helped 6,000+ people make a bigger impact on the causes they care about most. Download our free guide and learn how you can do the same.</span>
<span id="cb85-85"><a href="#cb85-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-86"><a href="#cb85-86" aria-hidden="true" tabindex="-1"></a>**Cause list**: Whether we're moved by animal welfare, the climate crisis, or worldwide humanitarian efforts, our community is united by one thing: making the biggest impact we can. Make a bigger difference in the world through charitable giving. Start by downloading our Effective Giving Guide. You'll learn how to approach charity research and smart giving. And be sure to share it with others who care about making a greater impact on the causes closest to their hearts.</span>
<span id="cb85-87"><a href="#cb85-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-88"><a href="#cb85-88" aria-hidden="true" tabindex="-1"></a>**Learn:** Use our free guide to learn how to make a bigger impact on the causes you care about most.</span>
<span id="cb85-89"><a href="#cb85-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-90"><a href="#cb85-90" aria-hidden="true" tabindex="-1"></a>**Only 3% research:** Only 3% of donors give based on charity effectiveness yet the best charities can be 100x more impactful. That's incredible! Check out the Effective Giving Guide 2021. It'll help you find the most impactful charities across a range of causes.</span>
<span id="cb85-91"><a href="#cb85-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-92"><a href="#cb85-92" aria-hidden="true" tabindex="-1"></a>**Overwhelming**: It can be overwhelming with so many problems in the world. Fortunately, we can do *a lot* to help, if we give effectively. Check out the Effective Giving Guide 2021. It'll help you find the most impactful charities across a range of causes.</span>
<span id="cb85-93"><a href="#cb85-93" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-94"><a href="#cb85-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-95"><a href="#cb85-95" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-96"><a href="#cb85-96" aria-hidden="true" tabindex="-1"></a><span class="fu">## Check against data export of texts</span></span>
<span id="cb85-97"><a href="#cb85-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-98"><a href="#cb85-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-99"><a href="#cb85-99" aria-hidden="true" tabindex="-1"></a><span class="in">`r  unique(gg_campaign_by_ad_by_text$text)`</span></span>
<span id="cb85-100"><a href="#cb85-100" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-101"><a href="#cb85-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-102"><a href="#cb85-102" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>**The Video ads theme and content**</span>
<span id="cb85-103"><a href="#cb85-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-104"><a href="#cb85-104" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-105"><a href="#cb85-105" aria-hidden="true" tabindex="-1"></a><span class="fu">## "Facts"</span></span>
<span id="cb85-106"><a href="#cb85-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-107"><a href="#cb85-107" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span><span class="co">[</span><span class="ot">Charity research facts short video</span><span class="co">](https://drive.google.com/file/d/1EPgrkl7MpgcNUWBRUE9YPMG38gYClu2R/view?usp=sharing)</span> (8 seconds): Only 3% of donors research charity effectiveness, yet the best charities can 100x your impact, learn how to give effectively&nbsp;</span>
<span id="cb85-108"><a href="#cb85-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-109"><a href="#cb85-109" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span><span class="co">[</span><span class="ot">Charity research facts long video</span><span class="co">](https://drive.google.com/file/d/1c58siggrMh2KN33bcj5f3afKgqY3RE5B/view?usp=sharing)</span> (22 seconds): Trivial things we search (shows someone searching how to do Gangnam style), things we should research (shows someone searching how to donate effectively), only 3% of donors research charity effectiveness, yet the best charities can 100x your impact, learn how to give effectively. Slower paced music compared to the short video and cause videos. &nbsp;</span>
<span id="cb85-110"><a href="#cb85-110" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-111"><a href="#cb85-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-112"><a href="#cb85-112" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-113"><a href="#cb85-113" aria-hidden="true" tabindex="-1"></a><span class="fu">## "Cause focus"</span></span>
<span id="cb85-114"><a href="#cb85-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-115"><a href="#cb85-115" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span><span class="co">[</span><span class="ot">Climate change</span><span class="co">](https://drive.google.com/file/d/1FtI8gA7V0Jj16Ha91jp6XeF2skNXOu7w/view?usp=sharing)</span> (15 seconds): Care about climate change? You don't have to renounce all your possessions, But you could give to effective environmental charities, *Learn how to maximize your charitable impact, Download the Effective Giving Guide*&nbsp;</span>
<span id="cb85-116"><a href="#cb85-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-117"><a href="#cb85-117" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span><span class="co">[</span><span class="ot">Animal welfare</span><span class="co">](https://drive.google.com/file/d/1qct5OPwrD3wJxZn7GEb9URTFMlkVN8ge/view?usp=sharing)</span> (16 seconds): Care about animals? You don't have to adopt 100 cats, But you could give to effective animal charities, *Learn how to maximize your charitable impact, Download the Effective Giving Guide*&nbsp;</span>
<span id="cb85-118"><a href="#cb85-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-119"><a href="#cb85-119" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span><span class="co">[</span><span class="ot">Poverty</span><span class="co">](https://drive.google.com/file/d/1POx8U1Y8Ce8xpiaJU2f0s2X3a45t89zI/view?usp=sharing)</span> (16 seconds): Want to help reduce global poverty? You don't have to build a village, But you could give to effective global development charities, *Learn how to maximize your charitable impact, Download the Effective Giving Guide*&nbsp;</span>
<span id="cb85-120"><a href="#cb85-120" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-121"><a href="#cb85-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-122"><a href="#cb85-122" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-123"><a href="#cb85-123" aria-hidden="true" tabindex="-1"></a><span class="fu">## Arguments, rich content from "Hypercube"</span></span>
<span id="cb85-124"><a href="#cb85-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-125"><a href="#cb85-125" aria-hidden="true" tabindex="-1"></a><span class="ss">6.  </span><span class="co">[</span><span class="ot">Hypercube</span><span class="co">](https://www.youtube.com/watch?v=CiFoHm7HD94)</span> (1 min 22 seconds): Animated and voiceover video that explains how GWWC can help maximize charitable impact (support, community, and information) and the problems GWWC addresses (good intentions don't always produce the desired outcomes, there are millions of charities that have varying degrees of impact and some can even cause harm). CTA: *Check out givingwhatwecan.org to learn how you can become an effective giver.*</span>
<span id="cb85-126"><a href="#cb85-126" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-127"><a href="#cb85-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-128"><a href="#cb85-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-129"><a href="#cb85-129" aria-hidden="true" tabindex="-1"></a><span class="fu">### Further detail, links {-}</span></span>
<span id="cb85-130"><a href="#cb85-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-131"><a href="#cb85-131" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-132"><a href="#cb85-132" aria-hidden="true" tabindex="-1"></a><span class="fu">## Notes from the trial description</span></span>
<span id="cb85-133"><a href="#cb85-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-134"><a href="#cb85-134" aria-hidden="true" tabindex="-1"></a>"In the original version of our test, we had 1 video for the factual appeal and 3 videos for the cause led approach - 1 for global health and development, 1 for animal welfare and 1 for climate change."</span>
<span id="cb85-135"><a href="#cb85-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-136"><a href="#cb85-136" aria-hidden="true" tabindex="-1"></a>"We targeted our ads to audiences we thought were likely to engage based on their interests and demographics, and targeted the cause led videos to a relevant audience, i.e. climate change message to climate change audience."</span>
<span id="cb85-137"><a href="#cb85-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-138"><a href="#cb85-138" aria-hidden="true" tabindex="-1"></a>"We also had various text above the videos that were displayed and optimized."</span>
<span id="cb85-139"><a href="#cb85-139" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-140"><a href="#cb85-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-141"><a href="#cb85-141" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, include=FALSE}</span></span>
<span id="cb85-142"><a href="#cb85-142" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb85-143"><a href="#cb85-143" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">here</span>(<span class="st">"code"</span>, <span class="st">"shared_packages_code.R"</span>))</span>
<span id="cb85-144"><a href="#cb85-144" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-145"><a href="#cb85-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-146"><a href="#cb85-146" aria-hidden="true" tabindex="-1"></a>Details in Gitbook <span class="co">[</span><span class="ot">HERE (and embedded below)</span><span class="co">](https://effective-giving-marketing.gitbook.io/untitled/partner-organizations-and-trials/gwwc/giving-guides-+)</span> and Gdoc <span class="co">[</span><span class="ot">here</span><span class="co">](https://docs.google.com/document/d/1FfrXhD1YAIjrATy9PR6ScP20NMQa82sd80YvMb62iUQ/edit)</span></span>
<span id="cb85-147"><a href="#cb85-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-148"><a href="#cb85-148" aria-hidden="true" tabindex="-1"></a><span class="in">```{r wppage, out.width="70%"}</span></span>
<span id="cb85-149"><a href="#cb85-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-150"><a href="#cb85-150" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_url</span>(<span class="st">"https://effective-giving-marketing.gitbook.io/untitled/partner-organizations-and-trials/gwwc/giving-guides-+"</span>)</span>
<span id="cb85-151"><a href="#cb85-151" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-152"><a href="#cb85-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-153"><a href="#cb85-153" aria-hidden="true" tabindex="-1"></a><span class="fu">## Implementation &amp; treatment assignment: key details</span></span>
<span id="cb85-154"><a href="#cb85-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-155"><a href="#cb85-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-156"><a href="#cb85-156" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-157"><a href="#cb85-157" aria-hidden="true" tabindex="-1"></a><span class="fu">## Treatment assignment order, dates</span></span>
<span id="cb85-158"><a href="#cb85-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-159"><a href="#cb85-159" aria-hidden="true" tabindex="-1"></a>The treatment assignment was determined by Facebook's algorithm. Video content was manipulated across three split tests.</span>
<span id="cb85-160"><a href="#cb85-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-161"><a href="#cb85-161" aria-hidden="true" tabindex="-1"></a>Test 1 (Nov 30, 2021 – Dec 8, 2021, campaigns: "Cause-Led" and "Factual") displayed either the long factual video or a cause focus video. In the cause focus condition, cause-specific audiences for animal rights, climate change, and poverty (based on their behavior on Facebook) were shown the relevant cause video.</span>
<span id="cb85-162"><a href="#cb85-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-163"><a href="#cb85-163" aria-hidden="true" tabindex="-1"></a>Test 2 (Starting December 8, campaign "Factual V2"?) was the same as Test 1 but used the short factual video instead of the cause-focus videos.</span>
<span id="cb85-164"><a href="#cb85-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-165"><a href="#cb85-165" aria-hidden="true" tabindex="-1"></a>Test 3 (Starting December 23, campaign "Cause-led V3" and "Factual V3" (?)): was the same as Test 2 but had a new version of the videos (with Luke just holding up signs with the words). This test was also restricted to 18-35 (or 18-44) year olds.^<span class="co">[</span><span class="ot">We see 'no individuals over 45' in the data for all experiments starting after mid-December</span><span class="co">]</span></span>
<span id="cb85-166"><a href="#cb85-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-167"><a href="#cb85-167" aria-hidden="true" tabindex="-1"></a>Test 4:  (Starting December 23, "Hypercube" and "PPCo") The Hypercube video was displayed in a separate “Hypercube” campaign which was tested against another campaign that allowed the algorithm to optimize between the 'short factual' and 'cause focus' videos (although not allowing each cause-specific audience to see the ads for other cause areas).</span>
<span id="cb85-168"><a href="#cb85-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-169"><a href="#cb85-169" aria-hidden="true" tabindex="-1"></a>In all tests, the text content displayed above the video was determined by Facebook’s algorithm. Balance across variations was determined to equate budgets across split tests; otherwise, according to Facebook’s algorithm. All variation was done at the level of the impression.</span>
<span id="cb85-170"><a href="#cb85-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-171"><a href="#cb85-171" aria-hidden="true" tabindex="-1"></a>The videos were adapted across the trials as we learned. First, we updated the factual video to be shorter for Trial 2, and then we tried videos of Luke holding up signs spelling out the voiceover in Trial 3 for all videos.</span>
<span id="cb85-172"><a href="#cb85-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-173"><a href="#cb85-173" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-174"><a href="#cb85-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-175"><a href="#cb85-175" aria-hidden="true" tabindex="-1"></a><span class="fu">## Build: Source data input and cleaning code</span></span>
<span id="cb85-176"><a href="#cb85-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-177"><a href="#cb85-177" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-178"><a href="#cb85-178" aria-hidden="true" tabindex="-1"></a><span class="fu">## Accessing, downloading, inputting data</span></span>
<span id="cb85-179"><a href="#cb85-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-180"><a href="#cb85-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-181"><a href="#cb85-181" aria-hidden="true" tabindex="-1"></a>See:</span>
<span id="cb85-182"><a href="#cb85-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-183"><a href="#cb85-183" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Accessing and bringing down simple results HERE</span><span class="co">](https://app.gitbook.com/o/-MfFk4CTSGwVOPkwnRgx/s/-Mf8cHxdwePMZXRTKnEE/core-knowledge-base/marketing-implementation-and-practical-tips/collecting-data-trial-outcomes/facebook-meta-ads-interface)</span>; (Public access version <span class="co">[</span><span class="ot">here</span><span class="co">](https://effective-giving-marketing.gitbook.io/untitled/marketing-and-testing-opportunities-tools-tips/collecting-data-trial-outcomes/facebook-meta-ads-interface)</span>)</span>
<span id="cb85-184"><a href="#cb85-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-185"><a href="#cb85-185" aria-hidden="true" tabindex="-1"></a>We import the exported 'pivot table' <span class="in">`gg_campaign_by_ad_by_text`</span> below, as well as the more detailed version, broken down by age range and gender: <span class="in">`gg-campaign-by-ad-set-text-age-gender.csv`</span>.^<span class="co">[</span><span class="ot">We use the latter going forward as it subsumes the former; the former is just kept as a check.</span><span class="co">]</span></span>
<span id="cb85-186"><a href="#cb85-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-187"><a href="#cb85-187" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-188"><a href="#cb85-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-189"><a href="#cb85-189" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- [Most relevant breakdowns as pivot tables](https://app.gitbook.com/o/-MfFk4CTSGwVOPkwnRgx/s/-Mf8cHxdwePMZXRTKnEE/core-knowledge-base/marketing-implementation-and-practical-tips/collecting-data-trial-outcomes/facebook-meta-ads-interface/...-pivot-tables) --&gt;</span></span>
<span id="cb85-190"><a href="#cb85-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-191"><a href="#cb85-191" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-192"><a href="#cb85-192" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data structure</span></span>
<span id="cb85-193"><a href="#cb85-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-194"><a href="#cb85-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-195"><a href="#cb85-195" aria-hidden="true" tabindex="-1"></a>The data frame <span class="in">`gg_campaign_by_ad_by_text_age_gender`</span> has one row per combination of 'campaign, ad, text, age group, gender'.</span>
<span id="cb85-196"><a href="#cb85-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-197"><a href="#cb85-197" aria-hidden="true" tabindex="-1"></a>Each row represents a combination of the below (with different numbers of 'reach' for each row)^<span class="co">[</span><span class="ot">However, for the Hypercube campaign these are further broken up; I am not sure how.</span><span class="co">]</span></span>
<span id="cb85-198"><a href="#cb85-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-199"><a href="#cb85-199" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`campaign_name`</span>: When and and with what funds the ad was launched, I think (?)</span>
<span id="cb85-200"><a href="#cb85-200" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`ad_set`</span>: An ad set can specifically tie an <span class="in">`ad_name`</span> to an audience (I think)</span>
<span id="cb85-201"><a href="#cb85-201" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`ad_name`</span>: Which video/media (or collection of optimized videos/media) was shown; note this is paired with 'which audience' in it's label, as there were specific 'global poverty', 'animal welfare',  'climate change', 'philanthropy' and 'retargeting' audiences</span>
<span id="cb85-202"><a href="#cb85-202" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Caveat: The <span class="in">`ad_name`</span> seems to select from a different set of media for optimization  depending on which <span class="in">`ad_set`</span> it is in.^<span class="co">[</span><span class="ot">In particular, it seems that for the `Giving Guide 2021 – PPCo Creatives` the `Emotional + Factual (Animated)` draws from a different set of ads for (e.g.) `Global Poverty + Lookalikes (18-39)` versus `Philanthropy + Lookalikes (18-39)`. I assume it draws from *all causes* for non-cause-linked audiences, but for the cause-linked audiences it draws only from the cause-of-interest, as well as the general 'factual' videos.</span><span class="co">]</span></span>
<span id="cb85-203"><a href="#cb85-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-204"><a href="#cb85-204" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`text`</span>: Which text was shown along with the video</span>
<span id="cb85-205"><a href="#cb85-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-206"><a href="#cb85-206" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`age`</span> (a range of ages)</span>
<span id="cb85-207"><a href="#cb85-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-208"><a href="#cb85-208" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`gender`</span> (female, male, unknown)</span>
<span id="cb85-209"><a href="#cb85-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-210"><a href="#cb85-210" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-211"><a href="#cb85-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-212"><a href="#cb85-212" aria-hidden="true" tabindex="-1"></a><span class="in">```{r import_real_raw_data}</span></span>
<span id="cb85-213"><a href="#cb85-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-214"><a href="#cb85-214" aria-hidden="true" tabindex="-1"></a>raw_data_path <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"gwwc"</span>, <span class="st">"gg_raw_data_shareable"</span>)</span>
<span id="cb85-215"><a href="#cb85-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-216"><a href="#cb85-216" aria-hidden="true" tabindex="-1"></a><span class="co">#already input above: gg_campaign_by_ad_by_text</span></span>
<span id="cb85-217"><a href="#cb85-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-218"><a href="#cb85-218" aria-hidden="true" tabindex="-1"></a><span class="co">#Version allowing demographic breakdown:</span></span>
<span id="cb85-219"><a href="#cb85-219" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(raw_data_path, <span class="st">"gg-campaign-by-ad-set-text-age-gender.csv"</span>), <span class="at">show_col_types=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-220"><a href="#cb85-220" aria-hidden="true" tabindex="-1"></a>  <span class="co">#dplyr::select(-"Campaign name...4") %&gt;% #duplicate columns?</span></span>
<span id="cb85-221"><a href="#cb85-221" aria-hidden="true" tabindex="-1"></a> <span class="fu">mini_clean</span>()</span>
<span id="cb85-222"><a href="#cb85-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-223"><a href="#cb85-223" aria-hidden="true" tabindex="-1"></a><span class="co">#Version with information on cause videos shown (even to those in 'general' groups):</span></span>
<span id="cb85-224"><a href="#cb85-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-225"><a href="#cb85-225" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(raw_data_path, <span class="st">"gg-image-video-breakdowns.csv"</span>), <span class="at">show_col_types=</span><span class="cn">FALSE</span>)</span>
<span id="cb85-226"><a href="#cb85-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-227"><a href="#cb85-227" aria-hidden="true" tabindex="-1"></a><span class="co">#capture and remove columns that are the same everywhere</span></span>
<span id="cb85-228"><a href="#cb85-228" aria-hidden="true" tabindex="-1"></a>attribution_setting_c <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>attribution_setting <span class="sc">%&gt;%</span> .[<span class="dv">1</span>]</span>
<span id="cb85-229"><a href="#cb85-229" aria-hidden="true" tabindex="-1"></a>reporting_starts_c <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>reporting_starts <span class="sc">%&gt;%</span> .[<span class="dv">1</span>]</span>
<span id="cb85-230"><a href="#cb85-230" aria-hidden="true" tabindex="-1"></a>reporting_ends_c <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>reporting_ends <span class="sc">%&gt;%</span> .[<span class="dv">1</span>]</span>
<span id="cb85-231"><a href="#cb85-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-232"><a href="#cb85-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-233"><a href="#cb85-233" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender  <span class="sc">%&lt;&gt;%</span> <span class="fu">mini_clean</span>()</span>
<span id="cb85-234"><a href="#cb85-234" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns  <span class="sc">%&lt;&gt;%</span> <span class="fu">mini_clean</span>()</span>
<span id="cb85-235"><a href="#cb85-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-236"><a href="#cb85-236" aria-hidden="true" tabindex="-1"></a><span class="co">#functions to clean these specific data sets 'gg_campaign_by_ad_by_text_age_gender' and 'gg_campaign_by_ad_by_text':</span></span>
<span id="cb85-237"><a href="#cb85-237" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">here</span>(<span class="st">"gwwc"</span>, <span class="st">"giving_guides"</span>, <span class="st">"clean_gg_raw_data.R"</span>))</span>
<span id="cb85-238"><a href="#cb85-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-239"><a href="#cb85-239" aria-hidden="true" tabindex="-1"></a><span class="co">#Many cleaning steps: audience, video_theme, campaign_theme, agetrin; releveling</span></span>
<span id="cb85-240"><a href="#cb85-240" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender <span class="sc">%&lt;&gt;%</span></span>
<span id="cb85-241"><a href="#cb85-241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_gg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-242"><a href="#cb85-242" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_make_cols</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-243"><a href="#cb85-243" aria-hidden="true" tabindex="-1"></a>  <span class="fu">text_clean</span>() <span class="sc">%&gt;%</span>  <span class="co"># Shorter 'text treatment' column</span></span>
<span id="cb85-244"><a href="#cb85-244" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, <span class="fu">everything</span>(), <span class="sc">-</span>campaign_name_1, <span class="sc">-</span>campaign_name_7) <span class="co">#campaign_name_7 was the same as campaign_name_1</span></span>
<span id="cb85-245"><a href="#cb85-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-246"><a href="#cb85-246" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="sc">%&lt;&gt;%</span></span>
<span id="cb85-247"><a href="#cb85-247" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_gg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-248"><a href="#cb85-248" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_make_cols</span>()</span>
<span id="cb85-249"><a href="#cb85-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-250"><a href="#cb85-250" aria-hidden="true" tabindex="-1"></a><span class="co">#gg_campaign_by_ad_by_text_age_gender %&gt;% collapse::descr()</span></span>
<span id="cb85-251"><a href="#cb85-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-252"><a href="#cb85-252" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-253"><a href="#cb85-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-254"><a href="#cb85-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-255"><a href="#cb85-255" aria-hidden="true" tabindex="-1"></a><span class="in">```{r video_general_encoding}</span></span>
<span id="cb85-256"><a href="#cb85-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-257"><a href="#cb85-257" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="sc">%&lt;&gt;%</span></span>
<span id="cb85-258"><a href="#cb85-258" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb85-259"><a href="#cb85-259" aria-hidden="true" tabindex="-1"></a>    <span class="at">video_theme =</span> <span class="fu">case_when</span>(</span>
<span id="cb85-260"><a href="#cb85-260" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"set_1|Animals"</span>) <span class="sc">~</span> <span class="st">"Animal"</span>,</span>
<span id="cb85-261"><a href="#cb85-261" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"set_2|Climate"</span>) <span class="sc">~</span> <span class="st">"Climate"</span>,</span>
<span id="cb85-262"><a href="#cb85-262" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"set_3|Poverty"</span>) <span class="sc">~</span> <span class="st">"Poverty"</span>,</span>
<span id="cb85-263"><a href="#cb85-263" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"Free Effective"</span>) <span class="sc">&amp;</span> video_theme<span class="sc">==</span><span class="st">"Cause-led (any)"</span> <span class="sc">~</span> <span class="st">"Poverty"</span>,</span>
<span id="cb85-264"><a href="#cb85-264" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"factual_short|Factual Short"</span>) <span class="sc">~</span> <span class="st">"Factual short"</span>,</span>
<span id="cb85-265"><a href="#cb85-265" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span>   video_theme</span>
<span id="cb85-266"><a href="#cb85-266" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb85-267"><a href="#cb85-267" aria-hidden="true" tabindex="-1"></a>    <span class="at">video_theme =</span>  <span class="fu">factor</span>(video_theme),</span>
<span id="cb85-268"><a href="#cb85-268" aria-hidden="true" tabindex="-1"></a>    <span class="at">video_theme =</span> <span class="fu">fct_relevel</span>(video_theme, <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Poverty"</span>, <span class="st">"Factual short"</span>, <span class="st">"Factual long"</span>, <span class="st">"Hypercube (factual)"</span>))</span>
<span id="cb85-269"><a href="#cb85-269" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb85-270"><a href="#cb85-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-271"><a href="#cb85-271" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-272"><a href="#cb85-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-273"><a href="#cb85-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-274"><a href="#cb85-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-275"><a href="#cb85-275" aria-hidden="true" tabindex="-1"></a><span class="in">```{r export}</span></span>
<span id="cb85-276"><a href="#cb85-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-277"><a href="#cb85-277" aria-hidden="true" tabindex="-1"></a>cleaned_data_path <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"gwwc"</span>, <span class="st">"gg_processed_data"</span>)</span>
<span id="cb85-278"><a href="#cb85-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-279"><a href="#cb85-279" aria-hidden="true" tabindex="-1"></a><span class="co">#export 'cleaned' data for others to play with immediately</span></span>
<span id="cb85-280"><a href="#cb85-280" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(gg_video_breakdowns, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_video_breakdowns.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb85-281"><a href="#cb85-281" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(gg_campaign_by_ad_by_text_age_gender, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_campaign_by_ad_by_text_age_gender.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb85-282"><a href="#cb85-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-283"><a href="#cb85-283" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(gg_video_breakdowns, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_video_breakdowns.Rdata"</span>))</span>
<span id="cb85-284"><a href="#cb85-284" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(gg_campaign_by_ad_by_text_age_gender, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_campaign_by_ad_by_text_age_gender.Rdata"</span>))</span>
<span id="cb85-285"><a href="#cb85-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-286"><a href="#cb85-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-287"><a href="#cb85-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-288"><a href="#cb85-288" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-289"><a href="#cb85-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-290"><a href="#cb85-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-291"><a href="#cb85-291" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-292"><a href="#cb85-292" aria-hidden="true" tabindex="-1"></a><span class="fu">## This data should be publicly shareable; above, we 'export'</span></span>
<span id="cb85-293"><a href="#cb85-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-294"><a href="#cb85-294" aria-hidden="true" tabindex="-1"></a>This data is clearly not identifying individuals; it involves aggregates based on real or assumed characteristics ... there is likely nothing that needs to be hidden here. We aim to share and integrate all the data in this repo, for a complete pipeline.</span>
<span id="cb85-295"><a href="#cb85-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-296"><a href="#cb85-296" aria-hidden="true" tabindex="-1"></a>In the code above, we create several 'cleaned data' files for others to access in the Github repo</span>
<span id="cb85-297"><a href="#cb85-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-298"><a href="#cb85-298" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-299"><a href="#cb85-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-300"><a href="#cb85-300" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-301"><a href="#cb85-301" aria-hidden="true" tabindex="-1"></a><span class="fu">## Previous version of data used ... (moved)</span></span>
<span id="cb85-302"><a href="#cb85-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-303"><a href="#cb85-303" aria-hidden="true" tabindex="-1"></a>We previously used data collapsed (breakdowns) by demography and ad set, into 2 files, which duplicated rows to represent  the number of people reached:  <span class="in">`video breakdown`</span>, and  <span class="in">`text breakdown.csv`</span>. We now use the more 'raw' minimal version of the data, avoiding duplicating rows where possible.</span>
<span id="cb85-304"><a href="#cb85-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-305"><a href="#cb85-305" aria-hidden="true" tabindex="-1"></a>Below, we also input some of the 'old version' of the data, with the duplicated rows, to accommodate the old-format of analysis ... this will be removed when we switch over.  The code above inputs and builds 2-4 related data frames (tibbles), which were constructed from the collapsed (aggregated) data by multiplying rows according to observation counts. I am not sure where this was done. Once we update the rest we will get rid of this.</span>
<span id="cb85-306"><a href="#cb85-306" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb85-307"><a href="#cb85-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-308"><a href="#cb85-308" aria-hidden="true" tabindex="-1"></a>e.g.,</span>
<span id="cb85-309"><a href="#cb85-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-310"><a href="#cb85-310" aria-hidden="true" tabindex="-1"></a><span class="in">`gwwc_vid_results`</span>: Observations of emails provided... by video content</span>
<span id="cb85-311"><a href="#cb85-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-312"><a href="#cb85-312" aria-hidden="true" tabindex="-1"></a>This content/input has been moved to <span class="in">`eamt_data_analysis/gwwc/giving_guides/archive_erin/erin_plots_stats_gg.qmd`</span>, at least for now</span>
<span id="cb85-313"><a href="#cb85-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-314"><a href="#cb85-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-315"><a href="#cb85-315" aria-hidden="true" tabindex="-1"></a><span class="fu">## Descriptives</span></span>
<span id="cb85-316"><a href="#cb85-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-317"><a href="#cb85-317" aria-hidden="true" tabindex="-1"></a><span class="fu">### Implemented treatments, 'reach'</span></span>
<span id="cb85-318"><a href="#cb85-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-319"><a href="#cb85-319" aria-hidden="true" tabindex="-1"></a>First we illustrate 'where, when, and to whom' the different campaigns and treatments were shown (Facebook 'people reached').</span>
<span id="cb85-320"><a href="#cb85-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-321"><a href="#cb85-321" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-322"><a href="#cb85-322" aria-hidden="true" tabindex="-1"></a><span class="fu">## We use 'reach' as our metric throughout'; essentially 'unique impressions'</span></span>
<span id="cb85-323"><a href="#cb85-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-324"><a href="#cb85-324" aria-hidden="true" tabindex="-1"></a>According to Facebook (https://business.facebook.com/adsmanager/ accessed 5 Aug 2022), reach is: </span>
<span id="cb85-325"><a href="#cb85-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-326"><a href="#cb85-326" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; The number of people who saw your ads at least once. Reach is different from impressions, which may include multiple views of your ads by the same people.</span></span>
<span id="cb85-327"><a href="#cb85-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-328"><a href="#cb85-328" aria-hidden="true" tabindex="-1"></a>In all of our figures below we use the *reach* outcome rather than the 'impressions' outcome, although we sometimes refer to it as 'impressions', because it is a clearer way of describing it.</span>
<span id="cb85-329"><a href="#cb85-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-330"><a href="#cb85-330" aria-hidden="true" tabindex="-1"></a>::: </span>
<span id="cb85-331"><a href="#cb85-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-332"><a href="#cb85-332" aria-hidden="true" tabindex="-1"></a>The sequential campaigns involved different sets of videos, and these videos had different versions:</span>
<span id="cb85-333"><a href="#cb85-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-334"><a href="#cb85-334" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reach_count}</span></span>
<span id="cb85-335"><a href="#cb85-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-336"><a href="#cb85-336" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-337"><a href="#cb85-337" aria-hidden="true" tabindex="-1"></a>  reach_campaign_theme <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb85-338"><a href="#cb85-338" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, video_theme, reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-339"><a href="#cb85-339" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-340"><a href="#cb85-340" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-341"><a href="#cb85-341" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tabyl</span>(campaign_name, video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb85-342"><a href="#cb85-342" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, Animal, Climate, Poverty, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb85-343"><a href="#cb85-343" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Campaign names and video themes: unique impressions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-344"><a href="#cb85-344" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb85-345"><a href="#cb85-345" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-346"><a href="#cb85-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-347"><a href="#cb85-347" aria-hidden="true" tabindex="-1"></a>reach_campaign_audience <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span> <span class="co">#created but not shown for now</span></span>
<span id="cb85-348"><a href="#cb85-348" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, audience, reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-349"><a href="#cb85-349" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-350"><a href="#cb85-350" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-351"><a href="#cb85-351" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tabyl</span>(campaign_name, audience) <span class="sc">%&gt;%</span></span>
<span id="cb85-352"><a href="#cb85-352" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Campaign names and audiences: unique impressions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-353"><a href="#cb85-353" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb85-354"><a href="#cb85-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-355"><a href="#cb85-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-356"><a href="#cb85-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-357"><a href="#cb85-357" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-358"><a href="#cb85-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-359"><a href="#cb85-359" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-360"><a href="#cb85-360" aria-hidden="true" tabindex="-1"></a><span class="fu">## Versions of videos: unique impressions</span></span>
<span id="cb85-361"><a href="#cb85-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-364"><a href="#cb85-364" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-365"><a href="#cb85-365" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-366"><a href="#cb85-366" aria-hidden="true" tabindex="-1"></a>  versions_of_videos <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-367"><a href="#cb85-367" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, version, reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-368"><a href="#cb85-368" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-369"><a href="#cb85-369" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-370"><a href="#cb85-370" aria-hidden="true" tabindex="-1"></a>   table <span class="sc">%&gt;%</span></span>
<span id="cb85-371"><a href="#cb85-371" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Versions of videos: unique impressions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-372"><a href="#cb85-372" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb85-373"><a href="#cb85-373" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-374"><a href="#cb85-374" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-375"><a href="#cb85-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-376"><a href="#cb85-376" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-377"><a href="#cb85-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-378"><a href="#cb85-378" aria-hidden="true" tabindex="-1"></a>Some audiences were profiled as associated with a certain cause (through their Facebook interests or activities): in 'cause-focused' campaigns they were shown videos  for their profiled cause. In campaigns that were not cause-focused, they were shown general interest videos. However, those associated with one cause were never shown videos for other causes.</span>
<span id="cb85-379"><a href="#cb85-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-380"><a href="#cb85-380" aria-hidden="true" tabindex="-1"></a>Audiences not associated with a cause included the 'General' audience, the Philanthropy (interested in charity) audience, a GWWC 'Lookalike' audience, and a Retargeted audience: these were shown either the more general-interest videos or particular cause videos. ^<span class="co">[</span><span class="ot">Unfortunately, for these groups, we cannot extract the data on *which* cause-specific video they saw in combination with certain other categories, like 'which text' or demographics. This breaks up our analysis a bit.</span><span class="co">]</span> This is illustrated in the table below.</span>
<span id="cb85-381"><a href="#cb85-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-382"><a href="#cb85-382" aria-hidden="true" tabindex="-1"></a>:::{.column-body-outset}</span>
<span id="cb85-383"><a href="#cb85-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-384"><a href="#cb85-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-385"><a href="#cb85-385" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reach_video_audience}</span></span>
<span id="cb85-386"><a href="#cb85-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-387"><a href="#cb85-387" aria-hidden="true" tabindex="-1"></a>video_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Poverty"</span>, <span class="st">"Factual short"</span>,  <span class="st">"Factual long"</span>, <span class="st">"Hypercube (factual)"</span>, <span class="st">"Total"</span>)</span>
<span id="cb85-388"><a href="#cb85-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-389"><a href="#cb85-389" aria-hidden="true" tabindex="-1"></a>audience_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Global Poverty"</span>, <span class="st">"Philanthropy"</span>, <span class="st">"General audience"</span>, <span class="st">"Lookalikes"</span>, <span class="st">"Retargeting"</span>)</span>
<span id="cb85-390"><a href="#cb85-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-391"><a href="#cb85-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-392"><a href="#cb85-392" aria-hidden="true" tabindex="-1"></a>adorn_opts <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb85-393"><a href="#cb85-393" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb85-394"><a href="#cb85-394" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_percentages</span>(<span class="st">"all"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-395"><a href="#cb85-395" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="fu">c</span>(<span class="st">"row"</span>, <span class="st">"col"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb85-396"><a href="#cb85-396" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_pct_formatting</span>(<span class="at">digits =</span> <span class="dv">2</span>) </span>
<span id="cb85-397"><a href="#cb85-397" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-398"><a href="#cb85-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-399"><a href="#cb85-399" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-400"><a href="#cb85-400" aria-hidden="true" tabindex="-1"></a>reach_video_audience <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb85-401"><a href="#cb85-401" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, audience, reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-402"><a href="#cb85-402" aria-hidden="true" tabindex="-1"></a>    <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-403"><a href="#cb85-403" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-404"><a href="#cb85-404" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabyl</span>(video_theme, audience) <span class="sc">%&gt;%</span></span>
<span id="cb85-405"><a href="#cb85-405" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_opts</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb85-406"><a href="#cb85-406" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, Animal, Climate, <span class="st">`</span><span class="at">Global Poverty</span><span class="st">`</span>, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb85-407"><a href="#cb85-407" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">video_theme =</span>  <span class="fu">factor</span>(video_theme, <span class="at">levels =</span> video_levels)) <span class="sc">%&gt;%</span></span>
<span id="cb85-408"><a href="#cb85-408" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(video_theme)  <span class="sc">%&gt;%</span></span>
<span id="cb85-409"><a href="#cb85-409" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Video themes by audience: share of unique impressions"</span>, <span class="at">digits=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-410"><a href="#cb85-410" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb85-411"><a href="#cb85-411" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-412"><a href="#cb85-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-413"><a href="#cb85-413" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-414"><a href="#cb85-414" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-415"><a href="#cb85-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-416"><a href="#cb85-416" aria-hidden="true" tabindex="-1"></a>:::{.column-body-outset}</span>
<span id="cb85-417"><a href="#cb85-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-418"><a href="#cb85-418" aria-hidden="true" tabindex="-1"></a>Below, we see that the second treatment dimension -- text presented along with the video -- was allowed to vary independently of the video (but these are probably not 'statistically independent').</span>
<span id="cb85-419"><a href="#cb85-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-420"><a href="#cb85-420" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reach_video_text}</span></span>
<span id="cb85-421"><a href="#cb85-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-422"><a href="#cb85-422" aria-hidden="true" tabindex="-1"></a>video_levels_gg <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Poverty"</span>, <span class="st">"Cause-led (any)"</span>, <span class="st">"Factual short"</span>,  <span class="st">"Factual long"</span>, <span class="st">"Hypercube (factual)"</span>, <span class="st">"Total"</span>)</span>
<span id="cb85-423"><a href="#cb85-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-424"><a href="#cb85-424" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-425"><a href="#cb85-425" aria-hidden="true" tabindex="-1"></a>  reach_video_text <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-426"><a href="#cb85-426" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, text_treat, reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-427"><a href="#cb85-427" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-428"><a href="#cb85-428" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-429"><a href="#cb85-429" aria-hidden="true" tabindex="-1"></a>        <span class="fu">tabyl</span>(video_theme, text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb85-430"><a href="#cb85-430" aria-hidden="true" tabindex="-1"></a>       <span class="fu">adorn_opts</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb85-431"><a href="#cb85-431" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">video_theme =</span>  <span class="fu">factor</span>(video_theme, <span class="at">levels =</span> video_levels_gg)) <span class="sc">%&gt;%</span></span>
<span id="cb85-432"><a href="#cb85-432" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(video_theme)  <span class="sc">%&gt;%</span></span>
<span id="cb85-433"><a href="#cb85-433" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Video themes by text treatment: unique impressions"</span>, <span class="at">digits=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-434"><a href="#cb85-434" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb85-435"><a href="#cb85-435" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-436"><a href="#cb85-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-437"><a href="#cb85-437" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-438"><a href="#cb85-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-439"><a href="#cb85-439" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-440"><a href="#cb85-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-441"><a href="#cb85-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-442"><a href="#cb85-442" aria-hidden="true" tabindex="-1"></a>^<span class="co">[</span><span class="ot">Again, note, above that we cannot identify all of the video treatments in the same dataset with text treatments; this is a limitation of the Facebook interface.</span><span class="co">]</span></span>
<span id="cb85-443"><a href="#cb85-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-444"><a href="#cb85-444" aria-hidden="true" tabindex="-1"></a>However, note that treatment shares are not equal.  In fact, as the first table in this section  shows, they are not even equal within each campaign. This is because Facebook optimizes to show more succesful videos and text more than less succesful versions.^<span class="co">[</span><span class="ot">This also may lead FB to particularly combine certain message presentations more with certain video presentations. However we cannot check this in our current setup: it is confounded with 'audience profile' (at least in the data we can observe).</span><span class="co">]</span></span>
<span id="cb85-445"><a href="#cb85-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-446"><a href="#cb85-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-447"><a href="#cb85-447" aria-hidden="true" tabindex="-1"></a>As shown in the fold below, the set of text treatments varied across campaigns:</span>
<span id="cb85-448"><a href="#cb85-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-449"><a href="#cb85-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-450"><a href="#cb85-450" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-451"><a href="#cb85-451" aria-hidden="true" tabindex="-1"></a><span class="fu">## Text treatments by campaign</span></span>
<span id="cb85-452"><a href="#cb85-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-453"><a href="#cb85-453" aria-hidden="true" tabindex="-1"></a>Below, we present the text treatments *as shares of each campaign's unique impressions*. We see that the text treatments varied as shares of the treatments in each campaign. Some texts were swapped for other texts in later campaigns. But even among campaigns that used the same overall set of texts, there was some dramatic variation E.g., the '100x impact' was favored heavily in the 'Factual V2' campaign, while the other 'Factual' campaigns used this much less frequently. This presumably resulted from it performing better in the earliest hours of the Factual V2 trial, and Facebook's algorithm thus favoring it. </span>
<span id="cb85-454"><a href="#cb85-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-457"><a href="#cb85-457" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-458"><a href="#cb85-458" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-459"><a href="#cb85-459" aria-hidden="true" tabindex="-1"></a>  reach_text_campaign <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-460"><a href="#cb85-460" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, text_treat, reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-461"><a href="#cb85-461" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-462"><a href="#cb85-462" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-463"><a href="#cb85-463" aria-hidden="true" tabindex="-1"></a> <span class="fu">tabyl</span>(campaign_name, text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb85-464"><a href="#cb85-464" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_percentages</span>(<span class="st">"row"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-465"><a href="#cb85-465" aria-hidden="true" tabindex="-1"></a>     <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="fu">c</span>(<span class="st">"col"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb85-466"><a href="#cb85-466" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_pct_formatting</span>(<span class="at">digits =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-467"><a href="#cb85-467" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Text treatments as shares of unique impressions by campaign"</span>, <span class="at">digits=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-468"><a href="#cb85-468" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb85-469"><a href="#cb85-469" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-470"><a href="#cb85-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-471"><a href="#cb85-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-472"><a href="#cb85-472" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-473"><a href="#cb85-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-474"><a href="#cb85-474" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-475"><a href="#cb85-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-476"><a href="#cb85-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-477"><a href="#cb85-477" aria-hidden="true" tabindex="-1"></a><span class="fu">### Demographics</span></span>
<span id="cb85-478"><a href="#cb85-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-481"><a href="#cb85-481" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-482"><a href="#cb85-482" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-483"><a href="#cb85-483" aria-hidden="true" tabindex="-1"></a>  reach_age_gender <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-484"><a href="#cb85-484" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(age, gender, reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-485"><a href="#cb85-485" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-486"><a href="#cb85-486" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-487"><a href="#cb85-487" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(age, gender) <span class="sc">%&gt;%</span></span>
<span id="cb85-488"><a href="#cb85-488" aria-hidden="true" tabindex="-1"></a>       <span class="fu">adorn_opts</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb85-489"><a href="#cb85-489" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Unique impressions: shares by Age and Gender"</span>, <span class="at">digits=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-490"><a href="#cb85-490" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb85-491"><a href="#cb85-491" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-492"><a href="#cb85-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-493"><a href="#cb85-493" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-494"><a href="#cb85-494" aria-hidden="true" tabindex="-1"></a>As can be clearly seen above, within all age groups, the ad was disproportionally shown to women. Relative to the <span class="co">[</span><span class="ot">overall Facebook population</span><span class="co">](https://www.statista.com/statistics/187549/facebook-distribution-of-users-age-group-usa/#:~:text=As%20of%20June%202022%2C%2023.5,13%20to%2017%20years%20old)</span> our data skews very slightly younger.^<span class="co">[</span><span class="ot">But we essentially excluded the  13-17 age group.</span><span class="co">]</span></span>
<span id="cb85-495"><a href="#cb85-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-496"><a href="#cb85-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-497"><a href="#cb85-497" aria-hidden="true" tabindex="-1"></a><span class="in">```{r statista, out.width="40%"}</span></span>
<span id="cb85-498"><a href="#cb85-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-499"><a href="#cb85-499" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_url</span>(<span class="st">"https://www.statista.com/statistics/187549/facebook-distribution-of-users-age-group-usa/#:~:text=As%20of%20June%202022%2C%2023.5,13%20to%2017%20years%20old"</span>)</span>
<span id="cb85-500"><a href="#cb85-500" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-501"><a href="#cb85-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-502"><a href="#cb85-502" aria-hidden="true" tabindex="-1"></a><span class="fu">### Outcomes</span></span>
<span id="cb85-503"><a href="#cb85-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-504"><a href="#cb85-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-505"><a href="#cb85-505" aria-hidden="true" tabindex="-1"></a>Below, we present the dates of each campaign, along with start dates and results:</span>
<span id="cb85-506"><a href="#cb85-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-507"><a href="#cb85-507" aria-hidden="true" tabindex="-1"></a>:::{.column-body-outset}</span>
<span id="cb85-508"><a href="#cb85-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-509"><a href="#cb85-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-510"><a href="#cb85-510" aria-hidden="true" tabindex="-1"></a><span class="in">```{r campaign_date_outcomes}</span></span>
<span id="cb85-511"><a href="#cb85-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-512"><a href="#cb85-512" aria-hidden="true" tabindex="-1"></a>base_results_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb85-513"><a href="#cb85-513" aria-hidden="true" tabindex="-1"></a>    df <span class="sc">%&gt;%</span></span>
<span id="cb85-514"><a href="#cb85-514" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">summarize</span>(</span>
<span id="cb85-515"><a href="#cb85-515" aria-hidden="true" tabindex="-1"></a>  <span class="at">Cost =</span> <span class="fu">sum</span>(<span class="fu">round</span>(amount_spent_usd,<span class="dv">0</span>)),</span>
<span id="cb85-516"><a href="#cb85-516" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">reach</span><span class="st">`</span><span class="ot">=</span><span class="fu">sum</span>(reach),</span>
<span id="cb85-517"><a href="#cb85-517" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span><span class="ot">=</span><span class="fu">sum</span>(link_clicks, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb85-518"><a href="#cb85-518" aria-hidden="true" tabindex="-1"></a>      <span class="at">Results=</span><span class="fu">sum</span>(results, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb85-519"><a href="#cb85-519" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">$/ impr.</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Cost<span class="sc">/</span>reach,<span class="dv">3</span>),</span>
<span id="cb85-520"><a href="#cb85-520" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">$/ click</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Cost<span class="sc">/</span> <span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>,<span class="dv">1</span>),</span>
<span id="cb85-521"><a href="#cb85-521" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Cost<span class="sc">/</span>Results,<span class="dv">1</span>),</span>
<span id="cb85-522"><a href="#cb85-522" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Results/ 1k impr.</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Results<span class="sc">*</span><span class="dv">1000</span><span class="sc">/</span>reach,<span class="dv">1</span>)</span>
<span id="cb85-523"><a href="#cb85-523" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-524"><a href="#cb85-524" aria-hidden="true" tabindex="-1"></a>     }</span>
<span id="cb85-525"><a href="#cb85-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-526"><a href="#cb85-526" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-527"><a href="#cb85-527" aria-hidden="true" tabindex="-1"></a>  campaign_date_outcomes <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-528"><a href="#cb85-528" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(campaign_name, starts) <span class="sc">%&gt;%</span></span>
<span id="cb85-529"><a href="#cb85-529" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="st">'Campaign'</span> <span class="ot">=</span> campaign_name) <span class="sc">%&gt;%</span></span>
<span id="cb85-530"><a href="#cb85-530" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">200</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-531"><a href="#cb85-531" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb85-532"><a href="#cb85-532" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(starts) <span class="sc">%&gt;%</span></span>
<span id="cb85-533"><a href="#cb85-533" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Campaign and start date"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-534"><a href="#cb85-534" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-535"><a href="#cb85-535" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_footnote</span>(<span class="st">"'False start' campaign dates with less than 200 reach are excluded"</span>)</span>
<span id="cb85-536"><a href="#cb85-536" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-537"><a href="#cb85-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-538"><a href="#cb85-538" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-539"><a href="#cb85-539" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-540"><a href="#cb85-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-541"><a href="#cb85-541" aria-hidden="true" tabindex="-1"></a>Next, the results by age and gender. As our age filters changed over time, we do this first for the earlier trials, when all age groups were included.</span>
<span id="cb85-542"><a href="#cb85-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-543"><a href="#cb85-543" aria-hidden="true" tabindex="-1"></a><span class="in">```{r age_gender_outcomes}</span></span>
<span id="cb85-544"><a href="#cb85-544" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-545"><a href="#cb85-545" aria-hidden="true" tabindex="-1"></a>  age_outcomes_pre_12_09 <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-546"><a href="#cb85-546" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb85-547"><a href="#cb85-547" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">500</span>, starts<span class="sc">&lt;=</span> <span class="st">"2021-12-08"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-548"><a href="#cb85-548" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-549"><a href="#cb85-549" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Age: Campaigns starting on or before Dec 8 2021"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-550"><a href="#cb85-550" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb85-551"><a href="#cb85-551" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-552"><a href="#cb85-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-553"><a href="#cb85-553" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-554"><a href="#cb85-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-555"><a href="#cb85-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-556"><a href="#cb85-556" aria-hidden="true" tabindex="-1"></a>While ^<span class="co">[</span><span class="ot">this text is 'hard-coded' on 4 Aug 2022 ... if data changes we need to change the text</span><span class="co">]</span> older age groups yield more results per impression, they are also more expensive. This approximately balances out, although the age 18-24 group are particular costly per result!</span>
<span id="cb85-557"><a href="#cb85-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-558"><a href="#cb85-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-559"><a href="#cb85-559" aria-hidden="true" tabindex="-1"></a>In later trials we only targeted the younger age groups; the cost per results were similar to earlier trials , and fairly close among the younger age groups (see fold).</span>
<span id="cb85-560"><a href="#cb85-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-561"><a href="#cb85-561" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-562"><a href="#cb85-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-563"><a href="#cb85-563" aria-hidden="true" tabindex="-1"></a><span class="fu">## By age, later trials</span></span>
<span id="cb85-564"><a href="#cb85-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-565"><a href="#cb85-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-566"><a href="#cb85-566" aria-hidden="true" tabindex="-1"></a><span class="in">```{r age_outcomes_post_12_09}</span></span>
<span id="cb85-567"><a href="#cb85-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-568"><a href="#cb85-568" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-569"><a href="#cb85-569" aria-hidden="true" tabindex="-1"></a>  age_outcomes_post_12_09 <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-570"><a href="#cb85-570" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb85-571"><a href="#cb85-571" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">500</span>, starts <span class="sc">&gt;</span> <span class="st">"2021-12-08"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-572"><a href="#cb85-572" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-573"><a href="#cb85-573" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Age: Campaigns starting on or after Dec 23 2021"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-574"><a href="#cb85-574" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb85-575"><a href="#cb85-575" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-576"><a href="#cb85-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-577"><a href="#cb85-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-578"><a href="#cb85-578" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-579"><a href="#cb85-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-580"><a href="#cb85-580" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-581"><a href="#cb85-581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-582"><a href="#cb85-582" aria-hidden="true" tabindex="-1"></a>Women gave their emails at a somewhat higher rate overall, but their (unique) impressions were a bit more costly. Thus cost per result roughly balanced out. Nonetheless, this might be somewhat informative for other contexts; women might be a particular promising audience, all else equal.</span>
<span id="cb85-583"><a href="#cb85-583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-586"><a href="#cb85-586" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-587"><a href="#cb85-587" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-588"><a href="#cb85-588" aria-hidden="true" tabindex="-1"></a>  gender_outcomes <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-589"><a href="#cb85-589" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(gender) <span class="sc">%&gt;%</span></span>
<span id="cb85-590"><a href="#cb85-590" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-591"><a href="#cb85-591" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Gender"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-592"><a href="#cb85-592" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb85-593"><a href="#cb85-593" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-594"><a href="#cb85-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-595"><a href="#cb85-595" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-596"><a href="#cb85-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-597"><a href="#cb85-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-598"><a href="#cb85-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-599"><a href="#cb85-599" aria-hidden="true" tabindex="-1"></a>Next we describe the outcomes by our 'video' treatments,  focusing on the 'Philanthropy-interested' audience only, for comparability.</span>
<span id="cb85-600"><a href="#cb85-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-601"><a href="#cb85-601" aria-hidden="true" tabindex="-1"></a><span class="in">```{r audience_outcomes}</span></span>
<span id="cb85-602"><a href="#cb85-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-603"><a href="#cb85-603" aria-hidden="true" tabindex="-1"></a>video_outcomes_phil_0 <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb85-604"><a href="#cb85-604" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">==</span><span class="st">"Philanthropy"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-605"><a href="#cb85-605" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb85-606"><a href="#cb85-606" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() </span>
<span id="cb85-607"><a href="#cb85-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-608"><a href="#cb85-608" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-609"><a href="#cb85-609" aria-hidden="true" tabindex="-1"></a>video_outcomes_phil <span class="ot">&lt;-</span> video_outcomes_phil_0 <span class="sc">%&gt;%</span> </span>
<span id="cb85-610"><a href="#cb85-610" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb85-611"><a href="#cb85-611" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Video theme for 'Philanthropy' audience"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-612"><a href="#cb85-612" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb85-613"><a href="#cb85-613" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-614"><a href="#cb85-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-615"><a href="#cb85-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-616"><a href="#cb85-616" aria-hidden="true" tabindex="-1"></a>bot_table <span class="ot">&lt;-</span> <span class="cf">function</span>(df,  outvar, outcol) {</span>
<span id="cb85-617"><a href="#cb85-617" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb85-618"><a href="#cb85-618" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>({{outvar}}) <span class="sc">%&gt;%</span></span>
<span id="cb85-619"><a href="#cb85-619" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>({{outcol}}) <span class="sc">%&gt;%</span> </span>
<span id="cb85-620"><a href="#cb85-620" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_if</span>(is.factor, as.character) <span class="sc">%&gt;%</span></span>
<span id="cb85-621"><a href="#cb85-621" aria-hidden="true" tabindex="-1"></a>    .[[<span class="dv">1</span>,<span class="dv">1</span>]] </span>
<span id="cb85-622"><a href="#cb85-622" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb85-623"><a href="#cb85-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-624"><a href="#cb85-624" aria-hidden="true" tabindex="-1"></a>top_table <span class="ot">&lt;-</span> <span class="cf">function</span>(df, outcol, outvar) {</span>
<span id="cb85-625"><a href="#cb85-625" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb85-626"><a href="#cb85-626" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>{{outvar}}) <span class="sc">%&gt;%</span></span>
<span id="cb85-627"><a href="#cb85-627" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>({{outcol}}) <span class="sc">%&gt;%</span></span>
<span id="cb85-628"><a href="#cb85-628" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_if</span>(is.factor, as.character) <span class="sc">%&gt;%</span></span>
<span id="cb85-629"><a href="#cb85-629" aria-hidden="true" tabindex="-1"></a>    .[[<span class="dv">1</span>,<span class="dv">1</span>]]</span>
<span id="cb85-630"><a href="#cb85-630" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-631"><a href="#cb85-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-632"><a href="#cb85-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-633"><a href="#cb85-633" aria-hidden="true" tabindex="-1"></a><span class="co"># { ov &lt;- {{outvar}}</span></span>
<span id="cb85-634"><a href="#cb85-634" aria-hidden="true" tabindex="-1"></a><span class="co"># ifelse(reverse,</span></span>
<span id="cb85-635"><a href="#cb85-635" aria-hidden="true" tabindex="-1"></a><span class="co">#          dplyr::arrange(ov),</span></span>
<span id="cb85-636"><a href="#cb85-636" aria-hidden="true" tabindex="-1"></a><span class="co">#    dplyr::arrange(-ov)</span></span>
<span id="cb85-637"><a href="#cb85-637" aria-hidden="true" tabindex="-1"></a><span class="co">#   )} %&gt;% </span></span>
<span id="cb85-638"><a href="#cb85-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-639"><a href="#cb85-639" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb85-640"><a href="#cb85-640" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::arrange({{outvar}}),</span></span>
<span id="cb85-641"><a href="#cb85-641" aria-hidden="true" tabindex="-1"></a> <span class="co">#         dplyr::arrange(-{{outvar}}))} %&gt;% </span></span>
<span id="cb85-642"><a href="#cb85-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-643"><a href="#cb85-643" aria-hidden="true" tabindex="-1"></a>top_vid_phil <span class="ot">&lt;-</span> video_outcomes_phil_0 <span class="sc">%&gt;%</span> <span class="fu">bot_table</span>( <span class="at">outvar=</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>, <span class="at">outcol=</span>video_theme)</span>
<span id="cb85-644"><a href="#cb85-644" aria-hidden="true" tabindex="-1"></a>bot_vid_phil <span class="ot">&lt;-</span> video_outcomes_phil_0 <span class="sc">%&gt;%</span> <span class="fu">top_table</span>( <span class="at">outvar=</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>, <span class="at">outcol=</span>video_theme)</span>
<span id="cb85-645"><a href="#cb85-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-646"><a href="#cb85-646" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-647"><a href="#cb85-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-648"><a href="#cb85-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-649"><a href="#cb85-649" aria-hidden="true" tabindex="-1"></a>The <span class="in">`r top_vid_phil`</span> video performed particularly well on the philanthropy-interested audience filter, while <span class="in">`r bot_vid_phil`</span> performed the worst.^<span class="co">[</span><span class="ot">Tech note: the video names in the previous sentence are soft-coded, i.e., inline code; see the previous chunk where we identify the `top_vid_phil` and `bot_vid_phil`.</span><span class="co">]</span></span>
<span id="cb85-650"><a href="#cb85-650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-651"><a href="#cb85-651" aria-hidden="true" tabindex="-1"></a>Next, we compare the text treatments for the later campaigns only. The earlier and later campaigns had a slightly different set of texts; combining across these risks confounding multiple dimensions.</span>
<span id="cb85-652"><a href="#cb85-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-653"><a href="#cb85-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-656"><a href="#cb85-656" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-657"><a href="#cb85-657" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-658"><a href="#cb85-658" aria-hidden="true" tabindex="-1"></a>  outcomes_by_text <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-659"><a href="#cb85-659" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(campaign_name, <span class="st">"factual|hyper"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb85-660"><a href="#cb85-660" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb85-661"><a href="#cb85-661" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-662"><a href="#cb85-662" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by text; later campaigns"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-663"><a href="#cb85-663" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb85-664"><a href="#cb85-664" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-665"><a href="#cb85-665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-666"><a href="#cb85-666" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-667"><a href="#cb85-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-668"><a href="#cb85-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-669"><a href="#cb85-669" aria-hidden="true" tabindex="-1"></a>We next consider results by audience, focusing on non-cause treatments for comparability.</span>
<span id="cb85-670"><a href="#cb85-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-671"><a href="#cb85-671" aria-hidden="true" tabindex="-1"></a>:::{.column-body-outset}</span>
<span id="cb85-672"><a href="#cb85-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-673"><a href="#cb85-673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-676"><a href="#cb85-676" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-677"><a href="#cb85-677" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-678"><a href="#cb85-678" aria-hidden="true" tabindex="-1"></a>  audience_outcomes <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb85-679"><a href="#cb85-679" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(audience) <span class="sc">%&gt;%</span></span>
<span id="cb85-680"><a href="#cb85-680" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(video_theme, <span class="st">"Factual|factual"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb85-681"><a href="#cb85-681" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-682"><a href="#cb85-682" aria-hidden="true" tabindex="-1"></a>    DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Results by audience for non-cause videos"</span>)</span>
<span id="cb85-683"><a href="#cb85-683" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-684"><a href="#cb85-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-685"><a href="#cb85-685" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-686"><a href="#cb85-686" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-687"><a href="#cb85-687" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-688"><a href="#cb85-688" aria-hidden="true" tabindex="-1"></a>Above, we look at the performance of different audiences. As cause-specific audiences tend to be presented particular cause videos, we focus only on non-cause-related videos here for greater comparability across audiences.</span>
<span id="cb85-689"><a href="#cb85-689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-690"><a href="#cb85-690" aria-hidden="true" tabindex="-1"></a>*Format note:* The final table above is presented with the <span class="in">`Datatables`</span> package/function. This allows sorting, filtering, etc. We can present more tables in this format if it is preferable.</span>
<span id="cb85-691"><a href="#cb85-691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-692"><a href="#cb85-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-693"><a href="#cb85-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-694"><a href="#cb85-694" aria-hidden="true" tabindex="-1"></a><span class="fu">## Asking and answering questions</span></span>
<span id="cb85-695"><a href="#cb85-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-696"><a href="#cb85-696" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-697"><a href="#cb85-697" aria-hidden="true" tabindex="-1"></a><span class="fu">## This dynamic document format allows us to ask and answer a series of questions</span></span>
<span id="cb85-698"><a href="#cb85-698" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-699"><a href="#cb85-699" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Using the data, with all coding steps shown</span>
<span id="cb85-700"><a href="#cb85-700" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Ideally, following a pre-defined (pre-analysis) plan</span>
<span id="cb85-701"><a href="#cb85-701" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Using the data and statistics directly and automatically in the narrative</span>
<span id="cb85-702"><a href="#cb85-702" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>And everything will be automatically adjusted if we bring in new data or adjust/correct features</span>
<span id="cb85-703"><a href="#cb85-703" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-704"><a href="#cb85-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-705"><a href="#cb85-705" aria-hidden="true" tabindex="-1"></a><span class="fu">### In this context, how much does it cost to get a 'Result", i.e., to get a person to give their email to receive a Giving Guide? {.unnumbered}</span></span>
<span id="cb85-706"><a href="#cb85-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-707"><a href="#cb85-707" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-708"><a href="#cb85-708" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-709"><a href="#cb85-709" aria-hidden="true" tabindex="-1"></a><span class="fu">## Cost per result (CpR) as the result of several processes...</span></span>
<span id="cb85-710"><a href="#cb85-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-711"><a href="#cb85-711" aria-hidden="true" tabindex="-1"></a>How should we consider this outcome?    At the base level the Cost per Result ('CpR') for a 'segment' (a particular ad version, audience, campaign, etc), comes from several interrelated processes:</span>
<span id="cb85-712"><a href="#cb85-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-713"><a href="#cb85-713" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>How much FB charges us for this segment</span>
<span id="cb85-714"><a href="#cb85-714" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Who FB serves this segment to (what types of people, how many)</span>
<span id="cb85-715"><a href="#cb85-715" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>How many people in that segment click and then 'convert', yielding a result</span>
<span id="cb85-716"><a href="#cb85-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-717"><a href="#cb85-717" aria-hidden="true" tabindex="-1"></a>We could try to model each of these processes, but it could be very involved, and we don't fully observe or understand the second step, FB's optimization algorithm.</span>
<span id="cb85-718"><a href="#cb85-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-719"><a href="#cb85-719" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-720"><a href="#cb85-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-721"><a href="#cb85-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-722"><a href="#cb85-722" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-723"><a href="#cb85-723" aria-hidden="true" tabindex="-1"></a><span class="fu">## Rambling about the unit of observation, and a possible multi-equation model</span></span>
<span id="cb85-724"><a href="#cb85-724" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-725"><a href="#cb85-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-726"><a href="#cb85-726" aria-hidden="true" tabindex="-1"></a> I still want to model "cost per result" (or perhaps better "results per cost") as a function of the different levers we can pull (audience filters, video content, message content, etc.). But I'm not quite sure how to model it, in particular, how to think about the unit of observation and the outcome variability, for statistical inference.</span>
<span id="cb85-727"><a href="#cb85-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-728"><a href="#cb85-728" aria-hidden="true" tabindex="-1"></a>Fundamentally, the data represents a lot of rows of mostly 0's (no result, no email left) with a few 1's. Each of these rows has a set of design features; the 'levers' above, as well as some other features like demographics and calendar date (although FB makes it difficult/impossible to view everything together.)</span>
<span id="cb85-729"><a href="#cb85-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-730"><a href="#cb85-730" aria-hidden="true" tabindex="-1"></a>We could examine the relationship between the features and the 'probability an individual yields a result'. I guess 'cost' could be one of those features, in something like a logit model.  A transformation of the function $p(result) = a + b_1 \times cost \times (b_2 \timems AdVersion +b_3 \times audience + b_4 \times AdVersion*audience +... ), perhaps.</span>
<span id="cb85-731"><a href="#cb85-731" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-732"><a href="#cb85-732" aria-hidden="true" tabindex="-1"></a>But cost (cost per impression) is also a function of some of these characteristics.  We could examine the relationship between cost and these features in a separate equation and somehow try to simultaneously estimate these ... but it's challenging.</span>
<span id="cb85-733"><a href="#cb85-733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-734"><a href="#cb85-734" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-735"><a href="#cb85-735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-736"><a href="#cb85-736" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-737"><a href="#cb85-737" aria-hidden="true" tabindex="-1"></a><span class="fu">## CpR as a black box...</span></span>
<span id="cb85-738"><a href="#cb85-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-739"><a href="#cb85-739" aria-hidden="true" tabindex="-1"></a>Alternatively, we could think of the CpR for a segment as just a 'base outcome to model', and treat it as a sort of black box. This would suggests we have 'only one CpR coutcome per segment', and each segment has different characteristics ('features' or 'variables'), some in common. But that discards some important information: the mean values for segments with more observations (here, 'reach') can be expected to have less variance (lower standard error), all else equal.</span>
<span id="cb85-740"><a href="#cb85-740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-741"><a href="#cb85-741" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-742"><a href="#cb85-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-743"><a href="#cb85-743" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-744"><a href="#cb85-744" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-745"><a href="#cb85-745" aria-hidden="true" tabindex="-1"></a><span class="fu">## CpR as the average of a lot of black boxes...</span></span>
<span id="cb85-746"><a href="#cb85-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-747"><a href="#cb85-747" aria-hidden="true" tabindex="-1"></a>We can do something intermediate -- taking the aggregation into account, without fully building a structural model of the factors above.  Within each segment, we can consider the 'average cost per result' outcome for each individual as the expected value of a random draw. Each individual has some 'cost per impression', and some 'probability of a result'. The ratio of these is the individual's 'expected cost per result ... which we can also abstract as just some random draw. This may be considered as a function of 'all the characteristics of the segment the individual is in'. The CpR for the segment is thus an average of the CpR for all the individuals in the segment, and we can use 'regression weights' (technically 'inverse variance weights'; see discussion in <span class="co">[</span><span class="ot">Huntington-Klein's book here</span><span class="co">](https://theeffectbook.net/ch-StatisticalAdjustment.html#sample-weights)</span>) in our model to reflect this.</span>
<span id="cb85-748"><a href="#cb85-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-749"><a href="#cb85-749" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-750"><a href="#cb85-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-751"><a href="#cb85-751" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- Each segment has different observable preset characteristics: a particular combination of ad features, audience filter, time the campaign started, etc.</span></span>
<span id="cb85-752"><a href="#cb85-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-753"><a href="#cb85-753" aria-hidden="true" tabindex="-1"></a><span class="co">Segments also have different unobserved features: FB selectively chooses how to present the ad features, and to whom, and to how many people,  to maximize some outcome (considering an explore/exploit tradeoff). This makes some inference difficult.</span></span>
<span id="cb85-754"><a href="#cb85-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-755"><a href="#cb85-755" aria-hidden="true" tabindex="-1"></a><span class="co">But what I want to know is basically “which observable preset characteristics (the things we can control) yield the lowest CpR?“, and “how confident can I be in the relative differences in the CpR between these features?“.</span></span>
<span id="cb85-756"><a href="#cb85-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-757"><a href="#cb85-757" aria-hidden="true" tabindex="-1"></a><span class="co">It’s ~OK that some ad features may be more easily matched to amenable audiences, and thus we are  not learning ‘which performs better on a single group’. I might ~expect that whatever works best now, for whatever reason, will work better in the future.</span></span>
<span id="cb85-758"><a href="#cb85-758" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-759"><a href="#cb85-759" aria-hidden="true" tabindex="-1"></a><span class="co">I am thinking something like a linear (or log-linear) regression where</span></span>
<span id="cb85-760"><a href="#cb85-760" aria-hidden="true" tabindex="-1"></a><span class="co">the CpR for the segment is the outcome</span></span>
<span id="cb85-761"><a href="#cb85-761" aria-hidden="true" tabindex="-1"></a><span class="co">this is seen as a mean across observations, thus ~weighted by the size of the segment (number of people reached)</span></span>
<span id="cb85-762"><a href="#cb85-762" aria-hidden="true" tabindex="-1"></a><span class="co">possibly a mixed model, allowing for some random effects? (But I’m not great at that).</span></span>
<span id="cb85-763"><a href="#cb85-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-764"><a href="#cb85-764" aria-hidden="true" tabindex="-1"></a><span class="co">--&gt;</span></span>
<span id="cb85-765"><a href="#cb85-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-766"><a href="#cb85-766" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-767"><a href="#cb85-767" aria-hidden="true" tabindex="-1"></a><span class="fu">## Building a set of models (to do)</span></span>
<span id="cb85-768"><a href="#cb85-768" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-769"><a href="#cb85-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-770"><a href="#cb85-770" aria-hidden="true" tabindex="-1"></a><span class="in">```{r targets, eval=FALSE}</span></span>
<span id="cb85-771"><a href="#cb85-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-772"><a href="#cb85-772" aria-hidden="true" tabindex="-1"></a><span class="co">#targets:</span></span>
<span id="cb85-773"><a href="#cb85-773" aria-hidden="true" tabindex="-1"></a>bin_out <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"d_don_1k"</span>, <span class="st">"d_don_10pct"</span>)</span>
<span id="cb85-774"><a href="#cb85-774" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-775"><a href="#cb85-775" aria-hidden="true" tabindex="-1"></a>num_out <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'donation_usd'</span>, <span class="st">'don_av2_yr'</span>, <span class="st">'l_don_usd'</span>, <span class="st">"l_don_av_2yr"</span>, <span class="st">"don_share_inc_imp_bc5k"</span>, <span class="st">"donation_plan_usd"</span>)</span>
<span id="cb85-776"><a href="#cb85-776" aria-hidden="true" tabindex="-1"></a>targets <span class="ot">&lt;-</span> <span class="fu">c</span>(bin_out, num_out)</span>
<span id="cb85-777"><a href="#cb85-777" aria-hidden="true" tabindex="-1"></a>targets_short <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"don_av2_yr"</span>, <span class="st">"don_share_inc_imp_bc5k"</span>, <span class="st">"d_don_1k"</span>)</span>
<span id="cb85-778"><a href="#cb85-778" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-779"><a href="#cb85-779" aria-hidden="true" tabindex="-1"></a><span class="co">#Note -- don_av2_yr is the right one for qpoisson as it already expresses things in exponents. l_don_av2_yr was the one to use in the loglinear model, which we are not emphasizing</span></span>
<span id="cb85-780"><a href="#cb85-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-781"><a href="#cb85-781" aria-hidden="true" tabindex="-1"></a>targets_short_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Log (Avg don +1)"</span>, <span class="st">"Don/Income"</span>, <span class="st">"Donated 1k+"</span>)</span>
<span id="cb85-782"><a href="#cb85-782" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-783"><a href="#cb85-783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-784"><a href="#cb85-784" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-785"><a href="#cb85-785" aria-hidden="true" tabindex="-1"></a><span class="in">```{r impute_norm_features, warning=FALSE}</span></span>
<span id="cb85-786"><a href="#cb85-786" aria-hidden="true" tabindex="-1"></a><span class="co">#imputing and normalization</span></span>
<span id="cb85-787"><a href="#cb85-787" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-788"><a href="#cb85-788" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-789"><a href="#cb85-789" aria-hidden="true" tabindex="-1"></a><span class="in">```{r key_labels, eval=FALSE}</span></span>
<span id="cb85-790"><a href="#cb85-790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-791"><a href="#cb85-791" aria-hidden="true" tabindex="-1"></a><span class="co">#labeling for model output</span></span>
<span id="cb85-792"><a href="#cb85-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-793"><a href="#cb85-793" aria-hidden="true" tabindex="-1"></a>key_eas_all_labels <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="co">#note these are converted to a list with as.list before assigning them</span></span>
<span id="cb85-794"><a href="#cb85-794" aria-hidden="true" tabindex="-1"></a>    <span class="at">donation_usd =</span> <span class="st">"Donation (USD)"</span>,</span>
<span id="cb85-795"><a href="#cb85-795" aria-hidden="true" tabindex="-1"></a>    <span class="at">l_don_usd =</span> <span class="st">"Log Don. (USD)"</span>,</span>
<span id="cb85-796"><a href="#cb85-796" aria-hidden="true" tabindex="-1"></a>    <span class="at">l_don_av_2yr =</span> <span class="st">"Log Don. 'avg.'"</span>,</span>
<span id="cb85-797"><a href="#cb85-797" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_age =</span> <span class="st">"Log age"</span>,</span>
<span id="cb85-798"><a href="#cb85-798" aria-hidden="true" tabindex="-1"></a>    <span class="at">don_av2_yr =</span> <span class="st">"Don. 'avg'"</span>,</span>
<span id="cb85-799"><a href="#cb85-799" aria-hidden="true" tabindex="-1"></a>    <span class="at">donation_plan_usd =</span> <span class="st">"Don. plan (USD)"</span>)</span>
<span id="cb85-800"><a href="#cb85-800" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-801"><a href="#cb85-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-802"><a href="#cb85-802" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-803"><a href="#cb85-803" aria-hidden="true" tabindex="-1"></a><span class="in">```{r features, eval = FALSE}</span></span>
<span id="cb85-804"><a href="#cb85-804" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-805"><a href="#cb85-805" aria-hidden="true" tabindex="-1"></a>feat_list <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb85-806"><a href="#cb85-806" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(key_demog, feat_income_employ, controls),</span>
<span id="cb85-807"><a href="#cb85-807" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(key_demog, feat_income_employ, controls, robust_controls),</span>
<span id="cb85-808"><a href="#cb85-808" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(key_demog, feat_income_employ, feat_gwwc_etg, controls) )</span>
<span id="cb85-809"><a href="#cb85-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-810"><a href="#cb85-810" aria-hidden="true" tabindex="-1"></a>feat_names <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Baseline"</span>, <span class="st">"Robust controls"</span>,  <span class="st">"Base + EtG &amp; GWWC"</span>)</span>
<span id="cb85-811"><a href="#cb85-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-812"><a href="#cb85-812" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-813"><a href="#cb85-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-814"><a href="#cb85-814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-815"><a href="#cb85-815" aria-hidden="true" tabindex="-1"></a><span class="in">```{r vars_list, eval = FALSE}</span></span>
<span id="cb85-816"><a href="#cb85-816" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-817"><a href="#cb85-817" aria-hidden="true" tabindex="-1"></a>rhs_vars_list <span class="ot">&lt;-</span> <span class="fu">rep</span>(feat_list, <span class="fu">length</span>(targets_short))</span>
<span id="cb85-818"><a href="#cb85-818" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-819"><a href="#cb85-819" aria-hidden="true" tabindex="-1"></a>outcome_vars_list <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">as.list</span>(targets_short), <span class="at">each=</span><span class="fu">length</span>(feat_list))</span>
<span id="cb85-820"><a href="#cb85-820" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-821"><a href="#cb85-821" aria-hidden="true" tabindex="-1"></a>dfs <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">list</span>(eas_all_s_rl_imp), <span class="fu">length</span>(outcome_vars_list))</span>
<span id="cb85-822"><a href="#cb85-822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-823"><a href="#cb85-823" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-824"><a href="#cb85-824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-825"><a href="#cb85-825" aria-hidden="true" tabindex="-1"></a><span class="in">```{r model-prep-linear, warning=FALSE, eval = FALSE}</span></span>
<span id="cb85-826"><a href="#cb85-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-827"><a href="#cb85-827" aria-hidden="true" tabindex="-1"></a><span class="do">## Create dataframe for modeling</span></span>
<span id="cb85-828"><a href="#cb85-828" aria-hidden="true" tabindex="-1"></a>(linear_models <span class="ot">&lt;-</span> <span class="fu">make_model_df</span>(rhs_vars_list, outcome_vars_list, dfs))</span>
<span id="cb85-829"><a href="#cb85-829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-830"><a href="#cb85-830" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-831"><a href="#cb85-831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-832"><a href="#cb85-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-833"><a href="#cb85-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-834"><a href="#cb85-834" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-835"><a href="#cb85-835" aria-hidden="true" tabindex="-1"></a><span class="in">```{r fit_linear_models, eval=FALSE}</span></span>
<span id="cb85-836"><a href="#cb85-836" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-837"><a href="#cb85-837" aria-hidden="true" tabindex="-1"></a>linear_models <span class="ot">&lt;-</span> linear_models <span class="sc">%&gt;%</span></span>
<span id="cb85-838"><a href="#cb85-838" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb85-839"><a href="#cb85-839" aria-hidden="true" tabindex="-1"></a>    <span class="at">lm_fit =</span> <span class="fu">fit_models</span>(</span>
<span id="cb85-840"><a href="#cb85-840" aria-hidden="true" tabindex="-1"></a>      linear_models, <span class="st">"formulas"</span>, <span class="st">"dfs"</span>, <span class="at">fun =</span> fit_lm)</span>
<span id="cb85-841"><a href="#cb85-841" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb85-842"><a href="#cb85-842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-843"><a href="#cb85-843" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract coefficients, fitted and residuals</span></span>
<span id="cb85-844"><a href="#cb85-844" aria-hidden="true" tabindex="-1"></a>model_feat_names <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(feat_names), <span class="at">times=</span> <span class="fu">length</span>(targets_short))</span>
<span id="cb85-845"><a href="#cb85-845" aria-hidden="true" tabindex="-1"></a>model_oc_names <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(targets_short_names), <span class="at">each=</span> <span class="fu">length</span>(feat_names))</span>
<span id="cb85-846"><a href="#cb85-846" aria-hidden="true" tabindex="-1"></a>model_names <span class="ot">&lt;-</span> <span class="fu">paste</span>(model_oc_names, model_feat_names, <span class="at">sep =</span> <span class="st">": "</span>)</span>
<span id="cb85-847"><a href="#cb85-847" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-848"><a href="#cb85-848" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-849"><a href="#cb85-849" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-850"><a href="#cb85-850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-851"><a href="#cb85-851" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-852"><a href="#cb85-852" aria-hidden="true" tabindex="-1"></a><span class="fu">## Modeling goals/discussion/todo</span></span>
<span id="cb85-853"><a href="#cb85-853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-854"><a href="#cb85-854" aria-hidden="true" tabindex="-1"></a>*Rethinking (5 Aug 2022): Cost per result may not be the best outcome to model as a first pass. We might better model results per impression and put in a cost adjustment later. See</span>
<span id="cb85-855"><a href="#cb85-855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-856"><a href="#cb85-856" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Present mean/Bayesian updating:</span>
<span id="cb85-857"><a href="#cb85-857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-858"><a href="#cb85-858" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Overall cost/result</span>
<span id="cb85-859"><a href="#cb85-859" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>and for different audiences</span>
<span id="cb85-860"><a href="#cb85-860" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>random effects?</span>
<span id="cb85-861"><a href="#cb85-861" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>present posterior distribution and intervals</span>
<span id="cb85-862"><a href="#cb85-862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-863"><a href="#cb85-863" aria-hidden="true" tabindex="-1"></a>Or a stripped down 'simulation approach'?</span>
<span id="cb85-864"><a href="#cb85-864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-865"><a href="#cb85-865" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Model (multivariable regression):</span>
<span id="cb85-866"><a href="#cb85-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-867"><a href="#cb85-867" aria-hidden="true" tabindex="-1"></a>Cost/result as a function of</span>
<span id="cb85-868"><a href="#cb85-868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-869"><a href="#cb85-869" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>campaign (i.e., time of launch)</span>
<span id="cb85-870"><a href="#cb85-870" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>message</span>
<span id="cb85-871"><a href="#cb85-871" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>video</span>
<span id="cb85-872"><a href="#cb85-872" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>audience</span>
<span id="cb85-873"><a href="#cb85-873" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>gender</span>
<span id="cb85-874"><a href="#cb85-874" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>age</span>
<span id="cb85-875"><a href="#cb85-875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-876"><a href="#cb85-876" aria-hidden="true" tabindex="-1"></a>Linear and log-linear</span>
<span id="cb85-877"><a href="#cb85-877" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-878"><a href="#cb85-878" aria-hidden="true" tabindex="-1"></a>Random effects (how?)</span>
<span id="cb85-879"><a href="#cb85-879" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-880"><a href="#cb85-880" aria-hidden="true" tabindex="-1"></a>Present a set of estimates for the mean and 80% CI for cost/result for key groups</span>
<span id="cb85-881"><a href="#cb85-881" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-882"><a href="#cb85-882" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-883"><a href="#cb85-883" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-884"><a href="#cb85-884" aria-hidden="true" tabindex="-1"></a><span class="in">```{r set_base_levels}</span></span>
<span id="cb85-885"><a href="#cb85-885" aria-hidden="true" tabindex="-1"></a><span class="co">#set base levels before doing modeling</span></span>
<span id="cb85-886"><a href="#cb85-886" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-887"><a href="#cb85-887" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">factor</span>( gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>age,</span>
<span id="cb85-888"><a href="#cb85-888" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordered =</span> <span class="cn">FALSE</span> )</span>
<span id="cb85-889"><a href="#cb85-889" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-890"><a href="#cb85-890" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">relevel</span>( gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>age,</span>
<span id="cb85-891"><a href="#cb85-891" aria-hidden="true" tabindex="-1"></a>  <span class="at">ref=</span><span class="st">"18-24"</span>)</span>
<span id="cb85-892"><a href="#cb85-892" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-893"><a href="#cb85-893" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>audience <span class="ot">&lt;-</span> <span class="fu">factor</span>( gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>audience,</span>
<span id="cb85-894"><a href="#cb85-894" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordered =</span> <span class="cn">FALSE</span> )</span>
<span id="cb85-895"><a href="#cb85-895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-896"><a href="#cb85-896" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>audience <span class="ot">&lt;-</span> <span class="fu">relevel</span>( gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>audience,</span>
<span id="cb85-897"><a href="#cb85-897" aria-hidden="true" tabindex="-1"></a>  <span class="at">ref=</span><span class="st">"Philanthropy"</span>)</span>
<span id="cb85-898"><a href="#cb85-898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-899"><a href="#cb85-899" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-900"><a href="#cb85-900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-901"><a href="#cb85-901" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-904"><a href="#cb85-904" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-905"><a href="#cb85-905" aria-hidden="true" tabindex="-1"></a>summarise_stuff <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb85-906"><a href="#cb85-906" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb85-907"><a href="#cb85-907" aria-hidden="true" tabindex="-1"></a>     <span class="fu">summarise</span>(</span>
<span id="cb85-908"><a href="#cb85-908" aria-hidden="true" tabindex="-1"></a>      <span class="at">amount_spent_usd =</span> <span class="fu">sum</span>(amount_spent_usd),</span>
<span id="cb85-909"><a href="#cb85-909" aria-hidden="true" tabindex="-1"></a>      <span class="at">reach=</span><span class="fu">sum</span>(reach),</span>
<span id="cb85-910"><a href="#cb85-910" aria-hidden="true" tabindex="-1"></a>      <span class="at">link_clicks =</span> <span class="fu">sum</span>(link_clicks, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb85-911"><a href="#cb85-911" aria-hidden="true" tabindex="-1"></a>      <span class="at">results =</span> <span class="fu">sum</span>(results, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb85-912"><a href="#cb85-912" aria-hidden="true" tabindex="-1"></a>      <span class="at">cost_per_impression =</span> amount_spent_usd<span class="sc">/</span>reach,</span>
<span id="cb85-913"><a href="#cb85-913" aria-hidden="true" tabindex="-1"></a>      <span class="at">cost_per_click =</span> amount_spent_usd<span class="sc">/</span>link_clicks,</span>
<span id="cb85-914"><a href="#cb85-914" aria-hidden="true" tabindex="-1"></a>      <span class="at">results =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(results), <span class="dv">0</span>, results ),</span>
<span id="cb85-915"><a href="#cb85-915" aria-hidden="true" tabindex="-1"></a>      <span class="at">results_per_100usd =</span> results<span class="sc">/</span>(amount_spent_usd<span class="sc">/</span><span class="dv">100</span>),</span>
<span id="cb85-916"><a href="#cb85-916" aria-hidden="true" tabindex="-1"></a>      <span class="at">results_per_1k_reach =</span> results<span class="sc">*</span><span class="dv">1000</span><span class="sc">/</span>reach)</span>
<span id="cb85-917"><a href="#cb85-917" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-918"><a href="#cb85-918" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-919"><a href="#cb85-919" aria-hidden="true" tabindex="-1"></a>model_data_0 <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-920"><a href="#cb85-920" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-921"><a href="#cb85-921" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-922"><a href="#cb85-922" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme, text_treat, audience) <span class="sc">%&gt;%</span> <span class="co">#starts,</span></span>
<span id="cb85-923"><a href="#cb85-923" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(reach&gt;200) %&gt;%</span></span>
<span id="cb85-924"><a href="#cb85-924" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise_stuff</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-925"><a href="#cb85-925" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-926"><a href="#cb85-926" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-927"><a href="#cb85-927" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb85-928"><a href="#cb85-928" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(video_theme, text_treat, audience), <span class="co">#starts,</span></span>
<span id="cb85-929"><a href="#cb85-929" aria-hidden="true" tabindex="-1"></a>      as.factor )</span>
<span id="cb85-930"><a href="#cb85-930" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb85-931"><a href="#cb85-931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-932"><a href="#cb85-932" aria-hidden="true" tabindex="-1"></a>model_data_start <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-933"><a href="#cb85-933" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-934"><a href="#cb85-934" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-935"><a href="#cb85-935" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme, text_treat, audience, starts) <span class="sc">%&gt;%</span> <span class="co">#starts,</span></span>
<span id="cb85-936"><a href="#cb85-936" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(reach&gt;200) %&gt;%</span></span>
<span id="cb85-937"><a href="#cb85-937" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise_stuff</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-938"><a href="#cb85-938" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-939"><a href="#cb85-939" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-940"><a href="#cb85-940" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb85-941"><a href="#cb85-941" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(video_theme, text_treat, audience, starts), <span class="co">#starts,</span></span>
<span id="cb85-942"><a href="#cb85-942" aria-hidden="true" tabindex="-1"></a>      as.factor )</span>
<span id="cb85-943"><a href="#cb85-943" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb85-944"><a href="#cb85-944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-945"><a href="#cb85-945" aria-hidden="true" tabindex="-1"></a>model_data <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-946"><a href="#cb85-946" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-947"><a href="#cb85-947" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-948"><a href="#cb85-948" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme, text_treat, audience, gender, agetrin) <span class="sc">%&gt;%</span> <span class="co">#starts,</span></span>
<span id="cb85-949"><a href="#cb85-949" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(reach&gt;200) %&gt;%</span></span>
<span id="cb85-950"><a href="#cb85-950" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise_stuff</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-951"><a href="#cb85-951" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-952"><a href="#cb85-952" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb85-953"><a href="#cb85-953" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb85-954"><a href="#cb85-954" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(video_theme, text_treat, audience, gender, agetrin), <span class="co">#starts,</span></span>
<span id="cb85-955"><a href="#cb85-955" aria-hidden="true" tabindex="-1"></a>      as.factor )</span>
<span id="cb85-956"><a href="#cb85-956" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb85-957"><a href="#cb85-957" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-958"><a href="#cb85-958" aria-hidden="true" tabindex="-1"></a>Rp100usd_vid_text_audience0 <span class="ot">&lt;-</span> model_data_0 <span class="sc">%&gt;%</span></span>
<span id="cb85-959"><a href="#cb85-959" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(</span>
<span id="cb85-960"><a href="#cb85-960" aria-hidden="true" tabindex="-1"></a>    results_per_100usd <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> video_theme <span class="sc">+</span> text_treat <span class="sc">+</span> audience,</span>
<span id="cb85-961"><a href="#cb85-961" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> .,</span>
<span id="cb85-962"><a href="#cb85-962" aria-hidden="true" tabindex="-1"></a>    <span class="at">weights =</span> reach)</span>
<span id="cb85-963"><a href="#cb85-963" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-964"><a href="#cb85-964" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-965"><a href="#cb85-965" aria-hidden="true" tabindex="-1"></a>Rp100usd_vid_text_audience_starts <span class="ot">&lt;-</span> model_data_start <span class="sc">%&gt;%</span></span>
<span id="cb85-966"><a href="#cb85-966" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(</span>
<span id="cb85-967"><a href="#cb85-967" aria-hidden="true" tabindex="-1"></a>    results_per_100usd <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> starts <span class="sc">+</span> video_theme <span class="sc">+</span> text_treat <span class="sc">+</span> audience,</span>
<span id="cb85-968"><a href="#cb85-968" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> .,</span>
<span id="cb85-969"><a href="#cb85-969" aria-hidden="true" tabindex="-1"></a>    <span class="at">weights =</span> reach)</span>
<span id="cb85-970"><a href="#cb85-970" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-971"><a href="#cb85-971" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-972"><a href="#cb85-972" aria-hidden="true" tabindex="-1"></a>Rp100usd_vid_text_audience_demo <span class="ot">&lt;-</span> model_data <span class="sc">%&gt;%</span></span>
<span id="cb85-973"><a href="#cb85-973" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(</span>
<span id="cb85-974"><a href="#cb85-974" aria-hidden="true" tabindex="-1"></a>    results_per_100usd <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> video_theme <span class="sc">+</span> text_treat <span class="sc">+</span> audience <span class="sc">+</span> gender <span class="sc">+</span> agetrin,</span>
<span id="cb85-975"><a href="#cb85-975" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> .,</span>
<span id="cb85-976"><a href="#cb85-976" aria-hidden="true" tabindex="-1"></a>    <span class="at">weights =</span> reach)</span>
<span id="cb85-977"><a href="#cb85-977" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-978"><a href="#cb85-978" aria-hidden="true" tabindex="-1"></a><span class="co">#Do NOT do this: Rp100usd_vid_text_audience0$df.residual &lt;- sum(model_data_0$reach) - length(coef(Rp100usd_vid_text_audience0))</span></span>
<span id="cb85-979"><a href="#cb85-979" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-980"><a href="#cb85-980" aria-hidden="true" tabindex="-1"></a>huxtable<span class="sc">::</span><span class="fu">huxreg</span>(Rp100usd_vid_text_audience0, Rp100usd_vid_text_audience_starts, Rp100usd_vid_text_audience_demo)</span>
<span id="cb85-981"><a href="#cb85-981" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-982"><a href="#cb85-982" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-983"><a href="#cb85-983" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-984"><a href="#cb85-984" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-985"><a href="#cb85-985" aria-hidden="true" tabindex="-1"></a> Note: the N (and R-sq?) values above are incorrect; these are the number of *groups* not the number of baseline observations.</span>
<span id="cb85-986"><a href="#cb85-986" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-987"><a href="#cb85-987" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-3]</span></span>
<span id="cb85-988"><a href="#cb85-988" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-989"><a href="#cb85-989" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-3]: </span>Followup of interest: What do the 'diminishing returns to scale' look like here? How to measure? Can we track results over time and see if the cost increased? (But targeting may also improve over time.) Roughly compare 'small' and 'large' campaigns? ...</span>
<span id="cb85-990"><a href="#cb85-990" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-991"><a href="#cb85-991" aria-hidden="true" tabindex="-1"></a><span class="fu">### Which pre-defined audience yields a Result at the lowest cost? How does this cost vary by audience? {.unnumbered}</span></span>
<span id="cb85-992"><a href="#cb85-992" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-993"><a href="#cb85-993" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Refer to models/estimates above</span>
<span id="cb85-994"><a href="#cb85-994" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-995"><a href="#cb85-995" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-998"><a href="#cb85-998" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-999"><a href="#cb85-999" aria-hidden="true" tabindex="-1"></a>limits <span class="ot">&lt;-</span> <span class="fu">aes</span>(<span class="at">ymax =</span> mean_dv <span class="sc">+</span> (se_dv), <span class="at">ymin =</span> mean_dv <span class="sc">-</span> (se_dv))</span>
<span id="cb85-1000"><a href="#cb85-1000" aria-hidden="true" tabindex="-1"></a>dodge <span class="ot">&lt;-</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>)</span>
<span id="cb85-1001"><a href="#cb85-1001" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1002"><a href="#cb85-1002" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1003"><a href="#cb85-1003" aria-hidden="true" tabindex="-1"></a>gg_gg_options <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">'identity'</span>, <span class="at">position=</span>dodge),</span>
<span id="cb85-1004"><a href="#cb85-1004" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(limits, <span class="at">position=</span>dodge,  <span class="at">width=</span><span class="fl">0.25</span>, <span class="at">color=</span><span class="st">"red"</span>),</span>
<span id="cb85-1005"><a href="#cb85-1005" aria-hidden="true" tabindex="-1"></a>  jtools<span class="sc">::</span><span class="fu">theme_apa</span>(),</span>
<span id="cb85-1006"><a href="#cb85-1006" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"none"</span>),</span>
<span id="cb85-1007"><a href="#cb85-1007" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste</span>(<span class="st">"$"</span>, mean_dv <span class="sc">%&gt;%</span> <span class="fu">round</span>(.,<span class="dv">2</span>)), <span class="at">y=</span><span class="dv">5</span>), <span class="at">position =</span> <span class="fu">position_dodge</span>(.<span class="dv">9</span>), <span class="at">size=</span><span class="dv">4</span>, <span class="at">color=</span><span class="st">"white"</span>),</span>
<span id="cb85-1008"><a href="#cb85-1008" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>))</span>
<span id="cb85-1009"><a href="#cb85-1009" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1010"><a href="#cb85-1010" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb85-1011"><a href="#cb85-1011" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1012"><a href="#cb85-1012" aria-hidden="true" tabindex="-1"></a>limits <span class="ot">&lt;-</span> <span class="fu">aes</span>(<span class="at">ymax =</span> mean_dv , <span class="at">ymin =</span> mean_dv)</span>
<span id="cb85-1013"><a href="#cb85-1013" aria-hidden="true" tabindex="-1"></a>dodge <span class="ot">&lt;-</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>)</span>
<span id="cb85-1014"><a href="#cb85-1014" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1015"><a href="#cb85-1015" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1016"><a href="#cb85-1016" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1017"><a href="#cb85-1017" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-1018"><a href="#cb85-1018" aria-hidden="true" tabindex="-1"></a>  result_by_age <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb85-1019"><a href="#cb85-1019" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">results_per_100usd =</span> results<span class="sc">/</span>(amount_spent_usd<span class="sc">/</span><span class="dv">100</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb85-1020"><a href="#cb85-1020" aria-hidden="true" tabindex="-1"></a>     <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-1021"><a href="#cb85-1021" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb85-1022"><a href="#cb85-1022" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_dv =</span> <span class="fu">mean</span>(results_per_100usd, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1023"><a href="#cb85-1023" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>age, mean_dv)) <span class="sc">+</span></span>
<span id="cb85-1024"><a href="#cb85-1024" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">'identity'</span>,<span class="at">fill=</span><span class="st">"#0072B2"</span>, <span class="at">position=</span>dodge) <span class="sc">+</span></span>
<span id="cb85-1025"><a href="#cb85-1025" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">'Results/$ spent'</span>) <span class="sc">+</span></span>
<span id="cb85-1026"><a href="#cb85-1026" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">'Video'</span>) <span class="sc">+</span></span>
<span id="cb85-1027"><a href="#cb85-1027" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">'Results/$ spent by Age'</span>) </span>
<span id="cb85-1028"><a href="#cb85-1028" aria-hidden="true" tabindex="-1"></a><span class="co">#+  scale_x_discrete(labels=vid_types)</span></span>
<span id="cb85-1029"><a href="#cb85-1029" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1030"><a href="#cb85-1030" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1031"><a href="#cb85-1031" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1032"><a href="#cb85-1032" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1033"><a href="#cb85-1033" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1034"><a href="#cb85-1034" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1035"><a href="#cb85-1035" aria-hidden="true" tabindex="-1"></a><span class="fu">### Which pre-defined audience yields the highest 'rate of Result'? How does this vary by audience? {.unnumbered}</span></span>
<span id="cb85-1036"><a href="#cb85-1036" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1037"><a href="#cb85-1037" aria-hidden="true" tabindex="-1"></a>Note, this is not the same as the previous question because some audiences are more *costly* to target on Facebook.</span>
<span id="cb85-1038"><a href="#cb85-1038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1039"><a href="#cb85-1039" aria-hidden="true" tabindex="-1"></a><span class="ss">-  </span>Re-run above models for 'results per impression'</span>
<span id="cb85-1040"><a href="#cb85-1040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1041"><a href="#cb85-1041" aria-hidden="true" tabindex="-1"></a>Important caveat: this does not tell us the effect 'on a particular group', because of FB's optimization algorithms; <span class="co">[</span><span class="ot">see discussion here</span><span class="co">](https://effective-giving-marketing.gitbook.io/untitled/methodological-discussion/splits-randomization/facebook-split-testing-etc)</span>.</span>
<span id="cb85-1042"><a href="#cb85-1042" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1043"><a href="#cb85-1043" aria-hidden="true" tabindex="-1"></a>Interactions/separate models for 'vary by audience'.</span>
<span id="cb85-1044"><a href="#cb85-1044" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1045"><a href="#cb85-1045" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1046"><a href="#cb85-1046" aria-hidden="true" tabindex="-1"></a><span class="fu">### Which *video* yields a Result at the highest rate/lowest cost? {.unnumbered}</span></span>
<span id="cb85-1047"><a href="#cb85-1047" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1048"><a href="#cb85-1048" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1049"><a href="#cb85-1049" aria-hidden="true" tabindex="-1"></a><span class="in">```{r common_plot_options}</span></span>
<span id="cb85-1050"><a href="#cb85-1050" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1051"><a href="#cb85-1051" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot options in common</span></span>
<span id="cb85-1052"><a href="#cb85-1052" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1053"><a href="#cb85-1053" aria-hidden="true" tabindex="-1"></a><span class="co">#limits &lt;- aes(ymax = mean_dv + (ci_spread), ymin = mean_dv - (ci_spread))</span></span>
<span id="cb85-1054"><a href="#cb85-1054" aria-hidden="true" tabindex="-1"></a>dodge <span class="ot">&lt;-</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>)</span>
<span id="cb85-1055"><a href="#cb85-1055" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1056"><a href="#cb85-1056" aria-hidden="true" tabindex="-1"></a>vid_types <span class="ot">&lt;-</span></span>
<span id="cb85-1057"><a href="#cb85-1057" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"factual short"</span>,</span>
<span id="cb85-1058"><a href="#cb85-1058" aria-hidden="true" tabindex="-1"></a>    <span class="st">"animal"</span>,</span>
<span id="cb85-1059"><a href="#cb85-1059" aria-hidden="true" tabindex="-1"></a>    <span class="st">"climate"</span>,</span>
<span id="cb85-1060"><a href="#cb85-1060" aria-hidden="true" tabindex="-1"></a>    <span class="st">"factual long"</span>,</span>
<span id="cb85-1061"><a href="#cb85-1061" aria-hidden="true" tabindex="-1"></a>    <span class="st">"hypercube"</span>,</span>
<span id="cb85-1062"><a href="#cb85-1062" aria-hidden="true" tabindex="-1"></a>    <span class="st">"poverty"</span>)</span>
<span id="cb85-1063"><a href="#cb85-1063" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1064"><a href="#cb85-1064" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1065"><a href="#cb85-1065" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1066"><a href="#cb85-1066" aria-hidden="true" tabindex="-1"></a>grpsumgg <span class="ot">&lt;-</span> <span class="cf">function</span>(df, gvar, var, ci_ends) {</span>
<span id="cb85-1067"><a href="#cb85-1067" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb85-1068"><a href="#cb85-1068" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>({{gvar}}) <span class="sc">%&gt;%</span></span>
<span id="cb85-1069"><a href="#cb85-1069" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_dv =</span> <span class="fu">mean</span>({{var}}, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb85-1070"><a href="#cb85-1070" aria-hidden="true" tabindex="-1"></a>            <span class="at">se_dv =</span> <span class="fu">sd</span>({{var}}, <span class="at">na.rm=</span><span class="cn">TRUE</span>)<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">n</span>()),</span>
<span id="cb85-1071"><a href="#cb85-1071" aria-hidden="true" tabindex="-1"></a>            <span class="at">ci_spread =</span> <span class="fu">qt</span>(<span class="dv">1</span> <span class="sc">-</span> (ci_ends <span class="sc">/</span> <span class="dv">2</span>), <span class="fu">n</span>() <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> se_dv)</span>
<span id="cb85-1072"><a href="#cb85-1072" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-1073"><a href="#cb85-1073" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1074"><a href="#cb85-1074" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1075"><a href="#cb85-1075" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1076"><a href="#cb85-1076" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1077"><a href="#cb85-1077" aria-hidden="true" tabindex="-1"></a><span class="in">```{r gwwc_vid_results_plot}</span></span>
<span id="cb85-1078"><a href="#cb85-1078" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1079"><a href="#cb85-1079" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb85-1080"><a href="#cb85-1080" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">results_per_100usd =</span> results<span class="sc">/</span>(amount_spent_usd<span class="sc">/</span><span class="dv">100</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb85-1081"><a href="#cb85-1081" aria-hidden="true" tabindex="-1"></a>     <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb85-1082"><a href="#cb85-1082" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb85-1083"><a href="#cb85-1083" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_dv =</span> <span class="fu">mean</span>(results_per_100usd, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1084"><a href="#cb85-1084" aria-hidden="true" tabindex="-1"></a>  <span class="co">#grpsumgg(video_theme, results_per_100usd, 0.1) %&gt;%</span></span>
<span id="cb85-1085"><a href="#cb85-1085" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>video_theme, mean_dv)) <span class="sc">+</span></span>
<span id="cb85-1086"><a href="#cb85-1086" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">'identity'</span>,<span class="at">fill=</span><span class="st">"#0072B2"</span>, <span class="at">position=</span>dodge) <span class="sc">+</span></span>
<span id="cb85-1087"><a href="#cb85-1087" aria-hidden="true" tabindex="-1"></a>  <span class="co">#gg_gg_options +</span></span>
<span id="cb85-1088"><a href="#cb85-1088" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">'Results/$ spent'</span>) <span class="sc">+</span></span>
<span id="cb85-1089"><a href="#cb85-1089" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">'Video'</span>) <span class="sc">+</span></span>
<span id="cb85-1090"><a href="#cb85-1090" aria-hidden="true" tabindex="-1"></a>  <span class="co">#ggtitle('Results/$ spent by Video, 90% CIs') +</span></span>
<span id="cb85-1091"><a href="#cb85-1091" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">'Results/$ spent by Video'</span>) <span class="sc">+</span></span>
<span id="cb85-1092"><a href="#cb85-1092" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels=</span>vid_types)</span>
<span id="cb85-1093"><a href="#cb85-1093" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1094"><a href="#cb85-1094" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1095"><a href="#cb85-1095" aria-hidden="true" tabindex="-1"></a><span class="co"># gwwc_vid_results %&gt;%</span></span>
<span id="cb85-1096"><a href="#cb85-1096" aria-hidden="true" tabindex="-1"></a><span class="co">#   grpsumgg(media, DV_costadj, 0.1) %&gt;%</span></span>
<span id="cb85-1097"><a href="#cb85-1097" aria-hidden="true" tabindex="-1"></a><span class="co">#   ggplot(aes(x=media, y=mean_dv)) +</span></span>
<span id="cb85-1098"><a href="#cb85-1098" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_bar(stat='identity',fill="#0072B2", position=dodge) +</span></span>
<span id="cb85-1099"><a href="#cb85-1099" aria-hidden="true" tabindex="-1"></a><span class="co">#   gg_gg_options +</span></span>
<span id="cb85-1100"><a href="#cb85-1100" aria-hidden="true" tabindex="-1"></a><span class="co">#   ylab('Results/$ spent') +</span></span>
<span id="cb85-1101"><a href="#cb85-1101" aria-hidden="true" tabindex="-1"></a><span class="co">#   xlab('Video') +</span></span>
<span id="cb85-1102"><a href="#cb85-1102" aria-hidden="true" tabindex="-1"></a><span class="co">#   ggtitle('Results/$ spent by Video, 90% CIs') +</span></span>
<span id="cb85-1103"><a href="#cb85-1103" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_y_continuous(limits = c(0,.2),  breaks=seq(0,.2, by=.05)) +</span></span>
<span id="cb85-1104"><a href="#cb85-1104" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_x_discrete(labels=vid_types)</span></span>
<span id="cb85-1105"><a href="#cb85-1105" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb85-1106"><a href="#cb85-1106" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1107"><a href="#cb85-1107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1108"><a href="#cb85-1108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1109"><a href="#cb85-1109" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Refer to models/estimates above, coefficient on 'video'</span>
<span id="cb85-1110"><a href="#cb85-1110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1111"><a href="#cb85-1111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1112"><a href="#cb85-1112" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-4]</span></span>
<span id="cb85-1113"><a href="#cb85-1113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1114"><a href="#cb85-1114" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-4]: </span>Check: is this the same as 'which yields the highest rate of results, or is there a cost difference?'</span>
<span id="cb85-1115"><a href="#cb85-1115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1116"><a href="#cb85-1116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1117"><a href="#cb85-1117" aria-hidden="true" tabindex="-1"></a><span class="fu">#### How does the 'best video' vary by audience? {.unnumbered}</span></span>
<span id="cb85-1118"><a href="#cb85-1118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1119"><a href="#cb85-1119" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Include interactions in above model</span>
<span id="cb85-1120"><a href="#cb85-1120" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Run model separately for each group (or allowing everything to interact) for robustness</span>
<span id="cb85-1121"><a href="#cb85-1121" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Also consider 'what did FB serve to each group', assuming it is optimizing.</span>
<span id="cb85-1122"><a href="#cb85-1122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1123"><a href="#cb85-1123" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Aggregating: Which *category* of videos yields a result at the highest rate/lowest cost? ("Facts", "Cause focus", or "Arguments, rich content") {.unnumbered}</span></span>
<span id="cb85-1124"><a href="#cb85-1124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1125"><a href="#cb85-1125" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Above, pooling videos of similar type. (Random effects models?)</span>
<span id="cb85-1126"><a href="#cb85-1126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1127"><a href="#cb85-1127" aria-hidden="true" tabindex="-1"></a><span class="fu">### Which *message* yields a Result at the highest rate/lowest cost? {.unnumbered}</span></span>
<span id="cb85-1128"><a href="#cb85-1128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1129"><a href="#cb85-1129" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-5]</span></span>
<span id="cb85-1130"><a href="#cb85-1130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1131"><a href="#cb85-1131" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-5]: </span>Check: is this the same as 'which yields the highest rate of results, or is there a cost difference?'</span>
<span id="cb85-1132"><a href="#cb85-1132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1133"><a href="#cb85-1133" aria-hidden="true" tabindex="-1"></a>**Sub-questions**</span>
<span id="cb85-1134"><a href="#cb85-1134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1135"><a href="#cb85-1135" aria-hidden="true" tabindex="-1"></a><span class="fu">#### How does the 'best message' vary by audience? {.unnumbered}</span></span>
<span id="cb85-1136"><a href="#cb85-1136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1137"><a href="#cb85-1137" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-1138"><a href="#cb85-1138" aria-hidden="true" tabindex="-1"></a><span class="fu">## Other questions (less interest or less feasible)</span></span>
<span id="cb85-1139"><a href="#cb85-1139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1140"><a href="#cb85-1140" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Do the message treatments 'interact' with the video treatments (i.e., are their synergies and better pairings)?</span>
<span id="cb85-1141"><a href="#cb85-1141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1142"><a href="#cb85-1142" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Do some videos lead to higher click rates?</span>
<span id="cb85-1143"><a href="#cb85-1143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1144"><a href="#cb85-1144" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Do some videos lead to higher watch rates?</span>
<span id="cb85-1145"><a href="#cb85-1145" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-1146"><a href="#cb85-1146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1147"><a href="#cb85-1147" aria-hidden="true" tabindex="-1"></a><span class="fu">## Analysis and visuals</span></span>
<span id="cb85-1148"><a href="#cb85-1148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1149"><a href="#cb85-1149" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-6]</span></span>
<span id="cb85-1150"><a href="#cb85-1150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1151"><a href="#cb85-1151" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-6]: </span>Moved from Erin's work</span>
<span id="cb85-1152"><a href="#cb85-1152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1155"><a href="#cb85-1155" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-1156"><a href="#cb85-1156" aria-hidden="true" tabindex="-1"></a><span class="do">##gwwc_vid_results$DV_costadj)</span></span>
<span id="cb85-1157"><a href="#cb85-1157" aria-hidden="true" tabindex="-1"></a><span class="do">##gwwc_vid_results$DV)</span></span>
<span id="cb85-1158"><a href="#cb85-1158" aria-hidden="true" tabindex="-1"></a><span class="do">##gwwc_vid_results$ave.cost.impr)</span></span>
<span id="cb85-1159"><a href="#cb85-1159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1160"><a href="#cb85-1160" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1161"><a href="#cb85-1161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1162"><a href="#cb85-1162" aria-hidden="true" tabindex="-1"></a>Data summary</span>
<span id="cb85-1163"><a href="#cb85-1163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1164"><a href="#cb85-1164" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-secondary}</span>
<span id="cb85-1165"><a href="#cb85-1165" aria-hidden="true" tabindex="-1"></a>Below, a few data summary bits (from Erin). I commented most of it out and will redo it using an automated and formatted 'key summary statistics' package.</span>
<span id="cb85-1166"><a href="#cb85-1166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1167"><a href="#cb85-1167" aria-hidden="true" tabindex="-1"></a>I may also present the data in a dashboard for self-service.</span>
<span id="cb85-1168"><a href="#cb85-1168" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-1169"><a href="#cb85-1169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1172"><a href="#cb85-1172" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-1173"><a href="#cb85-1173" aria-hidden="true" tabindex="-1"></a><span class="co">#datatable(gwwc_vid_results)</span></span>
<span id="cb85-1174"><a href="#cb85-1174" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1175"><a href="#cb85-1175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1176"><a href="#cb85-1176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1177"><a href="#cb85-1177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1180"><a href="#cb85-1180" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-1181"><a href="#cb85-1181" aria-hidden="true" tabindex="-1"></a><span class="co">#print(gwwc_vid_results %&gt;% group_by(Gender,Age) %&gt;% summarise(n=n(),cost=mean(ave.cost.impr)),n=40)</span></span>
<span id="cb85-1182"><a href="#cb85-1182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1183"><a href="#cb85-1183" aria-hidden="true" tabindex="-1"></a><span class="co">#gwwc_vid_results %&gt;% group_by(audience) %&gt;% summarise(n=n(), cost=mean(ave.cost.impr)*100) %&gt;% .kable(digits=2, caption="Average cost per impression (in pennies)") %&gt;%  .kable_styling()</span></span>
<span id="cb85-1184"><a href="#cb85-1184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1185"><a href="#cb85-1185" aria-hidden="true" tabindex="-1"></a><span class="co">#gwwc_vid_results %&gt;% group_by(message) %&gt;% summarise(n=n(),cost=mean(ave.cost.impr)*100) %&gt;% .kable(digits=2, caption="Average cost per impression (in pennies)") %&gt;%  .kable_styling()</span></span>
<span id="cb85-1186"><a href="#cb85-1186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1187"><a href="#cb85-1187" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1188"><a href="#cb85-1188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1191"><a href="#cb85-1191" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-1192"><a href="#cb85-1192" aria-hidden="true" tabindex="-1"></a><span class="do">### CHART DATA</span></span>
<span id="cb85-1193"><a href="#cb85-1193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1194"><a href="#cb85-1194" aria-hidden="true" tabindex="-1"></a><span class="co">#print(gwwc_vid_results %&gt;% group_by(audience,media) %&gt;% #summarise(results=mean(DV)*100,SE=std.error(DV)*100,n=n(),cost=mean(ave.cost.impr),CPR=cost/results),n=50)</span></span>
<span id="cb85-1195"><a href="#cb85-1195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1196"><a href="#cb85-1196" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1197"><a href="#cb85-1197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1198"><a href="#cb85-1198" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!--  Erin's work  has been (moved) </span></span>
<span id="cb85-1199"><a href="#cb85-1199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1200"><a href="#cb85-1200" aria-hidden="true" tabindex="-1"></a><span class="al">###</span><span class="co"> PLOTS (Erin)</span></span>
<span id="cb85-1201"><a href="#cb85-1201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1202"><a href="#cb85-1202" aria-hidden="true" tabindex="-1"></a><span class="co">Moved to archive: `eamt_data_analysis/gwwc/giving_guides/archive_erin/erin_plots_stats_gg.qmd`; will re-incoprporate and adjust</span></span>
<span id="cb85-1203"><a href="#cb85-1203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1204"><a href="#cb85-1204" aria-hidden="true" tabindex="-1"></a><span class="al">###</span><span class="co"> Models, statistics and crosstabs (Erin)</span></span>
<span id="cb85-1205"><a href="#cb85-1205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1206"><a href="#cb85-1206" aria-hidden="true" tabindex="-1"></a><span class="co">Moved to archive: `../erin_plots_stats_gg.qmd`</span></span>
<span id="cb85-1207"><a href="#cb85-1207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1208"><a href="#cb85-1208" aria-hidden="true" tabindex="-1"></a><span class="co">--&gt;</span> </span>
<span id="cb85-1209"><a href="#cb85-1209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1210"><a href="#cb85-1210" aria-hidden="true" tabindex="-1"></a><span class="fu">## Modeling/simulating CIs for results by group</span></span>
<span id="cb85-1211"><a href="#cb85-1211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1212"><a href="#cb85-1212" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-1213"><a href="#cb85-1213" aria-hidden="true" tabindex="-1"></a><span class="fu">##  Simulation-based: Sketched proposal</span></span>
<span id="cb85-1214"><a href="#cb85-1214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1215"><a href="#cb85-1215" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Assume the 'cost per impression' (CpI) is fixed for each group or segment -- take that as exogenous and something we adjust for at the end^<span class="co">[</span><span class="ot">Although I am not sure if this is the case; the costs and number of impressions served are determined in a complicated way.</span><span class="co">]</span></span>
<span id="cb85-1216"><a href="#cb85-1216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1217"><a href="#cb85-1217" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Make some assumptions about the distribution of the probability of a result from an impression for each individual in each group $g$; call this $P_{ig}$.</span>
<span id="cb85-1218"><a href="#cb85-1218" aria-hidden="true" tabindex="-1"></a>E.g., each outcome $r_i \in \{0,1\}$ is drawn with probability  $P_{ig}$.</span>
<span id="cb85-1219"><a href="#cb85-1219" aria-hidden="true" tabindex="-1"></a>We see the average of these draws.</span>
<span id="cb85-1220"><a href="#cb85-1220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1221"><a href="#cb85-1221" aria-hidden="true" tabindex="-1"></a>A close-to-correct simplification might yield that the group-specific results per impression (RpI) is the average value of $P_{ig}$ for the group, call this $P_g$. We can make some intuitive assumptions about the variance of $P_{ig}$ around $P_g$ within each group.</span>
<span id="cb85-1222"><a href="#cb85-1222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1223"><a href="#cb85-1223" aria-hidden="true" tabindex="-1"></a>So we would have something like:</span>
<span id="cb85-1224"><a href="#cb85-1224" aria-hidden="true" tabindex="-1"></a>$P_{ig} \sim  \beta$ distribution with a mean of RpI (results per impression for the group), and some reasonable variation.</span>
<span id="cb85-1225"><a href="#cb85-1225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1226"><a href="#cb85-1226" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Let $N_g$  be the number of impressions we see per group.</span>
<span id="cb85-1227"><a href="#cb85-1227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1228"><a href="#cb85-1228" aria-hidden="true" tabindex="-1"></a>In each simulation replication, simulate $N_g$ draws of $P_{ig}$ for each individual in each group $g$.</span>
<span id="cb85-1229"><a href="#cb85-1229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1230"><a href="#cb85-1230" aria-hidden="true" tabindex="-1"></a>Next 'flip an unfair coin for each individual', where the coin has probability $P_{ig}$ of a result.  This yields $N_g$ draws of the 0/1 outcome $r_i(g)$ for each group</span>
<span id="cb85-1231"><a href="#cb85-1231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1232"><a href="#cb85-1232" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Look at the distribution of results for each group across many simulations.  This can easily be converted to the distribution of RpI for each group, or, assuming CpI is fixed, the distribution of 'cost per result' (or results per cost) for each group.</span>
<span id="cb85-1233"><a href="#cb85-1233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1234"><a href="#cb85-1234" aria-hidden="true" tabindex="-1"></a>This gives us our confidence intervals.</span>
<span id="cb85-1235"><a href="#cb85-1235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1236"><a href="#cb85-1236" aria-hidden="true" tabindex="-1"></a>The above is a bit ad-hoc (but less than our previous work). I suspect the procedure comes close to something that could give us something Bayesian.</span>
<span id="cb85-1237"><a href="#cb85-1237" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-1238"><a href="#cb85-1238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1239"><a href="#cb85-1239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1240"><a href="#cb85-1240" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-1241"><a href="#cb85-1241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1242"><a href="#cb85-1242" aria-hidden="true" tabindex="-1"></a><span class="fu">## Adjusting the above to Jamie's suggestions ... for a 2 step simulation</span></span>
<span id="cb85-1243"><a href="#cb85-1243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1244"><a href="#cb85-1244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1245"><a href="#cb85-1245" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Draw $P_{gci}$ — the probability of a click for person $i$ in group $g$ for each individual (impression) in each group which might have a mean at the empirical click rate for this group, $C_g/N_g$, where $N_g$ is the number of impressions in group $g$</span>
<span id="cb85-1246"><a href="#cb85-1246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1247"><a href="#cb85-1247" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Simulate clicks by group with $N_g$ coin flips each w/ draws from the $P_{gci}$ probability vector $\rightarrow$   $C^k_g$ simulated clicks for group $g$ in simulation $k$</span>
<span id="cb85-1248"><a href="#cb85-1248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1249"><a href="#cb85-1249" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Draw  $P_{gri|c}$: ‘probability of result given click’ for individual $i$ in group $g$</span>
<span id="cb85-1250"><a href="#cb85-1250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1251"><a href="#cb85-1251" aria-hidden="true" tabindex="-1"></a>which might have a mean at the empirical results/clicks for this group</span>
<span id="cb85-1252"><a href="#cb85-1252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1253"><a href="#cb85-1253" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Simulate results by group with  $C^k_g$ draws with vector of probabilities $P_{gri|c}$ $\rightarrow$  $R^k_g$ simulated results for group $g$ in simulation $k$</span>
<span id="cb85-1254"><a href="#cb85-1254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1255"><a href="#cb85-1255" aria-hidden="true" tabindex="-1"></a>My concern in general with these hurdle models is when they make inferences that depended on independence across hurdles. Here, I would be concerned if it depends on the probabilities $P_{gc}$ and $P_{gr|c}$ being independent.</span>
<span id="cb85-1256"><a href="#cb85-1256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1257"><a href="#cb85-1257" aria-hidden="true" tabindex="-1"></a>To me it seems plausible that for higher draws of $P_c$ we tend to  have lower values of $P_{r|c}$ … e.g., people (and groups) who click on everything rarely convert when they click.</span>
<span id="cb85-1258"><a href="#cb85-1258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1259"><a href="#cb85-1259" aria-hidden="true" tabindex="-1"></a>But I don’t think that the simulation posed above itself suffers from this problem.  If one group has a high click rate and a low ‘conversions per click’ rate, I think this would be reflected in the means of the distributions of $P$’s I use for the simulation above.</span>
<span id="cb85-1260"><a href="#cb85-1260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1261"><a href="#cb85-1261" aria-hidden="true" tabindex="-1"></a>As long as we don’t try to make (overly strong inferences) from the differences in $P_{gr|c}$ by group $g$ itself, I think we are OK. So the ‘two step’ simulation could indeed be better here.</span>
<span id="cb85-1262"><a href="#cb85-1262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1263"><a href="#cb85-1263" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-1264"><a href="#cb85-1264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1265"><a href="#cb85-1265" aria-hidden="true" tabindex="-1"></a><span class="fu">## Bayesian Logistic regressions and CIs </span></span>
<span id="cb85-1266"><a href="#cb85-1266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1267"><a href="#cb85-1267" aria-hidden="true" tabindex="-1"></a>This comes from Jamie's work in <span class="in">`fb ad analysis.R`</span></span>
<span id="cb85-1268"><a href="#cb85-1268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1269"><a href="#cb85-1269" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">google drive link</span><span class="co">](https://drive.google.com/file/d/1t_dySvC-GIQcSY2hJw7rfofuv15Qlg0s/view?usp=sharing)</span></span>
<span id="cb85-1270"><a href="#cb85-1270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1271"><a href="#cb85-1271" aria-hidden="true" tabindex="-1"></a><span class="in">```{r packages}</span></span>
<span id="cb85-1272"><a href="#cb85-1272" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb85-1273"><a href="#cb85-1273" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(brms, <span class="at">install=</span><span class="cn">FALSE</span>)</span>
<span id="cb85-1274"><a href="#cb85-1274" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(brms)</span>
<span id="cb85-1275"><a href="#cb85-1275" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(tidybayes, <span class="at">install=</span><span class="cn">FALSE</span>)</span>
<span id="cb85-1276"><a href="#cb85-1276" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidybayes)</span>
<span id="cb85-1277"><a href="#cb85-1277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1278"><a href="#cb85-1278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1279"><a href="#cb85-1279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1280"><a href="#cb85-1280" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1281"><a href="#cb85-1281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1282"><a href="#cb85-1282" aria-hidden="true" tabindex="-1"></a><span class="in">```{r sum_results_collapse}</span></span>
<span id="cb85-1283"><a href="#cb85-1283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1284"><a href="#cb85-1284" aria-hidden="true" tabindex="-1"></a>sum_results <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb85-1285"><a href="#cb85-1285" aria-hidden="true" tabindex="-1"></a>    df <span class="sc">%&gt;%</span></span>
<span id="cb85-1286"><a href="#cb85-1286" aria-hidden="true" tabindex="-1"></a>     <span class="fu">summarise</span>(</span>
<span id="cb85-1287"><a href="#cb85-1287" aria-hidden="true" tabindex="-1"></a>    <span class="at">results =</span> <span class="fu">sum</span>(results, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb85-1288"><a href="#cb85-1288" aria-hidden="true" tabindex="-1"></a>    <span class="at">spend =</span> <span class="fu">sum</span>(amount_spent_usd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb85-1289"><a href="#cb85-1289" aria-hidden="true" tabindex="-1"></a>    <span class="at">clicks =</span> <span class="fu">sum</span>(link_clicks, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb85-1290"><a href="#cb85-1290" aria-hidden="true" tabindex="-1"></a>    <span class="at">impressions =</span> <span class="fu">sum</span>(impressions, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb85-1291"><a href="#cb85-1291" aria-hidden="true" tabindex="-1"></a>    <span class="at">reach =</span> <span class="fu">sum</span>(reach, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb85-1292"><a href="#cb85-1292" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb85-1293"><a href="#cb85-1293" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-1294"><a href="#cb85-1294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1295"><a href="#cb85-1295" aria-hidden="true" tabindex="-1"></a><span class="co"># collapse into the categories of interest</span></span>
<span id="cb85-1296"><a href="#cb85-1296" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns_col <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb85-1297"><a href="#cb85-1297" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(video_theme, audience) <span class="sc">%&gt;%</span></span>
<span id="cb85-1298"><a href="#cb85-1298" aria-hidden="true" tabindex="-1"></a>  <span class="co">#group_by(video_theme, audience, starts) %&gt;%</span></span>
<span id="cb85-1299"><a href="#cb85-1299" aria-hidden="true" tabindex="-1"></a>sum_results</span>
<span id="cb85-1300"><a href="#cb85-1300" aria-hidden="true" tabindex="-1"></a><span class="co">#%&gt;%   mutate(starts = as.factor(starts))</span></span>
<span id="cb85-1301"><a href="#cb85-1301" aria-hidden="true" tabindex="-1"></a><span class="co">#rem: we are just summing outcomes, so no weights are needed here</span></span>
<span id="cb85-1302"><a href="#cb85-1302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1303"><a href="#cb85-1303" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1304"><a href="#cb85-1304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1305"><a href="#cb85-1305" aria-hidden="true" tabindex="-1"></a>In the chunk below, we compute and set minimally informative priors for the click rates model.</span>
<span id="cb85-1306"><a href="#cb85-1306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1307"><a href="#cb85-1307" aria-hidden="true" tabindex="-1"></a><span class="in">```{r priors_clicks}</span></span>
<span id="cb85-1308"><a href="#cb85-1308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1309"><a href="#cb85-1309" aria-hidden="true" tabindex="-1"></a><span class="co">#helper function to 'make priors'</span></span>
<span id="cb85-1310"><a href="#cb85-1310" aria-hidden="true" tabindex="-1"></a>make_prior_normal <span class="ot">&lt;-</span> <span class="cf">function</span>(mean, sd, ...) {</span>
<span id="cb85-1311"><a href="#cb85-1311" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prior_string</span>(<span class="fu">paste0</span>(<span class="st">"normal("</span>, mean, <span class="st">","</span>, sd, <span class="st">")"</span>), ...)</span>
<span id="cb85-1312"><a href="#cb85-1312" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-1313"><a href="#cb85-1313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1314"><a href="#cb85-1314" aria-hidden="true" tabindex="-1"></a>prior_click_per_reach <span class="ot">&lt;-</span> <span class="fl">0.028</span></span>
<span id="cb85-1315"><a href="#cb85-1315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1316"><a href="#cb85-1316" aria-hidden="true" tabindex="-1"></a>prior_intercept_click <span class="ot">&lt;-</span>  <span class="fu">logit</span>(prior_click_per_reach)</span>
<span id="cb85-1317"><a href="#cb85-1317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1318"><a href="#cb85-1318" aria-hidden="true" tabindex="-1"></a>prior_intercept_click_ub <span class="ot">&lt;-</span> <span class="fl">0.15</span></span>
<span id="cb85-1319"><a href="#cb85-1319" aria-hidden="true" tabindex="-1"></a>se_prior_click <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_intercept_click_ub) <span class="sc">-</span> prior_intercept_click)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb85-1320"><a href="#cb85-1320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1321"><a href="#cb85-1321" aria-hidden="true" tabindex="-1"></a>prior_slope_click_ub <span class="ot">&lt;-</span> <span class="fl">0.25</span></span>
<span id="cb85-1322"><a href="#cb85-1322" aria-hidden="true" tabindex="-1"></a>se_prior_slope_click <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_slope_click_ub) <span class="sc">-</span> prior_intercept_click)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb85-1323"><a href="#cb85-1323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1324"><a href="#cb85-1324" aria-hidden="true" tabindex="-1"></a>prior_click <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb85-1325"><a href="#cb85-1325" aria-hidden="true" tabindex="-1"></a>  <span class="fu">make_prior_normal</span>(prior_intercept_click, se_prior_click, <span class="at">class =</span> <span class="st">"Intercept"</span>),</span>
<span id="cb85-1326"><a href="#cb85-1326" aria-hidden="true" tabindex="-1"></a><span class="fu">make_prior_normal</span>(<span class="dv">0</span>, se_prior_slope_click, <span class="at">class =</span> <span class="st">"b"</span>)</span>
<span id="cb85-1327"><a href="#cb85-1327" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1328"><a href="#cb85-1328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1329"><a href="#cb85-1329" aria-hidden="true" tabindex="-1"></a><span class="co">#DR @Jamie: This is a log ratio of probabilities, iirc. Why are we assuming it is normally distributed? </span></span>
<span id="cb85-1330"><a href="#cb85-1330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1331"><a href="#cb85-1331" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1332"><a href="#cb85-1332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1333"><a href="#cb85-1333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1334"><a href="#cb85-1334" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-1335"><a href="#cb85-1335" aria-hidden="true" tabindex="-1"></a><span class="fu">## Determining appropriate priors for click rates - intercept</span></span>
<span id="cb85-1336"><a href="#cb85-1336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1337"><a href="#cb85-1337" aria-hidden="true" tabindex="-1"></a>In the code chunk just above, we define the priors which we use below.</span>
<span id="cb85-1338"><a href="#cb85-1338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1339"><a href="#cb85-1339" aria-hidden="true" tabindex="-1"></a>Where did this come from? It is somewhat casual, but given the very large dataset, we don't expect our results to be very sensitive to the priors.</span>
<span id="cb85-1340"><a href="#cb85-1340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1341"><a href="#cb85-1341" aria-hidden="true" tabindex="-1"></a>A <span class="in">`r prior_click_per_reach`</span>  click rate (as a share of 'reach') seemed like a reasonable mean. This is approximately the rate GWWC saw in all of its trials before February 2021, when this trial started. <span class="in">`logit(prior_click_per_reach)`</span> gives us the intercept associated with this prior expected outcome rate.  </span>
<span id="cb85-1342"><a href="#cb85-1342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1343"><a href="#cb85-1343" aria-hidden="true" tabindex="-1"></a>The prior on the standard error for the intercept is not based on prior data. We considered 'what baseline rate would we consider to be extremely unlikely?', and set the standard deviations to be about half of this (recalling that 95% of the area of a normal distribution is within 1.96 sd's of the mean) . In the positive direction, a rate of 15% or more would be truly shocking. This would yield a logit intercept of <span class="in">`logit(prior_intercept_click_ub)`</span> = <span class="in">`r logit(prior_intercept_click_ub)`</span>. Differencing this from the prior mean and dividing by two yields our chosen prior intercept standard error: <span class="in">`r op(se_prior_click)`</span>; note this gives a 95 percent lower-bound of a <span class="in">`r op(plogis(prior_intercept_click - 1.96*se_prior_click)*100)`</span>% click rate.   </span>
<span id="cb85-1344"><a href="#cb85-1344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1345"><a href="#cb85-1345" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-1346"><a href="#cb85-1346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1347"><a href="#cb85-1347" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-1348"><a href="#cb85-1348" aria-hidden="true" tabindex="-1"></a><span class="fu">## Determining appropriate priors for click rates - coefficients </span></span>
<span id="cb85-1349"><a href="#cb85-1349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1350"><a href="#cb85-1350" aria-hidden="true" tabindex="-1"></a>In determining priors for the slopes (adjustments for different groups), we start with a mean expected slope of 0; this is consistent with a sort of 'unbiased' prior, not loading the dice in either direction, and also most adaptable to a range of groups we might consider. We again considered 'what mean click rates would be very surprising'. A click rate of 25% of more for any targeted subgroup or treatment would be very unexpected -- this seems conservative. By similar calculations above, this yields  <span class="in">`se_prior_slope_click`</span> =  <span class="in">`r se_prior_slope_click`</span>.</span>
<span id="cb85-1351"><a href="#cb85-1351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1352"><a href="#cb85-1352" aria-hidden="true" tabindex="-1"></a>Could we instead do this considering reasonable 'proportional differences in rates'? We will consider this for future work (possible challenge: it may interact with the intercepts).</span>
<span id="cb85-1353"><a href="#cb85-1353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1354"><a href="#cb85-1354" aria-hidden="true" tabindex="-1"></a>:::  </span>
<span id="cb85-1355"><a href="#cb85-1355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1356"><a href="#cb85-1356" aria-hidden="true" tabindex="-1"></a>In the chunk below, we compute and set minimally informative priors for the results model. Again, some notes follow.</span>
<span id="cb85-1357"><a href="#cb85-1357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1358"><a href="#cb85-1358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1359"><a href="#cb85-1359" aria-hidden="true" tabindex="-1"></a><span class="in">```{r priors_results}</span></span>
<span id="cb85-1360"><a href="#cb85-1360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1361"><a href="#cb85-1361" aria-hidden="true" tabindex="-1"></a>prior_results_per_click <span class="ot">&lt;-</span> <span class="fl">0.20</span></span>
<span id="cb85-1362"><a href="#cb85-1362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1363"><a href="#cb85-1363" aria-hidden="true" tabindex="-1"></a>prior_intercept_results <span class="ot">&lt;-</span>  <span class="fu">logit</span>(prior_results_per_click)</span>
<span id="cb85-1364"><a href="#cb85-1364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1365"><a href="#cb85-1365" aria-hidden="true" tabindex="-1"></a>prior_intercept_results_ub <span class="ot">&lt;-</span> <span class="fl">0.75</span></span>
<span id="cb85-1366"><a href="#cb85-1366" aria-hidden="true" tabindex="-1"></a>se_prior_results <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_intercept_results_ub) <span class="sc">-</span> prior_intercept_results)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb85-1367"><a href="#cb85-1367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1368"><a href="#cb85-1368" aria-hidden="true" tabindex="-1"></a>prior_slope_results_ub <span class="ot">&lt;-</span> <span class="fl">0.85</span></span>
<span id="cb85-1369"><a href="#cb85-1369" aria-hidden="true" tabindex="-1"></a>se_prior_slope_results <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_slope_results_ub) <span class="sc">-</span> prior_intercept_results)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb85-1370"><a href="#cb85-1370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1371"><a href="#cb85-1371" aria-hidden="true" tabindex="-1"></a>prior_results <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb85-1372"><a href="#cb85-1372" aria-hidden="true" tabindex="-1"></a>  <span class="fu">make_prior_normal</span>(prior_intercept_results, se_prior_results, <span class="at">class =</span> <span class="st">"Intercept"</span>),</span>
<span id="cb85-1373"><a href="#cb85-1373" aria-hidden="true" tabindex="-1"></a><span class="fu">make_prior_normal</span>(<span class="dv">0</span>, se_prior_slope_results, <span class="at">class =</span> <span class="st">"b"</span>)</span>
<span id="cb85-1374"><a href="#cb85-1374" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1375"><a href="#cb85-1375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1376"><a href="#cb85-1376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1377"><a href="#cb85-1377" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1378"><a href="#cb85-1378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1379"><a href="#cb85-1379" aria-hidden="true" tabindex="-1"></a>:: {.callout-note collapse="true"}</span>
<span id="cb85-1380"><a href="#cb85-1380" aria-hidden="true" tabindex="-1"></a><span class="fu">## Determining appropriate priors for results (per click)</span></span>
<span id="cb85-1381"><a href="#cb85-1381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1382"><a href="#cb85-1382" aria-hidden="true" tabindex="-1"></a>See the above discussion folds on priors for clicks for our general approach.  </span>
<span id="cb85-1383"><a href="#cb85-1383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1384"><a href="#cb85-1384" aria-hidden="true" tabindex="-1"></a>For results per click (RpC), we had very little data or experience to go on. The little prior data GWWC had on results per click were from very different contexts, e.g., RSVPs for attending events rather than simply leaving an email. In those cases results per click are (as we expect, are results per click for Facebook ads are in general). However, here people are clicking on a call to action like 'Download the Effective Giving Guide', directing them to a site where they merely need to leave their email to download this guide.  Thus, if the clicks are intentional, a much higher rate of 'result' seems reasonable. Thus we compromised on a <span class="in">`r prior_results_per_click*100`</span>% 'results per click' rate as our overall prior mean.</span>
<span id="cb85-1385"><a href="#cb85-1385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1386"><a href="#cb85-1386" aria-hidden="true" tabindex="-1"></a>We would be 'very surprised' (seems 5% likely or less) with an RpC of over <span class="in">`r prior_intercept_results_ub*100`</span>% overall or <span class="in">`r prior_slope_results_ub*100`</span>% for any subgroup -- we derive the standard errors of the intercept and slope from these, as for clicks.  </span>
<span id="cb85-1387"><a href="#cb85-1387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1388"><a href="#cb85-1388" aria-hidden="true" tabindex="-1"></a>(Note: this implies a 95% CI lower-bound of a </span>
<span id="cb85-1389"><a href="#cb85-1389" aria-hidden="true" tabindex="-1"></a><span class="in">`r op(plogis(prior_intercept_results - 1.96*se_prior_results)*100)`</span>% overall RpC rate.)  </span>
<span id="cb85-1390"><a href="#cb85-1390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1391"><a href="#cb85-1391" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-1392"><a href="#cb85-1392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1393"><a href="#cb85-1393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1394"><a href="#cb85-1394" aria-hidden="true" tabindex="-1"></a><span class="fu">### Estimating the models </span></span>
<span id="cb85-1395"><a href="#cb85-1395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1396"><a href="#cb85-1396" aria-hidden="true" tabindex="-1"></a><span class="in">```{r clicks_reg2}</span></span>
<span id="cb85-1397"><a href="#cb85-1397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1398"><a href="#cb85-1398" aria-hidden="true" tabindex="-1"></a>clicks_per_reach_video_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"clicks | trials(reach) ~ video_theme + audience + video_theme:audience"</span>)</span>
<span id="cb85-1399"><a href="#cb85-1399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1400"><a href="#cb85-1400" aria-hidden="true" tabindex="-1"></a><span class="co"># +  starts</span></span>
<span id="cb85-1401"><a href="#cb85-1401" aria-hidden="true" tabindex="-1"></a>results_per_click_video_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"results | trials(clicks) ~ video_theme + audience + video_theme:audience"</span>)</span>
<span id="cb85-1402"><a href="#cb85-1402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1403"><a href="#cb85-1403" aria-hidden="true" tabindex="-1"></a><span class="do">## passing a list</span></span>
<span id="cb85-1404"><a href="#cb85-1404" aria-hidden="true" tabindex="-1"></a>arg.list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>) </span>
<span id="cb85-1405"><a href="#cb85-1405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1406"><a href="#cb85-1406" aria-hidden="true" tabindex="-1"></a>clicks_logit_vid <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb85-1407"><a href="#cb85-1407" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span>gg_video_breakdowns_col, </span>
<span id="cb85-1408"><a href="#cb85-1408" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> clicks_per_reach_video_aud,</span>
<span id="cb85-1409"><a href="#cb85-1409" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb85-1410"><a href="#cb85-1410" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb85-1411"><a href="#cb85-1411" aria-hidden="true" tabindex="-1"></a>                   <span class="at">prior =</span> prior_click),</span>
<span id="cb85-1412"><a href="#cb85-1412" aria-hidden="true" tabindex="-1"></a>                  arg.list,                  </span>
<span id="cb85-1413"><a href="#cb85-1413" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)))</span>
<span id="cb85-1414"><a href="#cb85-1414" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1415"><a href="#cb85-1415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1416"><a href="#cb85-1416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1417"><a href="#cb85-1417" aria-hidden="true" tabindex="-1"></a>results_logit_vid <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb85-1418"><a href="#cb85-1418" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_video_breakdowns_col, </span>
<span id="cb85-1419"><a href="#cb85-1419" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> results_per_click_video_aud,</span>
<span id="cb85-1420"><a href="#cb85-1420" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb85-1421"><a href="#cb85-1421" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb85-1422"><a href="#cb85-1422" aria-hidden="true" tabindex="-1"></a>                  <span class="at">prior =</span> prior_results),</span>
<span id="cb85-1423"><a href="#cb85-1423" aria-hidden="true" tabindex="-1"></a>                  arg.list,                  </span>
<span id="cb85-1424"><a href="#cb85-1424" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)))</span>
<span id="cb85-1425"><a href="#cb85-1425" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1426"><a href="#cb85-1426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1427"><a href="#cb85-1427" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1428"><a href="#cb85-1428" aria-hidden="true" tabindex="-1"></a><span class="fu">### (To do) Summarize the model results/coefficients in clean tables here</span></span>
<span id="cb85-1429"><a href="#cb85-1429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1430"><a href="#cb85-1430" aria-hidden="true" tabindex="-1"></a><span class="fu">### Forest plots</span></span>
<span id="cb85-1431"><a href="#cb85-1431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1432"><a href="#cb85-1432" aria-hidden="true" tabindex="-1"></a><span class="in">```{r full_crossing}</span></span>
<span id="cb85-1433"><a href="#cb85-1433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1434"><a href="#cb85-1434" aria-hidden="true" tabindex="-1"></a><span class="co"># posterior expectations:</span></span>
<span id="cb85-1435"><a href="#cb85-1435" aria-hidden="true" tabindex="-1"></a>full_crossing <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb85-1436"><a href="#cb85-1436" aria-hidden="true" tabindex="-1"></a>  <span class="st">"video_theme"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_video_breakdowns_col<span class="sc">$</span>video_theme),</span>
<span id="cb85-1437"><a href="#cb85-1437" aria-hidden="true" tabindex="-1"></a>  <span class="st">"audience"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_video_breakdowns_col<span class="sc">$</span>audience)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1438"><a href="#cb85-1438" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reach =</span> <span class="dv">1</span>, <span class="co">#it is estimating the number of clicks based on the reach</span></span>
<span id="cb85-1439"><a href="#cb85-1439" aria-hidden="true" tabindex="-1"></a>         <span class="at">clicks =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1440"><a href="#cb85-1440" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="sc">!</span>(audience<span class="sc">==</span><span class="st">"Animal"</span> <span class="sc">&amp;</span> (video_theme <span class="sc">==</span> <span class="st">"Climate"</span> <span class="sc">|</span> video_theme <span class="sc">==</span> <span class="st">"Poverty"</span>)))  <span class="sc">%&gt;%</span></span>
<span id="cb85-1441"><a href="#cb85-1441" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(audience<span class="sc">==</span><span class="st">"Climate"</span> <span class="sc">&amp;</span> (video_theme <span class="sc">==</span> <span class="st">"Animal"</span> <span class="sc">|</span> video_theme <span class="sc">==</span> <span class="st">"Poverty"</span>)))  <span class="sc">%&gt;%</span></span>
<span id="cb85-1442"><a href="#cb85-1442" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(audience<span class="sc">==</span><span class="st">"Global Poverty"</span> <span class="sc">&amp;</span> (video_theme <span class="sc">==</span> <span class="st">"Animal"</span> <span class="sc">|</span> video_theme <span class="sc">==</span> <span class="st">"Climate"</span>))) <span class="co">#remove combinations where we don't have data ... at least for now</span></span>
<span id="cb85-1443"><a href="#cb85-1443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1444"><a href="#cb85-1444" aria-hidden="true" tabindex="-1"></a><span class="co"># setting reach and clicks = 1 will give us proportion of conversions (because it makes a prediction for total outcomes per unit )</span></span>
<span id="cb85-1445"><a href="#cb85-1445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1446"><a href="#cb85-1446" aria-hidden="true" tabindex="-1"></a>click_post <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(clicks_logit_vid, <span class="at">newdata =</span> full_crossing) <span class="co">#ndraws = 1000, </span></span>
<span id="cb85-1447"><a href="#cb85-1447" aria-hidden="true" tabindex="-1"></a>results_post <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(results_logit_vid, full_crossing)</span>
<span id="cb85-1448"><a href="#cb85-1448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1449"><a href="#cb85-1449" aria-hidden="true" tabindex="-1"></a>combined_post <span class="ot">&lt;-</span> click_post <span class="sc">*</span> results_post <span class="co">#DR: multiplying the predicted probabilities of click and conversion here?</span></span>
<span id="cb85-1450"><a href="#cb85-1450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1451"><a href="#cb85-1451" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1452"><a href="#cb85-1452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1453"><a href="#cb85-1453" aria-hidden="true" tabindex="-1"></a><span class="in">```{r tib_post}</span></span>
<span id="cb85-1454"><a href="#cb85-1454" aria-hidden="true" tabindex="-1"></a><span class="co">#make tibbles of the stuff above, put it together s</span></span>
<span id="cb85-1455"><a href="#cb85-1455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1456"><a href="#cb85-1456" aria-hidden="true" tabindex="-1"></a>full_crossing <span class="ot">&lt;-</span> <span class="cf">function</span>(df, name) {</span>
<span id="cb85-1457"><a href="#cb85-1457" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb85-1458"><a href="#cb85-1458" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb85-1459"><a href="#cb85-1459" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb85-1460"><a href="#cb85-1460" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"identifier"</span>,</span>
<span id="cb85-1461"><a href="#cb85-1461" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"probability"</span>) </span>
<span id="cb85-1462"><a href="#cb85-1462" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb85-1463"><a href="#cb85-1463" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">level =</span> name,</span>
<span id="cb85-1464"><a href="#cb85-1464" aria-hidden="true" tabindex="-1"></a>       <span class="at">theme =</span> <span class="fu">rep</span>(full_crossing<span class="sc">$</span>video_theme, <span class="fu">dim</span>(data)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing)[<span class="dv">1</span>]),</span>
<span id="cb85-1465"><a href="#cb85-1465" aria-hidden="true" tabindex="-1"></a>       <span class="at">audience =</span> <span class="fu">rep</span>(full_crossing<span class="sc">$</span>audience,  <span class="fu">dim</span>(data)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing)[<span class="dv">1</span>])</span>
<span id="cb85-1466"><a href="#cb85-1466" aria-hidden="true" tabindex="-1"></a>       <span class="co">#     starts = rep(full_crossing$starts, 1000) #DR: I think I want starts (start date as a factor) in the model, because the audience may be systematically different on those days, and other things change we leave out here. However, I don't want to see it in the graphs. How to do that? </span></span>
<span id="cb85-1467"><a href="#cb85-1467" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb85-1468"><a href="#cb85-1468" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data)</span>
<span id="cb85-1469"><a href="#cb85-1469" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-1470"><a href="#cb85-1470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1471"><a href="#cb85-1471" aria-hidden="true" tabindex="-1"></a><span class="co"># make tibbles</span></span>
<span id="cb85-1472"><a href="#cb85-1472" aria-hidden="true" tabindex="-1"></a>tib_click_post <span class="ot">&lt;-</span> click_post <span class="sc">%&gt;%</span> </span>
<span id="cb85-1473"><a href="#cb85-1473" aria-hidden="true" tabindex="-1"></a>  <span class="fu">post_tib_clean</span>( <span class="st">"1. Reach to clicks"</span>)</span>
<span id="cb85-1474"><a href="#cb85-1474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1475"><a href="#cb85-1475" aria-hidden="true" tabindex="-1"></a>tib_result_post <span class="ot">&lt;-</span> results_post  <span class="sc">%&gt;%</span></span>
<span id="cb85-1476"><a href="#cb85-1476" aria-hidden="true" tabindex="-1"></a>    <span class="fu">post_tib_clean</span>(<span class="st">"2. Clicks to signups"</span>)</span>
<span id="cb85-1477"><a href="#cb85-1477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1478"><a href="#cb85-1478" aria-hidden="true" tabindex="-1"></a>tib_combined_post <span class="ot">&lt;-</span> combined_post <span class="sc">%&gt;%</span></span>
<span id="cb85-1479"><a href="#cb85-1479" aria-hidden="true" tabindex="-1"></a>      <span class="fu">post_tib_clean</span>(<span class="st">"3. Total"</span>) </span>
<span id="cb85-1480"><a href="#cb85-1480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1481"><a href="#cb85-1481" aria-hidden="true" tabindex="-1"></a>full_post <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(tib_click_post,</span>
<span id="cb85-1482"><a href="#cb85-1482" aria-hidden="true" tabindex="-1"></a>                       tib_result_post,</span>
<span id="cb85-1483"><a href="#cb85-1483" aria-hidden="true" tabindex="-1"></a>                       tib_combined_post)</span>
<span id="cb85-1484"><a href="#cb85-1484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1485"><a href="#cb85-1485" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1486"><a href="#cb85-1486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1487"><a href="#cb85-1487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1488"><a href="#cb85-1488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1489"><a href="#cb85-1489" aria-hidden="true" tabindex="-1"></a><span class="in">```{r post_summary}</span></span>
<span id="cb85-1490"><a href="#cb85-1490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1491"><a href="#cb85-1491" aria-hidden="true" tabindex="-1"></a>hdi <span class="ot">&lt;-</span> HDInterval<span class="sc">::</span>hdi</span>
<span id="cb85-1492"><a href="#cb85-1492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1493"><a href="#cb85-1493" aria-hidden="true" tabindex="-1"></a>CI_choice_n <span class="ot">&lt;-</span> <span class="fl">0.6</span></span>
<span id="cb85-1494"><a href="#cb85-1494" aria-hidden="true" tabindex="-1"></a>CI_choice_w <span class="ot">&lt;-</span> <span class="fl">0.9</span></span>
<span id="cb85-1495"><a href="#cb85-1495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1496"><a href="#cb85-1496" aria-hidden="true" tabindex="-1"></a>sum_mean_hdi <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb85-1497"><a href="#cb85-1497" aria-hidden="true" tabindex="-1"></a>    df, </span>
<span id="cb85-1498"><a href="#cb85-1498" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> probability, <span class="at">scaleme=</span><span class="dv">100</span>, <span class="at">CI_choice_n=</span>CI_choice_narrow, <span class="at">CI_choice_w =</span> CI_choice_wide) {</span>
<span id="cb85-1499"><a href="#cb85-1499" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb85-1500"><a href="#cb85-1500" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb85-1501"><a href="#cb85-1501" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean =</span> <span class="fu">mean</span>({{var}}) <span class="sc">*</span> scaleme,</span>
<span id="cb85-1502"><a href="#cb85-1502" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb85-1503"><a href="#cb85-1503" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb85-1504"><a href="#cb85-1504" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_wide)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb85-1505"><a href="#cb85-1505" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_wide)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb85-1506"><a href="#cb85-1506" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower_eti =</span> <span class="fu">quantile</span>({{var}}, (<span class="dv">1</span><span class="sc">-</span>CI_choice_wide)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb85-1507"><a href="#cb85-1507" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper_eti =</span> <span class="fu">quantile</span>({{var}}, <span class="dv">1</span><span class="sc">-</span>(<span class="dv">1</span><span class="sc">-</span>CI_choice_wide)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb85-1508"><a href="#cb85-1508" aria-hidden="true" tabindex="-1"></a>      <span class="at">check =</span> <span class="fu">length</span>(<span class="fu">hdi</span>({{var}}))</span>
<span id="cb85-1509"><a href="#cb85-1509" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb85-1510"><a href="#cb85-1510" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb85-1511"><a href="#cb85-1511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1512"><a href="#cb85-1512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1513"><a href="#cb85-1513" aria-hidden="true" tabindex="-1"></a>mutate_mean_hdi <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb85-1514"><a href="#cb85-1514" aria-hidden="true" tabindex="-1"></a>    df, </span>
<span id="cb85-1515"><a href="#cb85-1515" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> probability, <span class="at">scaleme=</span><span class="dv">100</span>, <span class="at">CI_choice_n=</span>CI_choice_narrow, <span class="at">CI_choice_w =</span> CI_choice_wide) {</span>
<span id="cb85-1516"><a href="#cb85-1516" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb85-1517"><a href="#cb85-1517" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb85-1518"><a href="#cb85-1518" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean =</span> <span class="fu">mean</span>({{var}}) <span class="sc">*</span> scaleme,</span>
<span id="cb85-1519"><a href="#cb85-1519" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb85-1520"><a href="#cb85-1520" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb85-1521"><a href="#cb85-1521" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_wide)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb85-1522"><a href="#cb85-1522" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_wide)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb85-1523"><a href="#cb85-1523" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower_eti =</span> <span class="fu">quantile</span>({{var}}, (<span class="dv">1</span><span class="sc">-</span>CI_choice_wide)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb85-1524"><a href="#cb85-1524" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper_eti =</span> <span class="fu">quantile</span>({{var}}, <span class="dv">1</span><span class="sc">-</span>(<span class="dv">1</span><span class="sc">-</span>CI_choice_wide)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb85-1525"><a href="#cb85-1525" aria-hidden="true" tabindex="-1"></a>      <span class="at">check =</span> <span class="fu">length</span>(<span class="fu">hdi</span>({{var}}))</span>
<span id="cb85-1526"><a href="#cb85-1526" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb85-1527"><a href="#cb85-1527" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb85-1528"><a href="#cb85-1528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1529"><a href="#cb85-1529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1530"><a href="#cb85-1530" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1531"><a href="#cb85-1531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1532"><a href="#cb85-1532" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Results by audience {-}</span></span>
<span id="cb85-1533"><a href="#cb85-1533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1534"><a href="#cb85-1534" aria-hidden="true" tabindex="-1"></a>We ran two Bayesian Logit models, presented above. Results come out of a two-stage process: some people who see the ad click on it. Some of those who click on the ad leave their email (asking for a Giving Guide). We model clicks as a share of unique impressions ('reach') and results as a share of clicks, allowing each to vary by video theme and by audience. (Later: by text and by demographics.)  The product of these shares (probabilities) yields results as a share of impressions, the main outcome of interest. </span>
<span id="cb85-1535"><a href="#cb85-1535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1536"><a href="#cb85-1536" aria-hidden="true" tabindex="-1"></a>Below, we plot the point means (aka 'coefficients') and 'highest density intervals' (HDI) of our posterior beliefs for these. These models consider the audience and video themes at the same time, the imbalance between audiences and themes should probably not be a major biasing factor.</span>
<span id="cb85-1537"><a href="#cb85-1537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1538"><a href="#cb85-1538" aria-hidden="true" tabindex="-1"></a>*Caveats*: </span>
<span id="cb85-1539"><a href="#cb85-1539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1540"><a href="#cb85-1540" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>The coefficients for the second stage ('clicks to results') should be taken lightly; as the audiences may be selected very different 'conditional on click'; e.g., audiences that are 'easy to click' may by 'harder to convert ot a result'.  </span>
<span id="cb85-1541"><a href="#cb85-1541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1542"><a href="#cb85-1542" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>The results presented below do not control for 'which text treatment' nor for 'which campaign'. (We can do the latter next, but we can only do the former with the other version of the data, which is then missing some detail on who saw which video)</span>
<span id="cb85-1543"><a href="#cb85-1543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1544"><a href="#cb85-1544" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>The usual <span class="co">[</span><span class="ot">'divergent delivery' issue</span><span class="co">](https://effective-giving-marketing.gitbook.io/untitled/methodological-discussion/splits-randomization/facebook-split-testing-etc)</span></span>
<span id="cb85-1545"><a href="#cb85-1545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1546"><a href="#cb85-1546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1547"><a href="#cb85-1547" aria-hidden="true" tabindex="-1"></a><span class="in">```{r aud_plots}</span></span>
<span id="cb85-1548"><a href="#cb85-1548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1549"><a href="#cb85-1549" aria-hidden="true" tabindex="-1"></a>aud_plots <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb85-1550"><a href="#cb85-1550" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb85-1551"><a href="#cb85-1551" aria-hidden="true" tabindex="-1"></a>       <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb85-1552"><a href="#cb85-1552" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(level, audience) <span class="sc">%&gt;%</span> <span class="co">#, starts</span></span>
<span id="cb85-1553"><a href="#cb85-1553" aria-hidden="true" tabindex="-1"></a>    sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb85-1554"><a href="#cb85-1554" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">audience =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(audience), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1555"><a href="#cb85-1555" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb85-1556"><a href="#cb85-1556" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> audience), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb85-1557"><a href="#cb85-1557" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> audience),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb85-1558"><a href="#cb85-1558" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb85-1559"><a href="#cb85-1559" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span><span class="st">`</span><span class="at">mean</span><span class="st">`</span>, </span>
<span id="cb85-1560"><a href="#cb85-1560" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> audience))</span>
<span id="cb85-1561"><a href="#cb85-1561" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb85-1562"><a href="#cb85-1562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1563"><a href="#cb85-1563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1564"><a href="#cb85-1564" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-1565"><a href="#cb85-1565" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb85-1566"><a href="#cb85-1566" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb85-1567"><a href="#cb85-1567" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience (reach, clicks, signups)"</span>,</span>
<span id="cb85-1568"><a href="#cb85-1568" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb85-1569"><a href="#cb85-1569" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb85-1570"><a href="#cb85-1570" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1571"><a href="#cb85-1571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1572"><a href="#cb85-1572" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-1573"><a href="#cb85-1573" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot_no_cause <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb85-1574"><a href="#cb85-1574" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_det</span>(theme, <span class="st">"Animal|Climate|Poverty"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb85-1575"><a href="#cb85-1575" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb85-1576"><a href="#cb85-1576" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience, no cause videos"</span>,</span>
<span id="cb85-1577"><a href="#cb85-1577" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb85-1578"><a href="#cb85-1578" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb85-1579"><a href="#cb85-1579" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1580"><a href="#cb85-1580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1581"><a href="#cb85-1581" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-1582"><a href="#cb85-1582" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot_cause <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb85-1583"><a href="#cb85-1583" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(theme, <span class="st">"Animal|Climate|Poverty"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb85-1584"><a href="#cb85-1584" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb85-1585"><a href="#cb85-1585" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience, Cause videos only"</span>,</span>
<span id="cb85-1586"><a href="#cb85-1586" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb85-1587"><a href="#cb85-1587" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb85-1588"><a href="#cb85-1588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1589"><a href="#cb85-1589" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1590"><a href="#cb85-1590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1591"><a href="#cb85-1591" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1592"><a href="#cb85-1592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1593"><a href="#cb85-1593" aria-hidden="true" tabindex="-1"></a>::: {.callout-note}</span>
<span id="cb85-1594"><a href="#cb85-1594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1595"><a href="#cb85-1595" aria-hidden="true" tabindex="-1"></a>Note: the 'pooled' graphs in this section may not be correctly weighted across subcategories. We need to reexamine this. </span>
<span id="cb85-1596"><a href="#cb85-1596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1597"><a href="#cb85-1597" aria-hidden="true" tabindex="-1"></a>::: </span>
<span id="cb85-1598"><a href="#cb85-1598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1599"><a href="#cb85-1599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1600"><a href="#cb85-1600" aria-hidden="true" tabindex="-1"></a>For the 'cause videos only' we see (todo: doublecheck after final estimates) that the philanthropy audience, across all causes, seems to perform at least as well as the climate and 'global poverty' audiences (when the latter are presented videos for the causes they are said to care about). However, the animal audiences seems to perform substantially better. </span>
<span id="cb85-1601"><a href="#cb85-1601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1602"><a href="#cb85-1602" aria-hidden="true" tabindex="-1"></a>For example, focusing on climate-cause videos (and removing 'lookalikes') below, we see that the philanthropy audience performs substantially better than the climate audience.</span>
<span id="cb85-1603"><a href="#cb85-1603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1606"><a href="#cb85-1606" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-1607"><a href="#cb85-1607" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-1608"><a href="#cb85-1608" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot_climate <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb85-1609"><a href="#cb85-1609" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(theme, <span class="st">"Climate"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb85-1610"><a href="#cb85-1610" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Lookalikes"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1611"><a href="#cb85-1611" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb85-1612"><a href="#cb85-1612" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience, Climate videos only"</span>,</span>
<span id="cb85-1613"><a href="#cb85-1613" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb85-1614"><a href="#cb85-1614" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb85-1615"><a href="#cb85-1615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1616"><a href="#cb85-1616" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1617"><a href="#cb85-1617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1618"><a href="#cb85-1618" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1619"><a href="#cb85-1619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1620"><a href="#cb85-1620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1621"><a href="#cb85-1621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1622"><a href="#cb85-1622" aria-hidden="true" tabindex="-1"></a><span class="fu">### Results by Video   (todo: fix weighting)</span></span>
<span id="cb85-1623"><a href="#cb85-1623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1626"><a href="#cb85-1626" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-1627"><a href="#cb85-1627" aria-hidden="true" tabindex="-1"></a>vid_plots <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb85-1628"><a href="#cb85-1628" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb85-1629"><a href="#cb85-1629" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(level, theme) <span class="sc">%&gt;%</span> <span class="co">#, starts</span></span>
<span id="cb85-1630"><a href="#cb85-1630" aria-hidden="true" tabindex="-1"></a>    sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb85-1631"><a href="#cb85-1631" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">theme =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(theme), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1632"><a href="#cb85-1632" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb85-1633"><a href="#cb85-1633" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> theme), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb85-1634"><a href="#cb85-1634" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> theme),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb85-1635"><a href="#cb85-1635" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb85-1636"><a href="#cb85-1636" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span><span class="st">`</span><span class="at">mean</span><span class="st">`</span>, </span>
<span id="cb85-1637"><a href="#cb85-1637" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> theme))</span>
<span id="cb85-1638"><a href="#cb85-1638" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb85-1639"><a href="#cb85-1639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1640"><a href="#cb85-1640" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-1641"><a href="#cb85-1641" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_vid_plot <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb85-1642"><a href="#cb85-1642" aria-hidden="true" tabindex="-1"></a>    <span class="fu">vid_plots</span>() <span class="sc">+</span></span>
<span id="cb85-1643"><a href="#cb85-1643" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By theme (reach, clicks, signups)"</span>,</span>
<span id="cb85-1644"><a href="#cb85-1644" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb85-1645"><a href="#cb85-1645" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb85-1646"><a href="#cb85-1646" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1647"><a href="#cb85-1647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1648"><a href="#cb85-1648" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-1649"><a href="#cb85-1649" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_vid_plot_phil <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb85-1650"><a href="#cb85-1650" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(audience <span class="sc">==</span> <span class="st">"Philanthropy"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb85-1651"><a href="#cb85-1651" aria-hidden="true" tabindex="-1"></a>    <span class="fu">vid_plots</span>() <span class="sc">+</span></span>
<span id="cb85-1652"><a href="#cb85-1652" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By theme, 'philanthropy' audience only"</span>,</span>
<span id="cb85-1653"><a href="#cb85-1653" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb85-1654"><a href="#cb85-1654" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb85-1655"><a href="#cb85-1655" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1656"><a href="#cb85-1656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1657"><a href="#cb85-1657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1658"><a href="#cb85-1658" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1659"><a href="#cb85-1659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1660"><a href="#cb85-1660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1661"><a href="#cb85-1661" aria-hidden="true" tabindex="-1"></a><span class="in">```{r full_plots}</span></span>
<span id="cb85-1662"><a href="#cb85-1662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1663"><a href="#cb85-1663" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-1664"><a href="#cb85-1664" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_plot <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb85-1665"><a href="#cb85-1665" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"1"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1666"><a href="#cb85-1666" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(theme, audience) <span class="sc">%&gt;%</span> <span class="co">#, starts</span></span>
<span id="cb85-1667"><a href="#cb85-1667" aria-hidden="true" tabindex="-1"></a>    sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb85-1668"><a href="#cb85-1668" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">theme =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(theme), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1669"><a href="#cb85-1669" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb85-1670"><a href="#cb85-1670" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb85-1671"><a href="#cb85-1671" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> theme), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb85-1672"><a href="#cb85-1672" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> theme),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb85-1673"><a href="#cb85-1673" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> theme)) <span class="sc">+</span></span>
<span id="cb85-1674"><a href="#cb85-1674" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">1.75</span>)) <span class="sc">+</span></span>
<span id="cb85-1675"><a href="#cb85-1675" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb85-1676"><a href="#cb85-1676" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Clicks by video theme and audience"</span>,</span>
<span id="cb85-1677"><a href="#cb85-1677" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % clicking with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb85-1678"><a href="#cb85-1678" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb85-1679"><a href="#cb85-1679" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1680"><a href="#cb85-1680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1681"><a href="#cb85-1681" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-1682"><a href="#cb85-1682" aria-hidden="true" tabindex="-1"></a>reach_to_results_plot <span class="ot">&lt;-</span>  full_post <span class="sc">%&gt;%</span> </span>
<span id="cb85-1683"><a href="#cb85-1683" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1684"><a href="#cb85-1684" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(theme, audience) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, </span></span>
<span id="cb85-1685"><a href="#cb85-1685" aria-hidden="true" tabindex="-1"></a>      sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb85-1686"><a href="#cb85-1686" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">theme =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(theme), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1687"><a href="#cb85-1687" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb85-1688"><a href="#cb85-1688" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb85-1689"><a href="#cb85-1689" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> theme), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb85-1690"><a href="#cb85-1690" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> theme),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> theme)) <span class="sc">+</span></span>
<span id="cb85-1691"><a href="#cb85-1691" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb85-1692"><a href="#cb85-1692" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb85-1693"><a href="#cb85-1693" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total)"</span>,</span>
<span id="cb85-1694"><a href="#cb85-1694" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb85-1695"><a href="#cb85-1695" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">factor</span>(audience, <span class="at">levels=</span>audience_levels), <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb85-1696"><a href="#cb85-1696" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1697"><a href="#cb85-1697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1698"><a href="#cb85-1698" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-1699"><a href="#cb85-1699" aria-hidden="true" tabindex="-1"></a>reach_to_results_plot_flip <span class="ot">&lt;-</span>  full_post <span class="sc">%&gt;%</span> </span>
<span id="cb85-1700"><a href="#cb85-1700" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1701"><a href="#cb85-1701" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(audience, theme) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, </span></span>
<span id="cb85-1702"><a href="#cb85-1702" aria-hidden="true" tabindex="-1"></a>      sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb85-1703"><a href="#cb85-1703" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">audience =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(audience), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1704"><a href="#cb85-1704" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb85-1705"><a href="#cb85-1705" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb85-1706"><a href="#cb85-1706" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> audience), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb85-1707"><a href="#cb85-1707" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> audience),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> audience)) <span class="sc">+</span></span>
<span id="cb85-1708"><a href="#cb85-1708" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb85-1709"><a href="#cb85-1709" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb85-1710"><a href="#cb85-1710" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total)"</span>,</span>
<span id="cb85-1711"><a href="#cb85-1711" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb85-1712"><a href="#cb85-1712" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>theme, <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb85-1713"><a href="#cb85-1713" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1714"><a href="#cb85-1714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1715"><a href="#cb85-1715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1716"><a href="#cb85-1716" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1717"><a href="#cb85-1717" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1718"><a href="#cb85-1718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1719"><a href="#cb85-1719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1720"><a href="#cb85-1720" aria-hidden="true" tabindex="-1"></a><span class="fu">### Outcomes by cost</span></span>
<span id="cb85-1721"><a href="#cb85-1721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1722"><a href="#cb85-1722" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1725"><a href="#cb85-1725" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-1726"><a href="#cb85-1726" aria-hidden="true" tabindex="-1"></a><span class="co"># Joining spending and conversion ####</span></span>
<span id="cb85-1727"><a href="#cb85-1727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1728"><a href="#cb85-1728" aria-hidden="true" tabindex="-1"></a>cost_tibble <span class="ot">&lt;-</span> </span>
<span id="cb85-1729"><a href="#cb85-1729" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(tib_combined_post,</span>
<span id="cb85-1730"><a href="#cb85-1730" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(gg_video_breakdowns_col, <span class="at">theme=</span>video_theme)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1731"><a href="#cb85-1731" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb85-1732"><a href="#cb85-1732" aria-hidden="true" tabindex="-1"></a>    <span class="at">reach_per_dollar =</span> reach <span class="sc">/</span> spend,</span>
<span id="cb85-1733"><a href="#cb85-1733" aria-hidden="true" tabindex="-1"></a>    <span class="at">sign_per_dollar =</span> reach_per_dollar <span class="sc">*</span> probability,</span>
<span id="cb85-1734"><a href="#cb85-1734" aria-hidden="true" tabindex="-1"></a>    <span class="co">#NOTE this uses the simulated distribution of probabilities, not just averages! </span></span>
<span id="cb85-1735"><a href="#cb85-1735" aria-hidden="true" tabindex="-1"></a>    <span class="at">sign_per_100d =</span> <span class="dv">100</span><span class="sc">*</span>sign_per_dollar,</span>
<span id="cb85-1736"><a href="#cb85-1736" aria-hidden="true" tabindex="-1"></a>    <span class="at">cost_per_signup =</span> <span class="dv">1</span><span class="sc">/</span>sign_per_dollar</span>
<span id="cb85-1737"><a href="#cb85-1737" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1738"><a href="#cb85-1738" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(spend) <span class="sc">==</span> <span class="cn">FALSE</span>)  </span>
<span id="cb85-1739"><a href="#cb85-1739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1740"><a href="#cb85-1740" aria-hidden="true" tabindex="-1"></a>cost_summary <span class="ot">&lt;-</span> cost_tibble <span class="sc">%&gt;%</span> </span>
<span id="cb85-1741"><a href="#cb85-1741" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(theme, audience) <span class="sc">%&gt;%</span> </span>
<span id="cb85-1742"><a href="#cb85-1742" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum_mean_hdi</span>(<span class="at">var=</span> sign_per_100d, <span class="at">scaleme=</span><span class="dv">1</span>)</span>
<span id="cb85-1743"><a href="#cb85-1743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1744"><a href="#cb85-1744" aria-hidden="true" tabindex="-1"></a><span class="co">#dim(filter(cost_summary, check &gt; 2))[1] ... where HDI is not continuous, I guess... this doesn't happen here atm</span></span>
<span id="cb85-1745"><a href="#cb85-1745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1746"><a href="#cb85-1746" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1747"><a href="#cb85-1747" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1748"><a href="#cb85-1748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1749"><a href="#cb85-1749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1750"><a href="#cb85-1750" aria-hidden="true" tabindex="-1"></a><span class="in">```{r sign_per_100d_plot_vid_by_aud}</span></span>
<span id="cb85-1751"><a href="#cb85-1751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1752"><a href="#cb85-1752" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-1753"><a href="#cb85-1753" aria-hidden="true" tabindex="-1"></a>  sign_per_100d_plot_vid_by_aud <span class="ot">&lt;-</span> cost_tibble <span class="sc">%&gt;%</span></span>
<span id="cb85-1754"><a href="#cb85-1754" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb85-1755"><a href="#cb85-1755" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb85-1756"><a href="#cb85-1756" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb85-1757"><a href="#cb85-1757" aria-hidden="true" tabindex="-1"></a>  ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>(</span>
<span id="cb85-1758"><a href="#cb85-1758" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb85-1759"><a href="#cb85-1759" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> sign_per_100d, </span>
<span id="cb85-1760"><a href="#cb85-1760" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> theme</span>
<span id="cb85-1761"><a href="#cb85-1761" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb85-1762"><a href="#cb85-1762" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb85-1763"><a href="#cb85-1763" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> cost_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>), </span>
<span id="cb85-1764"><a href="#cb85-1764" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> theme)) <span class="sc">+</span></span>
<span id="cb85-1765"><a href="#cb85-1765" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Signups per $100: Comparing videos by audience"</span>,</span>
<span id="cb85-1766"><a href="#cb85-1766" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Density plots, means"</span>) <span class="sc">+</span></span>
<span id="cb85-1767"><a href="#cb85-1767" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">factor</span>(audience, <span class="at">levels =</span> audience_levels), <span class="at">scales =</span> <span class="st">"free_x"</span>  )</span>
<span id="cb85-1768"><a href="#cb85-1768" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1769"><a href="#cb85-1769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1770"><a href="#cb85-1770" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb85-1771"><a href="#cb85-1771" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(filter(cost_tibble, upper_eti &lt; 100)) +</span></span>
<span id="cb85-1772"><a href="#cb85-1772" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_errorbarh(aes(xmin = lower_eti, xmax = upper_eti, y = audience)) +</span></span>
<span id="cb85-1773"><a href="#cb85-1773" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_point(aes(x = mean, y = audience)) +</span></span>
<span id="cb85-1774"><a href="#cb85-1774" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs(title = "Cost per signup ($)",</span></span>
<span id="cb85-1775"><a href="#cb85-1775" aria-hidden="true" tabindex="-1"></a><span class="co">#     x = "Estimated cost per signup (USD) with 95% ETI") +</span></span>
<span id="cb85-1776"><a href="#cb85-1776" aria-hidden="true" tabindex="-1"></a><span class="co">#   facet_wrap(~theme, scales = "free_x")</span></span>
<span id="cb85-1777"><a href="#cb85-1777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1778"><a href="#cb85-1778" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1779"><a href="#cb85-1779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1780"><a href="#cb85-1780" aria-hidden="true" tabindex="-1"></a>Above we consider the cost effectiveness of each video by audience. </span>
<span id="cb85-1781"><a href="#cb85-1781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1782"><a href="#cb85-1782" aria-hidden="true" tabindex="-1"></a>**'Factual short'**: ^<span class="co">[</span><span class="ot">Hard-coded, may need recoding after fixes</span><span class="co">]</span> This video seems to perform as good or better than any other video for each of the cause audiences as well as for the Lookalike audience (but see cav eat). It performs nearly as good as other videos for the other audiences. </span>
<span id="cb85-1783"><a href="#cb85-1783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1784"><a href="#cb85-1784" aria-hidden="true" tabindex="-1"></a>**Climate video**: This seems to have performed best for the Philanthropy and General audiences, although the distribution is diffuse. Surprisingly, it does *not* perform best for the climate audience. </span>
<span id="cb85-1785"><a href="#cb85-1785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1786"><a href="#cb85-1786" aria-hidden="true" tabindex="-1"></a>**Hypercube, Factual Long**: These seemed to have performed worst or near-worst for most audiences. 'Factual long' seems to have clearly performed worse than 'Factual short' version. (But see caveat below.)</span>
<span id="cb85-1787"><a href="#cb85-1787" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1788"><a href="#cb85-1788" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1789"><a href="#cb85-1789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1790"><a href="#cb85-1790" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb85-1791"><a href="#cb85-1791" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1792"><a href="#cb85-1792" aria-hidden="true" tabindex="-1"></a><span class="fu">## Caveat/todo -- Video/campaign date imbalance</span></span>
<span id="cb85-1793"><a href="#cb85-1793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1794"><a href="#cb85-1794" aria-hidden="true" tabindex="-1"></a>There is substantial imbalance in dates the administration of treatments in the pooled data. E.g., the 'Factual short' video was the only one shown for the 2021-12-08 trial, which may confound the above result. The Hypercube video was *only* shown in a single trial, where it was the only video shown. The 'Factual long' video was dropped in later trials (?possibly after poor performance in an explicit A/B test?). Again, confounds are certainly possible.  We may want to either remove trials from dates that only ran a single trial (at a first pass), or include start date/campaign into our modeling.</span>
<span id="cb85-1795"><a href="#cb85-1795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1796"><a href="#cb85-1796" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-1797"><a href="#cb85-1797" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1798"><a href="#cb85-1798" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1799"><a href="#cb85-1799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1800"><a href="#cb85-1800" aria-hidden="true" tabindex="-1"></a><span class="in">```{r sign_per_100d_plot_aud_by_vid}</span></span>
<span id="cb85-1801"><a href="#cb85-1801" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb85-1802"><a href="#cb85-1802" aria-hidden="true" tabindex="-1"></a>  sign_per_100d_plot_aud_by_vid <span class="ot">&lt;-</span> cost_tibble <span class="sc">%&gt;%</span></span>
<span id="cb85-1803"><a href="#cb85-1803" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span> <span class="sc">&amp;</span> audience<span class="sc">!=</span><span class="st">"General audience"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb85-1804"><a href="#cb85-1804" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb85-1805"><a href="#cb85-1805" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb85-1806"><a href="#cb85-1806" aria-hidden="true" tabindex="-1"></a>  ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>(</span>
<span id="cb85-1807"><a href="#cb85-1807" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb85-1808"><a href="#cb85-1808" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> sign_per_100d, </span>
<span id="cb85-1809"><a href="#cb85-1809" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> audience</span>
<span id="cb85-1810"><a href="#cb85-1810" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb85-1811"><a href="#cb85-1811" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb85-1812"><a href="#cb85-1812" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> cost_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span> <span class="sc">&amp;</span> audience<span class="sc">!=</span><span class="st">"General audience"</span>), </span>
<span id="cb85-1813"><a href="#cb85-1813" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> audience)) <span class="sc">+</span></span>
<span id="cb85-1814"><a href="#cb85-1814" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Signups per $100: Comparing audiences for each video"</span>,</span>
<span id="cb85-1815"><a href="#cb85-1815" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Density plots, means"</span>) <span class="sc">+</span></span>
<span id="cb85-1816"><a href="#cb85-1816" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>theme, <span class="at">scales =</span> <span class="st">"free_x"</span>)</span>
<span id="cb85-1817"><a href="#cb85-1817" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb85-1818"><a href="#cb85-1818" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1819"><a href="#cb85-1819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1820"><a href="#cb85-1820" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1821"><a href="#cb85-1821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1822"><a href="#cb85-1822" aria-hidden="true" tabindex="-1"></a>Flipping the previous plot, we compare the cost-effectiveness of each audience for each video.^<span class="co">[</span><span class="ot">Again hard-coding here...</span><span class="co">]</span>^<span class="co">[</span><span class="ot">Note that  the audience-imbalance caveat still applies. We removed the 'General Audience' here, as this was only used for the final trial, and this seems particularly non-comparable.</span><span class="co">]</span> </span>
<span id="cb85-1823"><a href="#cb85-1823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1824"><a href="#cb85-1824" aria-hidden="true" tabindex="-1"></a>The Lookalike audiences are relatively cost-effective for most videos, although the Philanthropy audience seems to do better per dollar for the Climate video. </span>
<span id="cb85-1825"><a href="#cb85-1825" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1826"><a href="#cb85-1826" aria-hidden="true" tabindex="-1"></a>The cause audiences are relatively cost-effective  for their 'own' videos, but not overwhelmingly so. They seemed particularly cost-ineffective for the Hypercube video.</span>
<span id="cb85-1827"><a href="#cb85-1827" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1828"><a href="#cb85-1828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1829"><a href="#cb85-1829" aria-hidden="true" tabindex="-1"></a><span class="fu">## Modeling 'cost per result' and 'results per dollar': possible reference literature</span></span>
<span id="cb85-1830"><a href="#cb85-1830" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1831"><a href="#cb85-1831" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Sodomka, Eric, Sébastien Lahaie, and Dustin Hillard. "A predictive model for advertiser value-per-click in sponsored search." Proceedings of the 22nd international conference on World Wide Web. 2013.</span><span class="co">](https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.448.8462&amp;rep=rep1&amp;type=pdf)</span></span>
<span id="cb85-1832"><a href="#cb85-1832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1833"><a href="#cb85-1833" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Chris Bow Kaggle vignette</span><span class="co">](https://www.kaggle.com/code/chrisbow/an-introduction-to-facebook-ad-analysis-using-r/notebook)</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->


</body></html>