<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.113">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>EA Market testing data analysis - 1&nbsp; Giving What We Can: Giving guides</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: 1;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/gwwc_fb.html" rel="next">
<link href="../index.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>

<script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../site_libs/datatables-binding-0.21/datatables.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../site_libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../site_libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="../site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="../site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="../site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="../site_libs/selectize-0.12.0/selectize.min.js"></script>
<link href="../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Giving What We Can: Giving guides</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">EA Market testing data analysis</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/daaronr/eamt_data_analysis" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">About</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/gwwc_gg.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Giving What We Can: Giving guides</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/gwwc_fb.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Giving What We Can: Feb 22 Facebook Message Test</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/gwwc_pledge_wip.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">(GWWC: Pledge page trial)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/oftw_upsell_input_first_analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">OftW pre-GT-email upsell (impact/emotion)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/tlycs_input_simple_analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">TLYCS Portland trial: Brief report</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/present_summit/eamt_path_presentation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">EAMTT &amp; giving trials: Presentation (EG Summit)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#quick-overview" id="toc-quick-overview" class="nav-link active" data-scroll-target="#quick-overview"><span class="toc-section-number">1.1</span>  Quick overview</a>
  <ul class="collapse">
  <li><a href="#context-facebook-ads-on-a-range-of-audiences" id="toc-context-facebook-ads-on-a-range-of-audiences" class="nav-link" data-scroll-target="#context-facebook-ads-on-a-range-of-audiences">Context: Facebook ads on a range of audiences</a></li>
  </ul></li>
  <li><a href="#the-trial" id="toc-the-trial" class="nav-link" data-scroll-target="#the-trial"><span class="toc-section-number">1.2</span>  The trial</a>
  <ul class="collapse">
  <li><a href="#treatments-text-times-video" id="toc-treatments-text-times-video" class="nav-link" data-scroll-target="#treatments-text-times-video">Treatments (text <span class="math inline">\(\times\)</span> video)</a></li>
  <li><a href="#further-detail-links" id="toc-further-detail-links" class="nav-link" data-scroll-target="#further-detail-links">Further detail, links</a></li>
  <li><a href="#implementation-assignment-key-details" id="toc-implementation-assignment-key-details" class="nav-link" data-scroll-target="#implementation-assignment-key-details">Implementation &amp; assignment: key details</a></li>
  </ul></li>
  <li><a href="#build-source-data-cleaning" id="toc-build-source-data-cleaning" class="nav-link" data-scroll-target="#build-source-data-cleaning"><span class="toc-section-number">1.3</span>  Build: Source data, cleaning</a></li>
  <li><a href="#descriptives" id="toc-descriptives" class="nav-link" data-scroll-target="#descriptives"><span class="toc-section-number">1.4</span>  Descriptives</a>
  <ul class="collapse">
  <li><a href="#implemented-treatments-reach--reach" id="toc-implemented-treatments-reach--reach" class="nav-link" data-scroll-target="#implemented-treatments-reach--reach"><span class="toc-section-number">1.4.1</span>  Implemented treatments, ‘reach’ {-reach}</a></li>
  <li><a href="#demographics" id="toc-demographics" class="nav-link" data-scroll-target="#demographics">Demographics</a></li>
  <li><a href="#outcomes-overview" id="toc-outcomes-overview" class="nav-link" data-scroll-target="#outcomes-overview">Outcomes: overview</a></li>
  <li><a href="#outcomes-for-the-most-comparable-trials-and-ab-tests" id="toc-outcomes-for-the-most-comparable-trials-and-ab-tests" class="nav-link" data-scroll-target="#outcomes-for-the-most-comparable-trials-and-ab-tests">Outcomes for the most comparable trials and A/B tests</a></li>
  </ul></li>
  <li><a href="#modeling-and-inference-bayesian-logistic-regressions-and-cis" id="toc-modeling-and-inference-bayesian-logistic-regressions-and-cis" class="nav-link" data-scroll-target="#modeling-and-inference-bayesian-logistic-regressions-and-cis"><span class="toc-section-number">1.5</span>  Modeling and inference: Bayesian Logistic regressions and CIs</a>
  <ul class="collapse">
  <li><a href="#estimating-the-models" id="toc-estimating-the-models" class="nav-link" data-scroll-target="#estimating-the-models">Estimating the models</a></li>
  <li><a href="#forest-plots" id="toc-forest-plots" class="nav-link" data-scroll-target="#forest-plots">Forest plots</a></li>
  <li><a href="#results-by-video" id="toc-results-by-video" class="nav-link" data-scroll-target="#results-by-video">Results by Video</a></li>
  <li><a href="#results-by-text" id="toc-results-by-text" class="nav-link" data-scroll-target="#results-by-text">Results by text</a></li>
  <li><a href="#outcomes-by-cost" id="toc-outcomes-by-cost" class="nav-link" data-scroll-target="#outcomes-by-cost">Outcomes by cost</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/daaronr/eamt_data_analysis/edit/main/chapters/gwwc_gg.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/daaronr/eamt_data_analysis/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="gwwc_gg" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Giving What We Can: Giving guides</span></span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>This chapter aligns with, and supplements <a href="https://forum.effectivealtruism.org/posts/nhbeKbwMgFKfrzLNb/marketing-messages-trial-for-gwwc-giving-guide-campaign">the EA Forum post “Marketing messages trial for GWWC Giving Guide Campaign”</a></p>
</div>
</div>
<section id="quick-overview" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="quick-overview"><span class="header-section-number">1.1</span> Quick overview</h2>
<section id="context-facebook-ads-on-a-range-of-audiences" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="context-facebook-ads-on-a-range-of-audiences">Context: Facebook ads on a range of audiences</h3>
<p>… [with text and rich content promoting effective giving and a “giving guide” – links people to <a href="https://www.givingwhatwecan.org/giving-guide">a Giving What We Can page</a> asking for their email in exchange for the guide]</p>
<p><strong>Objective</strong>: Test distinct approaches to messaging, aiming to get people to download our Giving Guide. (Previously called “emotional and factual” approaches; basically these were “Charity research facts” vs. “cause focus”)</p>
<p><strong>Process and further goals:</strong> GWWC worked with a creative agency to develop a set of animated video ads wiht differing texts. This work is also informative about costs and the ‘value of targeting’ in this context. Note these ads had several ‘versions’ during the campaign (see ‘Test 1 - Test 4’).</p>
<p><strong>Key findings:</strong></p>
<ul>
<li><p>The cost of an email address acquired via a Facebook campaign during Giving Season was as low as $8.00 across campaigns but could be lower with more targeting.</p></li>
<li><p>“Only 3% of people give effectively,” seems to be an effective message for generating link clicks and email addresses vs.&nbsp;the other messages.</p></li>
<li><p>Lookalike and animal rights audiences seem the most promising audiences.</p></li>
<li><p>Demographics are not very predictive on a per-$ basis.</p></li>
</ul>
<p><strong>Key caveats</strong></p>
<ul>
<li><p><strong>Specificity and interpretation:</strong> All comparisons are not for ‘audiences of similar composition’ but for ‘the best audience Facebook could find to show the ads, within each group, according to its algorithm’. Thus differences in performance may combine ‘better targeting’ with ‘better performance on the targeted group’. See our <a href="https://effective-giving-marketing.gitbook.io/untitled/methodological-discussion/splits-randomization/facebook-split-testing-etc">detailed discussion HERE</a>.</p>
<ul>
<li><p>I.e., we can make statements about “what works better on Facebook in this context and maybe similar contexts”</p></li>
<li><p>but not about “which audience, as defined, is more receptive” (as the targeting <em>within</em> each audience may differ in unobserved ways),</p></li>
<li><p>nor about “which message works better on a particular comparable audience” (for the same reason)</p></li>
</ul></li>
<li><p><strong>Outcome</strong> is ‘click to download the giving guide’.</p></li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Installing BiocManager [1.30.20] ...
    OK [linked cache]</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code: Import raw data for descriptions</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#importing for dynamic input of descriptions below</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Todo: get direct import working: See https://cran.r-project.org/web/packages/rfacebookstat/rfacebookstat.pdf</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>raw_data_path <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"gwwc"</span>, <span class="st">"gg_raw_data_shareable"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>mini_clean <span class="ot">&lt;-</span> <span class="cf">function</span>(df){</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>() <span class="sc">%&gt;%</span> <span class="co"># removes empty rows and columns, here `unique_link_clicks`</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">remove_constant</span>()</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(raw_data_path, <span class="st">"gg_campaign_by_ad_by_text.csv"</span>), <span class="at">show_col_types=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="st">"Campaign name...4"</span>) <span class="sc">%&gt;%</span> <span class="co">#duplicate columns?</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a> mini_clean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="the-trial" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="the-trial"><span class="header-section-number">1.2</span> The trial</h2>
<p><strong>Context</strong>: Facebook advertisements with a range of audiences/filters<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<blockquote class="blockquote">
<p><strong>Effective Giving Guide Lead Generation campaign</strong> … ran late November 2021 - January 2022. The objective of this campaign was to see whether a factual [‘who researches giving’ or ‘magnitude of impact differences’] or cause-led approach was more cost-effective at getting people to fill out a form and give us their email in order to download our Effective Giving Guide.</p>
</blockquote>
<p>The page they were directed to, <!-- (DR: probably the one linked below ) --> “<a href="https://www.givingwhatwecan.org/giving-guide">Learn how to give more effectively</a>” allowed you to download the guide only after leaving your email.</p>
<section id="treatments-text-times-video" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="treatments-text-times-video">Treatments (text <span class="math inline">\(\times\)</span> video)</h3>
<p><em>There were two dimensions of treatment content:</em><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<ol type="1">
<li><strong>The texts displayed above the videos</strong></li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Texts
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>Bigger difference next year:</strong> Want to make a bigger difference next year? Start with our Effective Giving Guide and learn how to make a remarkable impact just by carefully choosing the charities you give to.</p>
<p><strong>100x impact:</strong> Did you know that the best charities can have a 100x greater impact? Download our free Effective Giving Guide for the best tips on doing the most good this holiday season.</p>
<p><strong>6000 people:</strong> Giving What We Can has helped 6,000+ people make a bigger impact on the causes they care about most. Download our free guide and learn how you can do the same.</p>
<p><strong>Cause list</strong>: Whether we’re moved by animal welfare, the climate crisis, or worldwide humanitarian efforts, our community is united by one thing: making the biggest impact we can. Make a bigger difference in the world through charitable giving. Start by downloading our Effective Giving Guide. You’ll learn how to approach charity research and smart giving. And be sure to share it with others who care about making a greater impact on the causes closest to their hearts.</p>
<p><strong>Learn:</strong> Use our free guide to learn how to make a bigger impact on the causes you care about most.</p>
<p><strong>Only 3% research:</strong> Only 3% of donors give based on charity effectiveness yet the best charities can be 100x more impactful. That’s incredible! Check out the Effective Giving Guide 2021. It’ll help you find the most impactful charities across a range of causes.</p>
<p><strong>Overwhelming</strong>: It can be overwhelming with so many problems in the world. Fortunately, we can do <em>a lot</em> to help, if we give effectively. Check out the Effective Giving Guide 2021. It’ll help you find the most impactful charities across a range of causes.</p>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Full text: exported from data set
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Giving What We Can has helped 6,000+ people make a bigger impact on the causes they care about most. Download our free guide and learn how you can do the same., It can be overwhelming with so many problems in the world. Fortunately, we can do <em>a lot</em> to help, if we give effectively.</p>
<p>Check out the Effective Giving Guide 2021. It’ll help you find the most impactful charities across a range of causes., Use our free guide to learn how to make a bigger impact on the causes you care about most., Want to make a bigger difference next year? Start with our Effective Giving Guide and learn how to make a remarkable impact just by carefully choosing the charities you give to., Whether we’re moved by animal welfare, the climate crisis, or worldwide humanitarian efforts, our community is united by one thing: making the biggest impact we can.</p>
<p>Make a bigger difference in the world through charitable giving. Start by downloading our Effective Giving Guide. You’ll learn how to approach charity research and smart giving. And be sure to share it with others who care about making a greater impact on the causes closest to their hearts., Did you know that the best charities can have a 100x greater impact? Download our free Effective Giving Guide for the best tips on doing the most good this holiday season., Only 3% of donors give based on charity effectiveness yet the best charities can be 100x more impactful. That’s incredible!</p>
<p>Check out the Effective Giving Guide 2021. It’ll help you find the most impactful charities across a range of causes.</p>
</div>
</div>
</div>
<ol start="2" type="1">
<li><strong>The Video ads theme and content</strong></li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
“Facts”
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p><a href="https://drive.google.com/file/d/1EPgrkl7MpgcNUWBRUE9YPMG38gYClu2R/view?usp=sharing">Charity research facts short video</a> (8 seconds): Only 3% of donors research charity effectiveness, yet the best charities can 100x your impact, learn how to give effectively&nbsp;</p></li>
<li><p><a href="https://drive.google.com/file/d/1c58siggrMh2KN33bcj5f3afKgqY3RE5B/view?usp=sharing">Charity research facts long video</a> (22 seconds): Trivial things we search (shows someone searching how to do Gangnam style), things we should research (shows someone searching how to donate effectively), only 3% of donors research charity effectiveness, yet the best charities can 100x your impact, learn how to give effectively. Slower paced music compared to the short video and cause videos. &nbsp;</p></li>
</ol>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
“Cause focus”
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol start="3" type="1">
<li><p><a href="https://drive.google.com/file/d/1FtI8gA7V0Jj16Ha91jp6XeF2skNXOu7w/view?usp=sharing">Climate change</a> (15 seconds): Care about climate change? You don’t have to renounce all your possessions, But you could give to effective environmental charities, <em>Learn how to maximize your charitable impact, Download the Effective Giving Guide</em>&nbsp;</p></li>
<li><p><a href="https://drive.google.com/file/d/1qct5OPwrD3wJxZn7GEb9URTFMlkVN8ge/view?usp=sharing">Animal welfare</a> (16 seconds): Care about animals? You don’t have to adopt 100 cats, But you could give to effective animal charities, <em>Learn how to maximize your charitable impact, Download the Effective Giving Guide</em>&nbsp;</p></li>
<li><p><a href="https://drive.google.com/file/d/1POx8U1Y8Ce8xpiaJU2f0s2X3a45t89zI/view?usp=sharing">Poverty</a> (16 seconds): Want to help reduce global poverty? You don’t have to build a village, But you could give to effective global development charities, <em>Learn how to maximize your charitable impact, Download the Effective Giving Guide</em>&nbsp;</p></li>
</ol>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Arguments, rich content from “Brand Video”
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol start="6" type="1">
<li><a href="https://www.youtube.com/watch?v=CiFoHm7HD94">Brand Video</a> (1 min 22 seconds): Animated and voiceover video that explains how GWWC can help maximize charitable impact (support, community, and information) and the problems GWWC addresses (good intentions don’t always produce the desired outcomes, there are millions of charities that have varying degrees of impact and some can even cause harm). CTA: <em>Check out givingwhatwecan.org to learn how you can become an effective giver.</em></li>
</ol>
</div>
</div>
</div>
</section>
<section id="further-detail-links" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="further-detail-links">Further detail, links</h3>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Notes from the trial description
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>“In the original version of our test, we had 1 video for the factual appeal and 3 videos for the cause led approach - 1 for global health and development, 1 for animal welfare and 1 for climate change.”</p>
<p>“We targeted our ads to audiences we thought were likely to engage based on their interests and demographics, and targeted the cause led videos to a relevant audience, i.e.&nbsp;climate change message to climate change audience.”</p>
<p>“We also had various text above the videos that were displayed and optimized.”</p>
</div>
</div>
</div>
<p>Details in Gitbook <a href="https://effective-giving-marketing.gitbook.io/untitled/partner-organizations-and-trials/gwwc/giving-guides-+">HERE (and embedded below)</a> and Gdoc <a href="https://docs.google.com/document/d/1FfrXhD1YAIjrATy9PR6ScP20NMQa82sd80YvMb62iUQ/edit">here</a></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_url</span>(<span class="st">"https://effective-giving-marketing.gitbook.io/untitled/partner-organizations-and-trials/gwwc/giving-guides-+"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<iframe src="https://effective-giving-marketing.gitbook.io/untitled/partner-organizations-and-trials/gwwc/giving-guides-+" width="85%" height="400px" data-external="1">
</iframe>
</div>
</section>
<section id="implementation-assignment-key-details" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="implementation-assignment-key-details">Implementation &amp; assignment: key details</h3>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Treatment assignment order, dates
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The treatment assignment was determined by Facebook’s algorithm. Video content was manipulated across three split tests.</p>
<p>Test 1 (Nov 30, 2021 – Dec 8, 2021, campaigns: “Cause-Led” and “Factual”) displayed either the long factual video or a cause focus video. In the cause focus condition, cause-specific audiences for animal rights, climate change, and poverty (based on their behavior on Facebook) were shown the relevant cause video.</p>
<p>Test 2 (Starting December 8, campaign “Factual V2”?) was the same as Test 1 but used the short factual video instead of the cause-focus videos.</p>
<p>Test 3 (Starting December 23, campaign “Cause-led V3” and “Factual V3” (?)): was the same as Test 2 but had a new version of the videos (with Luke just holding up signs with the words). This test was also restricted to 18-35 (or 18-44) year olds.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<p>Test 4: (Starting December 23, “Brand Video” and “PPCo”) The Brand Video was displayed in a separate campaign which was tested against another campaign that allowed the algorithm to optimize between the ‘short factual’ and ‘cause focus’ videos (although not allowing each cause-specific audience to see the ads for other cause areas).</p>
<p>In all tests, the text content displayed above the video was determined by Facebook’s algorithm. Balance across variations was determined to equate budgets across split tests; otherwise, according to Facebook’s algorithm. All variation was done at the level of the impression.</p>
<p>The videos were adapted across the trials as we learned. First, we updated the factual video to be shorter for Trial 2, and then we tried videos of Luke holding up signs spelling out the voiceover in Trial 3 for all videos.</p>
</div>
</div>
</div>
</section>
</section>
<section id="build-source-data-cleaning" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="build-source-data-cleaning"><span class="header-section-number">1.3</span> Build: Source data, cleaning</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Accessing, downloading, inputting data
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>See:</p>
<p>https://effective-giving-marketing.gitbook.io/untitled/marketing-and-testing-opportunities-tools-tips/collecting-data-trial-outcomes/facebook-meta-ads-interface</p>
<p><a href="https://effective-giving-marketing.gitbook.io/untitled/marketing-and-testing-opportunities-tools-tips/collecting-data-trial-outcomes/facebook-meta-ads-interface">Accessing and bringing down simple results HERE</a></p>
<p>We import the exported ‘pivot table’ <code>gg_campaign_by_ad_by_text</code> below, as well as the more detailed version, broken down by age range and gender: <code>gg-campaign-by-ad-set-text-age-gender.csv</code>.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
</div>
</div>
</div>

<!-- [Most relevant breakdowns as pivot tables](https://app.gitbook.com/o/-MfFk4CTSGwVOPkwnRgx/s/-Mf8cHxdwePMZXRTKnEE/core-knowledge-base/marketing-implementation-and-practical-tips/collecting-data-trial-outcomes/facebook-meta-ads-interface/...-pivot-tables) -->
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Data structure
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The data frame <code>gg_campaign_by_ad_by_text_age_gender</code> has one row per combination of ‘campaign, ad, text, age group, gender’.</p>
<p>Each row represents a combination of the below (with different numbers of ‘reach’ for each row)<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
<ul>
<li><p><code>campaign_name</code>: When and and with what funds the ad was launched, I think (?)</p></li>
<li><p><code>ad_set</code>: An ad set can specifically tie an <code>ad_name</code> to an audience (I think)</p></li>
<li><p><code>ad_name</code>: Which video/media (or collection of optimized videos/media) was shown; note this is paired with ‘which audience’ in it’s label, as there were specific ‘global poverty’, ‘animal welfare’, ‘climate change’, ‘philanthropy’ and ‘retargeting’ audiences</p>
<ul>
<li>Caveat: The <code>ad_name</code> seems to select from a different set of media for optimization depending on which <code>ad_set</code> it is in.<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></li>
</ul></li>
<li><p><code>text</code>: Which text was shown along with the video</p></li>
<li><p><code>age</code> (a range of ages)</p></li>
<li><p><code>gender</code> (female, male, unknown)</p></li>
</ul>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Import raw data</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>raw_data_path <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"gwwc"</span>, <span class="st">"gg_raw_data_shareable"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#already input above: gg_campaign_by_ad_by_text</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Version allowing demographic breakdown:</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(raw_data_path, <span class="st">"gg-campaign-by-ad-set-text-age-gender.csv"</span>), <span class="at">show_col_types=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#dplyr::select(-"Campaign name...4") %&gt;% #duplicate columns?</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a> <span class="fu">mini_clean</span>()</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Version with information on cause videos shown (even to those in 'general' groups):</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(raw_data_path, <span class="st">"gg-image-video-breakdowns.csv"</span>), <span class="at">show_col_types=</span><span class="cn">FALSE</span>)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co">#capture and remove columns that are the same everywhere</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>attribution_setting_c <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>attribution_setting <span class="sc">%&gt;%</span> .[<span class="dv">1</span>]</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>reporting_starts_c <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>reporting_starts <span class="sc">%&gt;%</span> .[<span class="dv">1</span>]</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>reporting_ends_c <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>reporting_ends <span class="sc">%&gt;%</span> .[<span class="dv">1</span>]</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender  <span class="sc">%&lt;&gt;%</span> <span class="fu">mini_clean</span>()</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns  <span class="sc">%&lt;&gt;%</span> <span class="fu">mini_clean</span>()</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co">#functions to clean these specific data sets 'gg_campaign_by_ad_by_text_age_gender' and 'gg_campaign_by_ad_by_text':</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">here</span>(<span class="st">"gwwc"</span>, <span class="st">"giving_guides"</span>, <span class="st">"clean_gg_raw_data.R"</span>))</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="co">#Many cleaning steps: audience, video_theme, campaign_theme, agetrin; releveling</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender <span class="sc">%&lt;&gt;%</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_gg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_make_cols</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">text_clean</span>() <span class="sc">%&gt;%</span>  <span class="co"># Shorter 'text treatment' column</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, <span class="fu">everything</span>(), <span class="sc">-</span>campaign_name_1, <span class="sc">-</span>campaign_name_7) <span class="co">#campaign_name_7 was the same as campaign_name_1</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="sc">%&lt;&gt;%</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_gg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_make_cols</span>()</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="co">#gg_campaign_by_ad_by_text_age_gender %&gt;% collapse::descr()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Encode video types</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="sc">%&lt;&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">video_theme =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"set_1|Animals"</span>) <span class="sc">~</span> <span class="st">"Animal"</span>,</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"set_2|Climate"</span>) <span class="sc">~</span> <span class="st">"Climate"</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"set_3|Poverty"</span>) <span class="sc">~</span> <span class="st">"Poverty"</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"Free Effective"</span>) <span class="sc">&amp;</span> video_theme<span class="sc">==</span><span class="st">"Cause-led (any)"</span> <span class="sc">~</span> <span class="st">"Poverty"</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"factual_short|Factual Short"</span>) <span class="sc">~</span> <span class="st">"Factual short"</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span>   video_theme</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">video_theme =</span>  <span class="fu">factor</span>(video_theme),</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">video_theme =</span> <span class="fu">fct_relevel</span>(video_theme, <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Poverty"</span>, <span class="st">"Factual short"</span>, <span class="st">"Factual long"</span>, <span class="st">"Branded (factual)"</span>))</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Export/save data</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>cleaned_data_path <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"gwwc"</span>, <span class="st">"gg_processed_data"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#export 'cleaned' data for others to play with immediately</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(gg_video_breakdowns, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_video_breakdowns.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(gg_campaign_by_ad_by_text_age_gender, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_campaign_by_ad_by_text_age_gender.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(gg_video_breakdowns, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_video_breakdowns.Rdata"</span>))</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(gg_campaign_by_ad_by_text_age_gender, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_campaign_by_ad_by_text_age_gender.Rdata"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
This data is being publicly shared; above, ‘export’ above
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This data is clearly not identifying individuals; it involves aggregates based on real or assumed characteristics … there is likely nothing that needs to be hidden here. We are sharing and integrating all the data in this repo, for a complete pipeline.</p>
<p>In the code above, we create several ‘cleaned data’ files for others to access in the <a href="https://github.com/daaronr/eamt_data_analysis">linked Github repo</a> (under <code>gwwc</code>.)</p>
<p>You can access the original data referred to above, and/or fork or clone our public Github repository and run the present code if you like.</p>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Previous version of data used … (moved)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We previously used data collapsed (breakdowns) by demography and ad set, into 2 files, which duplicated rows to represent the number of people reached: <code>video breakdown</code>, and <code>text breakdown.csv</code>. We now use the more ‘raw’ minimal version of the data, avoiding duplicating rows where possible.</p>
<p>Below, we also input some of the ‘old version’ of the data, with the duplicated rows, to accommodate the old-format of analysis … this will be removed when we switch over. The code above inputs and builds 2-4 related data frames (tibbles), which were constructed from the collapsed (aggregated) data by multiplying rows according to observation counts. I am not sure where this was done. Once we update the rest we will get rid of this. …</p>
<p>e.g.,</p>
<p><code>gwwc_vid_results</code>: Observations of emails provided… by video content</p>
<p>This content/input has been moved to <code>eamt_data_analysis/gwwc/giving_guides/archive_erin/erin_plots_stats_gg.qmd</code>, at least for now</p>
</div>
</div>
</div>
</section>
<section id="descriptives" class="level2 page-columns page-full" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="descriptives"><span class="header-section-number">1.4</span> Descriptives</h2>
<section id="implemented-treatments-reach--reach" class="level3 page-columns page-full" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="implemented-treatments-reach--reach"><span class="header-section-number">1.4.1</span> Implemented treatments, ‘reach’ {-reach}</h3>
<p>First we illustrate ‘where, when, and to whom’ the different campaigns and treatments were shown (‘people reached’ on Facebook).</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
We use ‘reach’ as our metric throughout’; essentially ‘unique impressions’
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>According to Facebook (https://business.facebook.com/adsmanager/ accessed 5 Aug 2022), reach is:</p>
<blockquote class="blockquote">
<p>The number of people who saw your ads at least once. Reach is different from impressions, which may include multiple views of your ads by the same people.</p>
</blockquote>
<p>In all of our figures below we use the <em>reach</em> outcome rather than the ‘impressions’ outcome, although we sometimes refer to it as ‘impressions’, because it is a clearer way of describing it.</p>
</div>
</div>
</div>
<p>The sequential campaigns involved different sets of videos.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  reach_campaign_theme <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, video_theme, reach) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tabyl</span>(campaign_name, video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, Animal, Climate, Poverty, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Campaign names and video themes: unique impressions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Campaign names and video themes: unique impressions</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> campaign_name </th>
   <th style="text-align:right;"> Animal </th>
   <th style="text-align:right;"> Climate </th>
   <th style="text-align:right;"> Poverty </th>
   <th style="text-align:right;"> Factual short </th>
   <th style="text-align:right;"> Factual long </th>
   <th style="text-align:right;"> Branded (factual) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Branded </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 56,694 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 - Cause-led </td>
   <td style="text-align:right;"> 81,298 </td>
   <td style="text-align:right;"> 5,272 </td>
   <td style="text-align:right;"> 33,027 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 – Cause-led V3 </td>
   <td style="text-align:right;"> 37,680 </td>
   <td style="text-align:right;"> 3,882 </td>
   <td style="text-align:right;"> 60,346 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 – Factual </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2,333 </td>
   <td style="text-align:right;"> 25,316 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 – Factual V2 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 103,329 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 – Factual V3 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 112,203 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Giving Guide 2021 – PPCo Creatives </td>
   <td style="text-align:right;"> 23,037 </td>
   <td style="text-align:right;"> 23,238 </td>
   <td style="text-align:right;"> 2,383 </td>
   <td style="text-align:right;"> 62,116 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>reach_campaign_audience <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span> <span class="co">#created but not shown for now</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, audience, reach) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tabyl</span>(campaign_name, audience) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Campaign names and audiences: unique impressions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
These videos had different versions
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  versions_of_videos <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, version, reach) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>   table <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Versions of videos: unique impressions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Versions of videos: unique impressions</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:right;"> V1 </th>
   <th style="text-align:right;"> V2 - factual shortened </th>
   <th style="text-align:right;"> V3 - sometimes Luke </th>
   <th style="text-align:right;"> Video/creatives </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Animal </td>
   <td style="text-align:right;"> 40,852 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 20,593 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Branded (factual) </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 66,393 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cause-led (any) </td>
   <td style="text-align:right;"> 79,624 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 75,570 </td>
   <td style="text-align:right;"> 117,888 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Climate </td>
   <td style="text-align:right;"> 1,779 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 339 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual long </td>
   <td style="text-align:right;"> 29,589 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 109,262 </td>
   <td style="text-align:right;"> 120,244 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Poverty </td>
   <td style="text-align:right;"> 7,906 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 12,017 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
<p>####&nbsp;Which videos were shown to which audiences? {-which_videos}</p>
<p>Some audiences were profiled as being associated with a certain cause (through their Facebook interests or activities): in ‘cause-focused’ campaigns they were shown videos for their profiled cause. In campaigns that were not cause-focused, they were shown general interest videos. However, those associated with one cause were never shown videos for other causes.</p>
<p>Audiences not associated with a cause included the ‘General’ audience, the Philanthropy (interested in charity) audience, a GWWC ‘Lookalike’ audience, and a Retargeted audience: these audiences were shown either the more general-interest videos or particular cause videos.<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> This is illustrated in the table below.</p>
<div class="column-body-outset">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>video_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Poverty"</span>, <span class="st">"Factual short"</span>,  <span class="st">"Factual long"</span>, <span class="st">"Branded (Factual)"</span>, <span class="st">"Total"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>audience_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Global Poverty"</span>, <span class="st">"Philanthropy"</span>, <span class="st">"General audience"</span>, <span class="st">"Lookalikes"</span>, <span class="st">"Retargeting"</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>adorn_opts <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_percentages</span>(<span class="st">"all"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="fu">c</span>(<span class="st">"row"</span>, <span class="st">"col"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_pct_formatting</span>(<span class="at">digits =</span> <span class="dv">2</span>)  </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>reach_video_audience <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, audience, reach) <span class="sc">%&gt;%</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabyl</span>(audience, video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_opts</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(audience, Animal, Climate,Poverty, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">audience =</span>  <span class="fu">factor</span>(audience, <span class="at">levels =</span> audience_levels)) <span class="sc">%&gt;%</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(audience)  <span class="sc">%&gt;%</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Video themes (columns) by audience (rows): share of unique impressions"</span>, <span class="at">digits=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>() </span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Video themes (columns) by audience (rows): share of unique impressions</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> audience </th>
   <th style="text-align:left;"> Animal </th>
   <th style="text-align:left;"> Climate </th>
   <th style="text-align:left;"> Poverty </th>
   <th style="text-align:left;"> Factual short </th>
   <th style="text-align:left;"> Factual long </th>
   <th style="text-align:left;"> Branded (factual) </th>
   <th style="text-align:left;"> Total </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Animal </td>
   <td style="text-align:left;"> 9.77% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 11.84% </td>
   <td style="text-align:left;"> 1.22% </td>
   <td style="text-align:left;"> 0.95% </td>
   <td style="text-align:left;"> 23.78% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Climate </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 1.80% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 12.53% </td>
   <td style="text-align:left;"> 1.19% </td>
   <td style="text-align:left;"> 2.26% </td>
   <td style="text-align:left;"> 17.78% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Global Poverty </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 3.04% </td>
   <td style="text-align:left;"> 4.88% </td>
   <td style="text-align:left;"> 0.64% </td>
   <td style="text-align:left;"> 1.05% </td>
   <td style="text-align:left;"> 9.60% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Philanthropy </td>
   <td style="text-align:left;"> 10.02% </td>
   <td style="text-align:left;"> 1.88% </td>
   <td style="text-align:left;"> 9.26% </td>
   <td style="text-align:left;"> 8.19% </td>
   <td style="text-align:left;"> 0.88% </td>
   <td style="text-align:left;"> 1.88% </td>
   <td style="text-align:left;"> 32.11% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> General audience </td>
   <td style="text-align:left;"> 1.35% </td>
   <td style="text-align:left;"> 0.98% </td>
   <td style="text-align:left;"> 0.18% </td>
   <td style="text-align:left;"> 2.11% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 2.67% </td>
   <td style="text-align:left;"> 7.30% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Lookalikes </td>
   <td style="text-align:left;"> 1.31% </td>
   <td style="text-align:left;"> 0.45% </td>
   <td style="text-align:left;"> 2.66% </td>
   <td style="text-align:left;"> 4.73% </td>
   <td style="text-align:left;"> 0.08% </td>
   <td style="text-align:left;"> 0.16% </td>
   <td style="text-align:left;"> 9.39% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Retargeting </td>
   <td style="text-align:left;"> 0.01% </td>
   <td style="text-align:left;"> 0.01% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.01% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.01% </td>
   <td style="text-align:left;"> 0.04% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> NA </td>
   <td style="text-align:left;"> 22.47% </td>
   <td style="text-align:left;"> 5.12% </td>
   <td style="text-align:left;"> 15.15% </td>
   <td style="text-align:left;"> 44.29% </td>
   <td style="text-align:left;"> 4.00% </td>
   <td style="text-align:left;"> 8.97% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Below (in fold), we see that the second treatment dimension – the text presented along with the video – was allowed to vary independently of the video (but these are not ‘statistically independent’).</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Video themes by text treatment
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>video_levels_gg <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Poverty"</span>, <span class="st">"Cause-led (any)"</span>, <span class="st">"Factual short"</span>,  <span class="st">"Factual long"</span>, <span class="st">"Branded (Factual)"</span>, <span class="st">"Total"</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  reach_video_text <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, text_treat, reach) <span class="sc">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">tabyl</span>(video_theme, text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>       <span class="fu">adorn_opts</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">video_theme =</span>  <span class="fu">factor</span>(video_theme, <span class="at">levels =</span> video_levels_gg)) <span class="sc">%&gt;%</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(video_theme)  <span class="sc">%&gt;%</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Video themes by text treatment: unique impressions"</span>, <span class="at">digits=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Video themes by text treatment: unique impressions</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> video_theme </th>
   <th style="text-align:left;"> 100x impact </th>
   <th style="text-align:left;"> 6000+ people </th>
   <th style="text-align:left;"> Bigger difference </th>
   <th style="text-align:left;"> Cause list </th>
   <th style="text-align:left;"> Learn </th>
   <th style="text-align:left;"> Only 3% research </th>
   <th style="text-align:left;"> Overwhelming </th>
   <th style="text-align:left;"> Total </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Animal </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 2.13% </td>
   <td style="text-align:left;"> 3.36% </td>
   <td style="text-align:left;"> 1.08% </td>
   <td style="text-align:left;"> 1.26% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 1.18% </td>
   <td style="text-align:left;"> 9.01% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Climate </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.04% </td>
   <td style="text-align:left;"> 0.05% </td>
   <td style="text-align:left;"> 0.04% </td>
   <td style="text-align:left;"> 0.13% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.05% </td>
   <td style="text-align:left;"> 0.31% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Poverty </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.40% </td>
   <td style="text-align:left;"> 0.83% </td>
   <td style="text-align:left;"> 1.01% </td>
   <td style="text-align:left;"> 0.37% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 0.32% </td>
   <td style="text-align:left;"> 2.92% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cause-led (any) </td>
   <td style="text-align:left;"> 4.66% </td>
   <td style="text-align:left;"> 8.59% </td>
   <td style="text-align:left;"> 5.94% </td>
   <td style="text-align:left;"> 3.49% </td>
   <td style="text-align:left;"> 6.79% </td>
   <td style="text-align:left;"> 3.39% </td>
   <td style="text-align:left;"> 7.19% </td>
   <td style="text-align:left;"> 40.04% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:left;"> 9.51% </td>
   <td style="text-align:left;"> 5.39% </td>
   <td style="text-align:left;"> 7.37% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 4.73% </td>
   <td style="text-align:left;"> 6.64% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 33.65% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual long </td>
   <td style="text-align:left;"> 0.61% </td>
   <td style="text-align:left;"> 0.83% </td>
   <td style="text-align:left;"> 0.94% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 1.28% </td>
   <td style="text-align:left;"> 0.68% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 4.34% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:left;"> 17.47% </td>
   <td style="text-align:left;"> 18.81% </td>
   <td style="text-align:left;"> 20.19% </td>
   <td style="text-align:left;"> 5.62% </td>
   <td style="text-align:left;"> 16.15% </td>
   <td style="text-align:left;"> 13.04% </td>
   <td style="text-align:left;"> 8.74% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> NA </td>
   <td style="text-align:left;"> 2.69% </td>
   <td style="text-align:left;"> 1.43% </td>
   <td style="text-align:left;"> 1.71% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 1.59% </td>
   <td style="text-align:left;"> 2.32% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 9.73% </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Note (again) that we cannot identify all of the video treatments in the same dataset with text treatments; thus, some are characterized as ‘cause-led (any)’. This is a limitation of the Facebook interface.</p>
</div>
</div>
</div>
<p>Note that treatment shares are not equal. In fact, as the first table in this section shows, they are not even equal within each campaign. This is because Facebook optimizes to show more succesful videos and text more than less succesful versions.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a></p>
<p>As shown in the fold below, the set of text treatments varied across campaigns:</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Text treatments by campaign
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Below, we present the text treatments <em>as shares of each campaign’s unique impressions</em>. We see that the text treatments varied as shares of the treatments in each campaign. Some texts were swapped for other texts in later campaigns. But even among campaigns that used the same overall set of texts, there was some dramatic variation E.g., the ‘100x impact’ was favored heavily in the ‘Factual V2’ campaign, while the other ‘Factual’ campaigns used this much less frequently. This presumably resulted from it performing better in the earliest hours of the Factual V2 trial, and Facebook’s algorithm thus favoring it.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  reach_text_campaign <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, text_treat, reach) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a> <span class="fu">tabyl</span>(campaign_name, text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_percentages</span>(<span class="st">"row"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>     <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="fu">c</span>(<span class="st">"col"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_pct_formatting</span>(<span class="at">digits =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Text treatments as shares of unique impressions by campaign"</span>, <span class="at">digits=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Text treatments as shares of unique impressions by campaign</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> campaign_name </th>
   <th style="text-align:left;"> 100x impact </th>
   <th style="text-align:left;"> 6000+ people </th>
   <th style="text-align:left;"> Bigger difference </th>
   <th style="text-align:left;"> Cause list </th>
   <th style="text-align:left;"> Learn </th>
   <th style="text-align:left;"> Only 3% research </th>
   <th style="text-align:left;"> Overwhelming </th>
   <th style="text-align:left;"> Total </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Branded </td>
   <td style="text-align:left;"> 27.61% </td>
   <td style="text-align:left;"> 14.65% </td>
   <td style="text-align:left;"> 17.55% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 16.37% </td>
   <td style="text-align:left;"> 23.82% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cause-led </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 24.99% </td>
   <td style="text-align:left;"> 27.61% </td>
   <td style="text-align:left;"> 15.45% </td>
   <td style="text-align:left;"> 13.15% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 18.79% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cause-led V3 </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 23.91% </td>
   <td style="text-align:left;"> 11.08% </td>
   <td style="text-align:left;"> 16.76% </td>
   <td style="text-align:left;"> 15.88% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 32.36% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual </td>
   <td style="text-align:left;"> 14.05% </td>
   <td style="text-align:left;"> 19.08% </td>
   <td style="text-align:left;"> 21.65% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 29.49% </td>
   <td style="text-align:left;"> 15.73% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual V2 </td>
   <td style="text-align:left;"> 28.16% </td>
   <td style="text-align:left;"> 10.41% </td>
   <td style="text-align:left;"> 21.63% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 11.88% </td>
   <td style="text-align:left;"> 27.93% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual V3 </td>
   <td style="text-align:left;"> 28.37% </td>
   <td style="text-align:left;"> 21.14% </td>
   <td style="text-align:left;"> 22.14% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 16.04% </td>
   <td style="text-align:left;"> 12.31% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> PPCo Creatives </td>
   <td style="text-align:left;"> 26.94% </td>
   <td style="text-align:left;"> 14.95% </td>
   <td style="text-align:left;"> 18.16% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 20.34% </td>
   <td style="text-align:left;"> 19.61% </td>
   <td style="text-align:left;"> 0.00% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</section>
<section id="demographics" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="demographics">Demographics</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  reach_age_gender <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(age, gender, reach) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(age, gender) <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>       <span class="fu">adorn_opts</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Unique impressions: shares by Age and Gender"</span>, <span class="at">digits=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Unique impressions: shares by Age and Gender</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> age </th>
   <th style="text-align:left;"> female </th>
   <th style="text-align:left;"> male </th>
   <th style="text-align:left;"> unknown </th>
   <th style="text-align:left;"> Total </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 13-17 </td>
   <td style="text-align:left;"> 0.03% </td>
   <td style="text-align:left;"> 0.02% </td>
   <td style="text-align:left;"> 0.01% </td>
   <td style="text-align:left;"> 0.05% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 18-24 </td>
   <td style="text-align:left;"> 13.02% </td>
   <td style="text-align:left;"> 5.78% </td>
   <td style="text-align:left;"> 0.63% </td>
   <td style="text-align:left;"> 19.43% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 25-34 </td>
   <td style="text-align:left;"> 27.50% </td>
   <td style="text-align:left;"> 9.32% </td>
   <td style="text-align:left;"> 0.68% </td>
   <td style="text-align:left;"> 37.50% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 35-44 </td>
   <td style="text-align:left;"> 15.71% </td>
   <td style="text-align:left;"> 4.27% </td>
   <td style="text-align:left;"> 0.47% </td>
   <td style="text-align:left;"> 20.45% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 45-54 </td>
   <td style="text-align:left;"> 5.21% </td>
   <td style="text-align:left;"> 0.95% </td>
   <td style="text-align:left;"> 0.15% </td>
   <td style="text-align:left;"> 6.30% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 55-64 </td>
   <td style="text-align:left;"> 6.42% </td>
   <td style="text-align:left;"> 1.26% </td>
   <td style="text-align:left;"> 0.16% </td>
   <td style="text-align:left;"> 7.84% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 65+ </td>
   <td style="text-align:left;"> 6.44% </td>
   <td style="text-align:left;"> 1.78% </td>
   <td style="text-align:left;"> 0.20% </td>
   <td style="text-align:left;"> 8.42% </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:left;"> 74.32% </td>
   <td style="text-align:left;"> 23.39% </td>
   <td style="text-align:left;"> 2.29% </td>
   <td style="text-align:left;"> 100.00% </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>As can be clearly seen above, within all age groups, the ads were disproportionally shown to women. Relative to the <a href="https://www.statista.com/statistics/187549/facebook-distribution-of-users-age-group-usa/#:~:text=As%20of%20June%202022%2C%2023.5,13%20to%2017%20years%20old">overall Facebook population</a> our data skews very slightly younger.<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a></p>
<!-- 
::: {.cell}

```{.r .cell-code}
knitr::include_url("https://www.statista.com/statistics/187549/facebook-distribution-of-users-age-group-usa/#:~:text=As%20of%20June%202022%2C%2023.5,13%20to%2017%20years%20old")
```


<iframe src="https://www.statista.com/statistics/187549/facebook-distribution-of-users-age-group-usa/#:~:text=As%20of%20June%202022%2C%2023.5,13%20to%2017%20years%20old" width="672" height="400px" data-external="1"></iframe>
:::


-->
</section>
<section id="outcomes-overview" class="level3 unnumbered page-columns page-full">
<h3 class="unnumbered anchored" data-anchor-id="outcomes-overview">Outcomes: overview</h3>
<p>Below, we present the dates of each campaign, along with start dates and results:</p>
<div class="column-body-outset">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>base_results_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    df <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">summarize</span>(</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Cost =</span> <span class="fu">sum</span>(<span class="fu">round</span>(amount_spent_usd,<span class="dv">0</span>)),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">reach</span><span class="st">`</span><span class="ot">=</span><span class="fu">sum</span>(reach),</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span><span class="ot">=</span><span class="fu">sum</span>(link_clicks, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">Results=</span><span class="fu">sum</span>(results, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">$/ impr.</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Cost<span class="sc">/</span>reach,<span class="dv">3</span>),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">$/ click</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Cost<span class="sc">/</span> <span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>,<span class="dv">1</span>),</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Cost<span class="sc">/</span>Results,<span class="dv">1</span>),</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Results/ 1k impr.</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Results<span class="sc">*</span><span class="dv">1000</span><span class="sc">/</span>reach,<span class="dv">1</span>)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>     }</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  campaign_date_outcomes <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(campaign_name, starts, ends) <span class="sc">%&gt;%</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="st">'Campaign'</span> <span class="ot">=</span> campaign_name) <span class="sc">%&gt;%</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">200</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(starts) <span class="sc">%&gt;%</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Campaign and start date"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_footnote</span>(<span class="st">"'False start' campaign dates with less than 200 reach are excluded"</span>)</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Results by Campaign and start date</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> Campaign </th>
   <th style="text-align:left;"> starts </th>
   <th style="text-align:left;"> ends </th>
   <th style="text-align:right;"> Cost </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> Link clicks </th>
   <th style="text-align:right;"> Results </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Cause-led </td>
   <td style="text-align:left;"> 2021-11-30 </td>
   <td style="text-align:left;"> 2021-12-20 </td>
   <td style="text-align:right;"> 4,451 </td>
   <td style="text-align:right;"> 113,399 </td>
   <td style="text-align:right;"> 1,111 </td>
   <td style="text-align:right;"> 407 </td>
   <td style="text-align:right;"> 0.039 </td>
   <td style="text-align:right;"> 4.0 </td>
   <td style="text-align:right;"> 10.9 </td>
   <td style="text-align:right;"> 3.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual </td>
   <td style="text-align:left;"> 2021-11-30 </td>
   <td style="text-align:left;"> 2021-12-08 </td>
   <td style="text-align:right;"> 484 </td>
   <td style="text-align:right;"> 10,752 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 19 </td>
   <td style="text-align:right;"> 0.045 </td>
   <td style="text-align:right;"> 5.1 </td>
   <td style="text-align:right;"> 25.5 </td>
   <td style="text-align:right;"> 1.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual V2 </td>
   <td style="text-align:left;"> 2021-12-08 </td>
   <td style="text-align:left;"> 2021-12-20 </td>
   <td style="text-align:right;"> 3,401 </td>
   <td style="text-align:right;"> 94,168 </td>
   <td style="text-align:right;"> 1,362 </td>
   <td style="text-align:right;"> 417 </td>
   <td style="text-align:right;"> 0.036 </td>
   <td style="text-align:right;"> 2.5 </td>
   <td style="text-align:right;"> 8.2 </td>
   <td style="text-align:right;"> 4.4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cause-led V3 </td>
   <td style="text-align:left;"> 2021-12-23 </td>
   <td style="text-align:left;"> 2022-01-04 </td>
   <td style="text-align:right;"> 1,422 </td>
   <td style="text-align:right;"> 101,892 </td>
   <td style="text-align:right;"> 408 </td>
   <td style="text-align:right;"> 164 </td>
   <td style="text-align:right;"> 0.014 </td>
   <td style="text-align:right;"> 3.5 </td>
   <td style="text-align:right;"> 8.7 </td>
   <td style="text-align:right;"> 1.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual V3 </td>
   <td style="text-align:left;"> 2021-12-23 </td>
   <td style="text-align:left;"> 2022-01-04 </td>
   <td style="text-align:right;"> 1,415 </td>
   <td style="text-align:right;"> 112,041 </td>
   <td style="text-align:right;"> 496 </td>
   <td style="text-align:right;"> 174 </td>
   <td style="text-align:right;"> 0.013 </td>
   <td style="text-align:right;"> 2.9 </td>
   <td style="text-align:right;"> 8.1 </td>
   <td style="text-align:right;"> 1.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Branded </td>
   <td style="text-align:left;"> 2022-01-07 </td>
   <td style="text-align:left;"> 2022-01-17 </td>
   <td style="text-align:right;"> 1,022 </td>
   <td style="text-align:right;"> 51,911 </td>
   <td style="text-align:right;"> 206 </td>
   <td style="text-align:right;"> 65 </td>
   <td style="text-align:right;"> 0.020 </td>
   <td style="text-align:right;"> 5.0 </td>
   <td style="text-align:right;"> 15.7 </td>
   <td style="text-align:right;"> 1.3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> PPCo Creatives </td>
   <td style="text-align:left;"> 2022-01-07 </td>
   <td style="text-align:left;"> 2022-01-17 </td>
   <td style="text-align:right;"> 1,027 </td>
   <td style="text-align:right;"> 79,241 </td>
   <td style="text-align:right;"> 327 </td>
   <td style="text-align:right;"> 106 </td>
   <td style="text-align:right;"> 0.013 </td>
   <td style="text-align:right;"> 3.1 </td>
   <td style="text-align:right;"> 9.7 </td>
   <td style="text-align:right;"> 1.3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> PPCo Creatives </td>
   <td style="text-align:left;"> 2022-01-07 </td>
   <td style="text-align:left;"> 2022-01-18 </td>
   <td style="text-align:right;"> 366 </td>
   <td style="text-align:right;"> 24,106 </td>
   <td style="text-align:right;"> 96 </td>
   <td style="text-align:right;"> 30 </td>
   <td style="text-align:right;"> 0.015 </td>
   <td style="text-align:right;"> 3.8 </td>
   <td style="text-align:right;"> 12.2 </td>
   <td style="text-align:right;"> 1.2 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup>a</sup> 'False start' campaign dates with less than 200 reach are excluded</td>
</tr>
</tfoot>
</table>

</div>
</div>
</div>
<p>The results varied substantially by campaign, but this could be attributed to a range of factors, including different sets of videos and texts in each campaign, different <em>versions</em> of videos presented on these dates, and changes in audience filters. As these campaigns were administered on different dates, there may also be uncontrolled differences in the population seeing our ads.</p>
</section>
<section id="outcomes-for-the-most-comparable-trials-and-ab-tests" class="level3 unnumbered page-columns page-full">
<h3 class="unnumbered anchored" data-anchor-id="outcomes-for-the-most-comparable-trials-and-ab-tests">Outcomes for the most comparable trials and A/B tests</h3>
<p>The campaigns run on the same dates are the most comparable, and in some cases, were explicitly set up as A/B tests.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
A/B trial setups
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Test 1 (Nov 30, 2021 – Dec 8, 2021) displayed either the long factual video or a cause focus video. In the cause focus condition, cause-specific audiences for animal rights, climate change, and poverty (based on their behavior on Facebook) were shown the relevant cause video.</p>
<p>(Note: the ‘Only 3% research’ and ‘100x impact’ messages were not shown )</p>
<p>Test 2 (Dec 8 - 20, 2021) was the same as Test 1 but used the short factual video instead of the cause-focus videos.</p>
<p>Test 3 (Dec 23, 2021 - Jan 4, 2022) was the same as Test 2 but had a new version of the videos (with Luke just holding up signs with the words). This test was also restricted to 18-35 year olds.</p>
<p>Test 4: The brand video was displayed in a separate branded campaign which was tested against another campaign that allowed the algorithm to optimize between the short factual and cause-focus videos (although not allowing each cause-specific audience to see the ads for other cause areas).</p>
</div>
</div>
</div>
<p>As noted, some campaigns were set up explicitly as A/B trials. Below, we focus specifically on the comparable groups in each.<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  campaign_date_outcomes_comp_1_2 <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">&lt;=</span> <span class="st">"2021-12-08"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_det</span>(text_treat, <span class="st">"100x impact|Overwhelming|Only 3% research|Cause list"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience <span class="sc">==</span> <span class="st">"Philanthropy"</span> <span class="sc">|</span> audience <span class="sc">==</span><span class="st">"Lookalikes"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme, audience) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(audience, <span class="sc">-</span><span class="st">`</span><span class="at">Results/ 1k impr.</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"'Comparable' Parts of Tests 1 &amp; 2: reach, impressions, clicks, results"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>() </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>'Comparable' Parts of Tests 1 &amp; 2: reach, impressions, clicks, results</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> video_theme </th>
   <th style="text-align:left;"> audience </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:left;"> Lookalikes </td>
   <td style="text-align:right;"> 5,415 </td>
   <td style="text-align:right;"> 0.038 </td>
   <td style="text-align:right;"> 2.5 </td>
   <td style="text-align:right;"> 7.4 </td>
   <td style="text-align:right;"> 5.2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cause-led (any) </td>
   <td style="text-align:left;"> Lookalikes </td>
   <td style="text-align:right;"> 3,332 </td>
   <td style="text-align:right;"> 0.046 </td>
   <td style="text-align:right;"> 4.6 </td>
   <td style="text-align:right;"> 9.5 </td>
   <td style="text-align:right;"> 4.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:left;"> Philanthropy </td>
   <td style="text-align:right;"> 6,716 </td>
   <td style="text-align:right;"> 0.040 </td>
   <td style="text-align:right;"> 3.1 </td>
   <td style="text-align:right;"> 9.0 </td>
   <td style="text-align:right;"> 4.5 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cause-led (any) </td>
   <td style="text-align:left;"> Philanthropy </td>
   <td style="text-align:right;"> 42,459 </td>
   <td style="text-align:right;"> 0.041 </td>
   <td style="text-align:right;"> 4.3 </td>
   <td style="text-align:right;"> 12.4 </td>
   <td style="text-align:right;"> 3.3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual long </td>
   <td style="text-align:left;"> Philanthropy </td>
   <td style="text-align:right;"> 3,532 </td>
   <td style="text-align:right;"> 0.054 </td>
   <td style="text-align:right;"> 9.0 </td>
   <td style="text-align:right;"> 31.7 </td>
   <td style="text-align:right;"> 1.7 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>The table above is limited to the campaigns starting on or before 2021-12-08: the ‘tests 1 and 2’. It is limited to Philanthropy and Lookalike audiences, the only audiences that saw all videos. It is limited to text (message) treatments that were shown across all these campaigns (“6000+ people”, “Bigger difference”, and “Learn”). Note the extremely poor performance of the ‘Factual long’ message. The Factual short message slightly outperformed the Cause-led messages overall.<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a> The Lookalike audience somewhat overperformed the Philanthropy audience, particularly with the cause-led videos.</p>
<p>Next we consider “Test 3”, starting on 2021-12-23. As noted, this had a new version of the videos, and new age restrictions</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  campaign_date_outcomes_comp_3 <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">==</span> <span class="st">"2021-12-23"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_det</span>(text_treat, <span class="st">"100x impact|Overwhelming|Only 3% research|Cause list"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience <span class="sc">==</span> <span class="st">"Philanthropy"</span> <span class="sc">|</span> audience <span class="sc">==</span><span class="st">"Lookalikes"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme, audience) <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(audience, <span class="sc">-</span><span class="st">`</span><span class="at">Results/ 1k impr.</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"'Comparable' Parts of Tests 3"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>() </span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>'Comparable' Parts of Tests 3</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> video_theme </th>
   <th style="text-align:left;"> audience </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Cause-led (any) </td>
   <td style="text-align:left;"> Lookalikes </td>
   <td style="text-align:right;"> 5,758 </td>
   <td style="text-align:right;"> 0.018 </td>
   <td style="text-align:right;"> 2.5 </td>
   <td style="text-align:right;"> 10.5 </td>
   <td style="text-align:right;"> 1.7 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:left;"> Lookalikes </td>
   <td style="text-align:right;"> 8,609 </td>
   <td style="text-align:right;"> 0.016 </td>
   <td style="text-align:right;"> 3.9 </td>
   <td style="text-align:right;"> 9.3 </td>
   <td style="text-align:right;"> 1.7 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cause-led (any) </td>
   <td style="text-align:left;"> Philanthropy </td>
   <td style="text-align:right;"> 28,074 </td>
   <td style="text-align:right;"> 0.013 </td>
   <td style="text-align:right;"> 4.2 </td>
   <td style="text-align:right;"> 9.4 </td>
   <td style="text-align:right;"> 1.4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:left;"> Philanthropy </td>
   <td style="text-align:right;"> 13,832 </td>
   <td style="text-align:right;"> 0.012 </td>
   <td style="text-align:right;"> 3.4 </td>
   <td style="text-align:right;"> 10.8 </td>
   <td style="text-align:right;"> 1.1 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>This has the same filters as the previous table: only Philanthropy and Lookalike audiences<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a> and only those text treatments shown to all. Here, at first pass, both audiences, and both sets of video treatment themes seem to perform roughly the same on a results-per-cost basis.<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a></p>
<section id="focus-test-4-videos-and-audiences" class="level4 unnumbered page-columns page-full">
<h4 class="unnumbered anchored" data-anchor-id="focus-test-4-videos-and-audiences">Focus: Test 4, videos and audiences</h4>
<p>Finally, we focus on test 4, which incorporated the branded video. Here all text treatments could be paired with each of the videos, and each were given to each audience. Thus, we can ‘include a lot’ and this table is large (thus the ‘datatables’ format, allowing sorting and filtering).<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_vid <span class="ot">&lt;-</span>  gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">==</span> <span class="st">"2022-01-07"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme, audience) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(audience, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(audience, <span class="fu">everything</span>())</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_vid <span class="sc">%&gt;%</span> </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Test 4 (roughly comparable); blank cells indicate NA/no results"</span>, <span class="at">filter=</span><span class="st">"top"</span>,  <span class="at">rownames=</span> <span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="htmlwidget-aa82c4ef89e348b2805a" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-aa82c4ef89e348b2805a">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;Animal&quot;,&quot;Climate&quot;,&quot;Poverty&quot;,&quot;Factual short&quot;,&quot;Factual long&quot;,&quot;Branded (factual)&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"225\" data-max=\"24184\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.009\" data-max=\"0.03\" data-scale=\"3\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"3\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Test 4 (roughly comparable); blank cells indicate NA/no results<\/caption>","data":[["Animal","Animal","Animal","Climate","Climate","Climate","General audience","General audience","General audience","General audience","General audience","Global Poverty","Global Poverty","Global Poverty","Lookalikes","Lookalikes","Lookalikes","Lookalikes","Lookalikes","Philanthropy","Philanthropy","Philanthropy","Philanthropy","Philanthropy"],["Factual short","Animal","Branded (factual)","Factual short","Climate","Branded (factual)","Climate","Animal","Factual short","Poverty","Branded (factual)","Factual short","Branded (factual)","Poverty","Climate","Branded (factual)","Animal","Poverty","Factual short","Climate","Poverty","Factual short","Branded (factual)","Animal"],[6202,6779,5983,24184,9462,14269,6222,8561,13324,1164,16884,3118,6608,322,950,999,1118,225,2023,6577,670,13246,11902,6574],[0.012,0.02,0.021,0.014,0.014,0.028,0.012,0.017,0.011,0.013,0.021,0.013,0.021,0.009,0.019,0.03,0.021,0.018,0.01,0.017,0.013,0.012,0.024,0.022],[2.8,3.3,4.6,3,3.3,6,2.3,3,3.8,5,5.1,3.9,6.7,null,3,4.3,4.6,4,4.2,2.9,4.5,3.7,4.3,4.6],[9.5,10.5,24.8,10.1,13.7,20.7,6.2,9.5,10,15,17.1,7.8,23.3,null,9,10,11.5,null,null,8.4,9,9.4,11.6,36.5],[1.3,1.9,0.8,1.4,1.1,1.3,1.9,1.8,1.1,0.9,1.2,1.6,0.9,0,2.1,3,1.8,0,0,2,1.5,1.3,2.1,0.6]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>audience<\/th>\n      <th>video_theme<\/th>\n      <th>reach<\/th>\n      <th>$/ impr.<\/th>\n      <th>$/ click<\/th>\n      <th>$/ result<\/th>\n      <th>Results/ 1k impr.<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br>
</p>
<p><strong>Within each audience</strong><a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a></p>
<p>For the Philanthropy audience, the Climate and Poverty videos and the Factual Short videos did about equally well – about 8-9 USD per result. The Branded video did slightly worse. The Animal video performed very poorly on this audience!</p>
<p>For the General audience, the Climate video did best, achieving a result at close to 6 dollars. The Animal and Factual videos did somewhat worse, and the Poverty and Brand videos did substantially worse on a results per cost basis.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Format note
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The table above is presented with the <code>Datatables</code> package/function. This allows sorting, filtering, etc. We can present more tables in this format if it is preferable.</p>
</div>
</div>
</div>
<p><br>
</p>
<p><strong>Factual short versus Branded videos</strong></p>
<p>The cost per result for the Factual Short video was fairly constant across audiences (except the Lookalikes, who performed very poorly with this video). The Branded video performed adequately on the Lookalikes and Philanthropy audiences, but extremely poorly on the General and cause audiences.</p>
<p><br>
</p>
<p><strong>Cause videos</strong></p>
<ul>
<li><p>Animals video: did approximately equally well (about 2 results per 1k impressions and 9-11 dollars per result) on all audiences except the Philanthropy audience.</p></li>
<li><p>Climate video: Surprisingly poor performance for the climate audience (but performed well with theGeneral audience, and OK with the Philanthropy and Lookalike audiences</p></li>
<li><p>Poverty video: This video apparently had poor performance overall, leading FB’s algorithm to largely drop it. It seems to have not appealed to any audience except the Philanthropy audience, where it did marginally OK.</p></li>
</ul>
<p><br>
</p>
<p><strong>Sorting by ‘$/results overall’</strong></p>
<p>The best audience-video combinations were:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_vid <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">$/ result</span><span class="st">`</span><span class="sc">&lt;=</span><span class="fl">9.1</span>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(audience, video_theme, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>() <span class="sc">%&gt;%</span> <span class="fu">.kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> audience </th>
   <th style="text-align:left;"> video_theme </th>
   <th style="text-align:right;"> $/ result </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> General audience </td>
   <td style="text-align:left;"> Climate </td>
   <td style="text-align:right;"> 6.2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Global Poverty </td>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:right;"> 7.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Philanthropy </td>
   <td style="text-align:left;"> Climate </td>
   <td style="text-align:right;"> 8.4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Lookalikes </td>
   <td style="text-align:left;"> Climate </td>
   <td style="text-align:right;"> 9.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Philanthropy </td>
   <td style="text-align:left;"> Poverty </td>
   <td style="text-align:right;"> 9.0 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>… each of which cost at or below 9 dollars per result</p>
<p>The worst audience-video combinations were:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_vid <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">$/ result</span><span class="st">`</span><span class="sc">&gt;</span><span class="dv">20</span> <span class="sc">|</span>  <span class="fu">is.na</span>(<span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) ) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(audience, video_theme, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">.kable</span>() <span class="sc">%&gt;%</span> <span class="fu">.kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> audience </th>
   <th style="text-align:left;"> video_theme </th>
   <th style="text-align:right;"> $/ result </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Global Poverty </td>
   <td style="text-align:left;"> Poverty </td>
   <td style="text-align:right;"> Inf </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Lookalikes </td>
   <td style="text-align:left;"> Poverty </td>
   <td style="text-align:right;"> Inf </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Lookalikes </td>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:right;"> Inf </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Philanthropy </td>
   <td style="text-align:left;"> Animal </td>
   <td style="text-align:right;"> 36.5 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Animal </td>
   <td style="text-align:left;"> Branded (factual) </td>
   <td style="text-align:right;"> 24.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Global Poverty </td>
   <td style="text-align:left;"> Branded (factual) </td>
   <td style="text-align:right;"> 23.3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Climate </td>
   <td style="text-align:left;"> Branded (factual) </td>
   <td style="text-align:right;"> 20.7 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>… each of which cost over 20 dollars per result (or had no results, suggesting even higher costs).<a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a></p>
<p><strong>Comparing audiences in Test 4</strong></p>
<div class="cell">

</div>
<p>Here the General and Philanthropy audiences performed about equally well, while the cause audiences performed somewhat worse, particularly the Poverty audience.</p>
<div class="column-body-outset">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_aud <span class="ot">&lt;-</span>  gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">==</span> <span class="st">"2022-01-07"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(audience) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"All"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(audience, <span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_aud_vt <span class="ot">&lt;-</span>  gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">if_else</span>(<span class="fu">str_det</span>(video_theme, <span class="st">"Factual|factual"</span>), <span class="st">"Non-cause"</span>, <span class="st">"Cause"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">==</span> <span class="st">"2022-01-07"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, audience) <span class="sc">%&gt;%</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(audience, <span class="fu">everything</span>())</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_aud_vt_all <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(campaign_date_outcomes_comp_4_aud, campaign_date_outcomes_comp_4_aud_vt)</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_aud_vt_all <span class="sc">%&gt;%</span> </span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Test 4 by audience and video type"</span>, <span class="at">filter=</span><span class="st">"top"</span>,  <span class="at">rownames=</span> <span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="htmlwidget-7d1692f8dcec7d43d0bb" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-7d1692f8dcec7d43d0bb">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"322\" data-max=\"47915\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.009\" data-max=\"0.02\" data-scale=\"3\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"1.9\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Test 4 by audience and video type<\/caption>","data":[["General audience","Philanthropy","Animal","Lookalikes","Climate","Global Poverty","General audience","Animal","Lookalikes","Climate","Philanthropy","Global Poverty","Philanthropy","Climate","General audience","Animal","Global Poverty","Lookalikes"],["All","All","All","All","All","All","Cause","Cause","Cause","Cause","Cause","Cause","Non-cause","Non-cause","Non-cause","Non-cause","Non-cause","Non-cause"],[46155,38969,18964,5315,47915,10048,15947,6779,2293,9462,13821,322,25148,38453,30208,12185,9726,3022],[0.016,0.018,0.018,0.018,0.018,0.018,0.015,0.02,0.02,0.014,0.019,0.009,0.018,0.019,0.017,0.016,0.018,0.017],[3.8,3.9,3.5,4,4,5.9,2.8,3.3,3.8,3.3,3.7,null,4.1,4.1,4.6,3.7,5.8,4.2],[11.6,11.9,12.9,13.7,13.9,16.5,8.3,10.5,11.2,13.7,14.7,null,10.7,13.9,14.1,15.4,16.3,17],[1.4,1.5,1.4,1.3,1.3,1.1,1.8,1.9,1.7,1.1,1.3,0,1.7,1.4,1.2,1.1,1.1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>audience<\/th>\n      <th>Video type<\/th>\n      <th>reach<\/th>\n      <th>$/ impr.<\/th>\n      <th>$/ click<\/th>\n      <th>$/ result<\/th>\n      <th>Results/ 1k impr.<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<p><br>
</p>
</section>
<section id="focus-test-4-texts-and-audiences" class="level4 unnumbered page-columns page-full">
<h4 class="unnumbered anchored" data-anchor-id="focus-test-4-texts-and-audiences">Focus: Test 4, Texts and audiences</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_text_pool <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">==</span> <span class="st">"2022-01-07"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_text_pool <span class="sc">%&gt;%</span> </span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Tests 4: Performance by text; blank cells indicate NA/no results"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="htmlwidget-0324bf964290ec2f06d3" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-0324bf964290ec2f06d3">{"x":{"filter":"none","vertical":false,"caption":"<caption>Tests 4: Performance by text; blank cells indicate NA/no results<\/caption>","data":[["1","2","3","4","5"],["Only 3% research","100x impact","Bigger difference","Learn","6000+ people"],[38913,50065,33032,34802,27334],[0.015,0.016,0.015,0.016,0.015],[3,3.9,4.2,4.3,4.9],[10.3,11.4,12,15.2,19],[1.5,1.4,1.3,1.1,0.8]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>text_treat<\/th>\n      <th>reach<\/th>\n      <th>$/ impr.<\/th>\n      <th>$/ click<\/th>\n      <th>$/ result<\/th>\n      <th>Results/ 1k impr.<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>worst_to_best <span class="ot">&lt;-</span> campaign_date_outcomes_comp_4_text_pool[[<span class="dv">5</span>,<span class="dv">5</span>]]<span class="sc">/</span>campaign_date_outcomes_comp_4_text_pool[[<span class="dv">1</span>,<span class="dv">5</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Above, pooling across all audiences (except Retargeting) and weighted towards ‘those people in each audience who got each message’, we see the “Only 3% research” message performed best per dollar, closely followed by the “100x impact” and “Bigger difference” messages. “Learn” did substantially worse, and “6000+ people” the worst, costing 1.84 times as much as the best message.</p>
<p><br>
</p>
<p><strong>Next, we consider these messages by audience, for this trial.</strong></p>
<div class="column-body-outset">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_text <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">==</span> <span class="st">"2022-01-07"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(text_treat, audience) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(audience, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(audience, <span class="fu">everything</span>())</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_text <span class="sc">%&gt;%</span> </span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Tests 4: Performance by audience and text; blank cells indicate NA/no results"</span>, <span class="at">filter=</span><span class="st">"top"</span>,  <span class="at">rownames=</span> <span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="htmlwidget-fa2f1cfe201ef09b87bf" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-fa2f1cfe201ef09b87bf">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"798\" data-max=\"21217\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.013\" data-max=\"0.02\" data-scale=\"3\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"2\" data-max=\"11\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"2.2\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Tests 4: Performance by audience and text; blank cells indicate NA/no results<\/caption>","data":[["Animal","Animal","Animal","Animal","Animal","Climate","Climate","Climate","Climate","Climate","General audience","General audience","General audience","General audience","General audience","Global Poverty","Global Poverty","Global Poverty","Global Poverty","Global Poverty","Lookalikes","Lookalikes","Lookalikes","Lookalikes","Lookalikes","Philanthropy","Philanthropy","Philanthropy","Philanthropy","Philanthropy"],["Only 3% research","100x impact","Learn","Bigger difference","6000+ people","100x impact","Bigger difference","Learn","6000+ people","Only 3% research","Only 3% research","Bigger difference","6000+ people","100x impact","Learn","Learn","100x impact","Only 3% research","6000+ people","Bigger difference","Learn","6000+ people","100x impact","Only 3% research","Bigger difference","Only 3% research","Bigger difference","100x impact","Learn","6000+ people"],[3335,6703,2966,4594,2963,21217,7787,9034,7926,7806,13170,7276,7253,12771,10279,1857,2258,3629,1527,1644,1068,1126,798,1090,1457,9883,10274,6318,9598,6539],[0.016,0.016,0.015,0.017,0.016,0.017,0.015,0.018,0.016,0.014,0.013,0.014,0.014,0.017,0.014,0.017,0.015,0.018,0.014,0.015,0.015,0.02,0.015,0.018,0.014,0.018,0.015,0.016,0.017,0.016],[2.6,3.8,2.8,3.7,5.2,3.5,4.3,4.7,5.6,3.2,2.7,4.1,5,4.3,4.5,4.6,5.7,5.4,11,6.2,2,4.4,4,6.7,4.2,2.9,4.3,4.2,5.2,3.9],[7.7,10.7,11,15.6,null,10.1,13.3,20,20.5,22.2,9.1,9.4,10,14.2,16.3,8,11.3,16.2,null,null,8,11,12,20,21,8,9.9,12.6,16.5,26.2],[2.1,1.5,1.3,1.1,0,1.6,1.2,0.9,0.8,0.6,1.4,1.5,1.4,1.2,0.9,2.2,1.3,1.1,0,0,1.9,1.8,1.3,0.9,0.7,2.2,1.6,1.3,1,0.6]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>audience<\/th>\n      <th>text_treat<\/th>\n      <th>reach<\/th>\n      <th>$/ impr.<\/th>\n      <th>$/ click<\/th>\n      <th>$/ result<\/th>\n      <th>Results/ 1k impr.<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<p>Some messages show strong heterogeneity across audiences, while others were fairly consistent. The “Only 3%” message does well on the Animal and Philanthropy audiences, OK on the General audience, but does very poorly on the other audiences. The second best overall message, “100x impact” does so/so on all audiences. “Learn” shows some variation, doing pretty well on Poverty and Lookalike audiences, OK on Animal audiences, but poorly on the General, Philanthropy and Climate audiences. The “6000+ people” and “Bigger Difference” messages perform poorly on nearly all audiences, doing at best-OK on a few audiences. (Use the above ‘filter’ functions to make these comparisons clear.)</p>
</section>
<section id="other-outcome-by-group-comparisons-across-several-trials" class="level4 unnumbered page-columns page-full">
<h4 class="unnumbered anchored" data-anchor-id="other-outcome-by-group-comparisons-across-several-trials">Other ‘outcome by group’ comparisons across several trials</h4>
<p>Next, we show the results by age and gender. As our age filters changed over time, we do this first for the earlier trials, when all age groups were included.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  age_outcomes_pre_12_09 <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">500</span>, starts<span class="sc">&lt;=</span> <span class="st">"2021-12-08"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Age: Campaigns starting on or before Dec 8 2021"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Results by Age: Campaigns starting on or before Dec 8 2021</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> age </th>
   <th style="text-align:right;"> Cost </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> Link clicks </th>
   <th style="text-align:right;"> Results </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 18-24 </td>
   <td style="text-align:right;"> 275 </td>
   <td style="text-align:right;"> 14,690 </td>
   <td style="text-align:right;"> 48 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> 0.019 </td>
   <td style="text-align:right;"> 5.7 </td>
   <td style="text-align:right;"> 13.8 </td>
   <td style="text-align:right;"> 1.4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 25-34 </td>
   <td style="text-align:right;"> 585 </td>
   <td style="text-align:right;"> 26,970 </td>
   <td style="text-align:right;"> 162 </td>
   <td style="text-align:right;"> 75 </td>
   <td style="text-align:right;"> 0.022 </td>
   <td style="text-align:right;"> 3.6 </td>
   <td style="text-align:right;"> 7.8 </td>
   <td style="text-align:right;"> 2.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 35-44 </td>
   <td style="text-align:right;"> 625 </td>
   <td style="text-align:right;"> 22,876 </td>
   <td style="text-align:right;"> 156 </td>
   <td style="text-align:right;"> 64 </td>
   <td style="text-align:right;"> 0.027 </td>
   <td style="text-align:right;"> 4.0 </td>
   <td style="text-align:right;"> 9.8 </td>
   <td style="text-align:right;"> 2.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 45-54 </td>
   <td style="text-align:right;"> 970 </td>
   <td style="text-align:right;"> 25,525 </td>
   <td style="text-align:right;"> 246 </td>
   <td style="text-align:right;"> 98 </td>
   <td style="text-align:right;"> 0.038 </td>
   <td style="text-align:right;"> 3.9 </td>
   <td style="text-align:right;"> 9.9 </td>
   <td style="text-align:right;"> 3.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 55-64 </td>
   <td style="text-align:right;"> 1,625 </td>
   <td style="text-align:right;"> 36,157 </td>
   <td style="text-align:right;"> 475 </td>
   <td style="text-align:right;"> 150 </td>
   <td style="text-align:right;"> 0.045 </td>
   <td style="text-align:right;"> 3.4 </td>
   <td style="text-align:right;"> 10.8 </td>
   <td style="text-align:right;"> 4.1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 65+ </td>
   <td style="text-align:right;"> 2,758 </td>
   <td style="text-align:right;"> 43,547 </td>
   <td style="text-align:right;"> 1,097 </td>
   <td style="text-align:right;"> 319 </td>
   <td style="text-align:right;"> 0.063 </td>
   <td style="text-align:right;"> 2.5 </td>
   <td style="text-align:right;"> 8.6 </td>
   <td style="text-align:right;"> 7.3 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>While <a href="#fn18" class="footnote-ref" id="fnref18" role="doc-noteref"><sup>18</sup></a> older age groups yield more results per impression, they are also more expensive. This approximately balances out, although the age 18-24 group is particularly costly per result.</p>
<p>In later trials we only targeted the younger age groups; the costs per result were similar to earlier trials , and fairly close among the younger age groups (see fold).</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-19-contents" aria-controls="callout-19" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
By age, later trials
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-19-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  age_outcomes_post_12_09 <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">500</span>, starts <span class="sc">&gt;</span> <span class="st">"2021-12-08"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Age: Campaigns starting on or after Dec 23 2021"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Results by Age: Campaigns starting on or after Dec 23 2021</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> age </th>
   <th style="text-align:right;"> Cost </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> Link clicks </th>
   <th style="text-align:right;"> Results </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 18-24 </td>
   <td style="text-align:right;"> 802 </td>
   <td style="text-align:right;"> 67,114 </td>
   <td style="text-align:right;"> 221 </td>
   <td style="text-align:right;"> 87 </td>
   <td style="text-align:right;"> 0.012 </td>
   <td style="text-align:right;"> 3.6 </td>
   <td style="text-align:right;"> 9.2 </td>
   <td style="text-align:right;"> 1.3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 25-34 </td>
   <td style="text-align:right;"> 2,505 </td>
   <td style="text-align:right;"> 175,595 </td>
   <td style="text-align:right;"> 754 </td>
   <td style="text-align:right;"> 270 </td>
   <td style="text-align:right;"> 0.014 </td>
   <td style="text-align:right;"> 3.3 </td>
   <td style="text-align:right;"> 9.3 </td>
   <td style="text-align:right;"> 1.5 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 35-44 </td>
   <td style="text-align:right;"> 1,016 </td>
   <td style="text-align:right;"> 63,882 </td>
   <td style="text-align:right;"> 315 </td>
   <td style="text-align:right;"> 108 </td>
   <td style="text-align:right;"> 0.016 </td>
   <td style="text-align:right;"> 3.2 </td>
   <td style="text-align:right;"> 9.4 </td>
   <td style="text-align:right;"> 1.7 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-20-contents" aria-controls="callout-20" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note on change in table style
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-20" class="callout-20-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The tables above make it clear how the relevant ‘per dollar’ and ’per unique impression results are calculated. In the following tables we present slightly fewer columns, for readability.</p>
</div>
</div>
</div>
<p>Women (or those identifying as female) gave their emails at a somewhat higher rate overall, but their (unique) impressions were a bit more costly. Thus, ‘cost per result’ roughly balanced out. Nonetheless, this might be somewhat informative for other contexts; wher costs are equal, women might be a particularly promising audience.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  gender_outcomes <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(gender) <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Gender"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Results by Gender</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> gender </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> female </td>
   <td style="text-align:right;"> 506,889 </td>
   <td style="text-align:right;"> 0.025 </td>
   <td style="text-align:right;"> 3.4 </td>
   <td style="text-align:right;"> 10.1 </td>
   <td style="text-align:right;"> 2.5 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> male </td>
   <td style="text-align:right;"> 159,525 </td>
   <td style="text-align:right;"> 0.018 </td>
   <td style="text-align:right;"> 3.5 </td>
   <td style="text-align:right;"> 10.2 </td>
   <td style="text-align:right;"> 1.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> unknown </td>
   <td style="text-align:right;"> 15,642 </td>
   <td style="text-align:right;"> 0.015 </td>
   <td style="text-align:right;"> 2.1 </td>
   <td style="text-align:right;"> 7.1 </td>
   <td style="text-align:right;"> 2.2 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Next we describe the outcomes by our video treatments, focusing on the philanthropy-interested audience only, for comparability.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>video_outcomes_phil_0 <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">==</span><span class="st">"Philanthropy"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>video_outcomes_phil <span class="ot">&lt;-</span> video_outcomes_phil_0 <span class="sc">%&gt;%</span> </span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Video theme for 'Philanthropy' audience"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Results by Video theme for 'Philanthropy' audience</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> video_theme </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Animal </td>
   <td style="text-align:right;"> 63,347 </td>
   <td style="text-align:right;"> 0.036 </td>
   <td style="text-align:right;"> 4.4 </td>
   <td style="text-align:right;"> 13.5 </td>
   <td style="text-align:right;"> 2.7 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Climate </td>
   <td style="text-align:right;"> 11,854 </td>
   <td style="text-align:right;"> 0.023 </td>
   <td style="text-align:right;"> 2.8 </td>
   <td style="text-align:right;"> 7.0 </td>
   <td style="text-align:right;"> 3.2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Poverty </td>
   <td style="text-align:right;"> 58,548 </td>
   <td style="text-align:right;"> 0.018 </td>
   <td style="text-align:right;"> 3.5 </td>
   <td style="text-align:right;"> 9.8 </td>
   <td style="text-align:right;"> 1.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual short </td>
   <td style="text-align:right;"> 51,761 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 3.0 </td>
   <td style="text-align:right;"> 9.3 </td>
   <td style="text-align:right;"> 2.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Factual long </td>
   <td style="text-align:right;"> 5,561 </td>
   <td style="text-align:right;"> 0.055 </td>
   <td style="text-align:right;"> 6.8 </td>
   <td style="text-align:right;"> 27.8 </td>
   <td style="text-align:right;"> 2.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Branded (factual) </td>
   <td style="text-align:right;"> 11,902 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 4.3 </td>
   <td style="text-align:right;"> 11.6 </td>
   <td style="text-align:right;"> 2.1 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>bot_table <span class="ot">&lt;-</span> <span class="cf">function</span>(df,  outvar, outcol) {</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>({{outvar}}) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>({{outcol}}) <span class="sc">%&gt;%</span> </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_if</span>(is.factor, as.character) <span class="sc">%&gt;%</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    .[[<span class="dv">1</span>,<span class="dv">1</span>]] </span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>top_table <span class="ot">&lt;-</span> <span class="cf">function</span>(df, outcol, outvar) {</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>{{outvar}}) <span class="sc">%&gt;%</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>({{outcol}}) <span class="sc">%&gt;%</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_if</span>(is.factor, as.character) <span class="sc">%&gt;%</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>    .[[<span class="dv">1</span>,<span class="dv">1</span>]]</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="co"># { ov &lt;- {{outvar}}</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="co"># ifelse(reverse,</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="co">#          dplyr::arrange(ov),</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a><span class="co">#    dplyr::arrange(-ov)</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a><span class="co">#   )} %&gt;% </span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::arrange({{outvar}}),</span></span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a> <span class="co">#         dplyr::arrange(-{{outvar}}))} %&gt;% </span></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>top_vid_phil <span class="ot">&lt;-</span> video_outcomes_phil_0 <span class="sc">%&gt;%</span> <span class="fu">bot_table</span>( <span class="at">outvar=</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>, <span class="at">outcol=</span>video_theme)</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>bot_vid_phil <span class="ot">&lt;-</span> video_outcomes_phil_0 <span class="sc">%&gt;%</span> <span class="fu">top_table</span>( <span class="at">outvar=</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>, <span class="at">outcol=</span>video_theme)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The Climate video performed particularly well on the philanthropy-interested audience, while “Factual long” performed the worst.<a href="#fn19" class="footnote-ref" id="fnref19" role="doc-noteref"><sup>19</sup></a></p>
<p>Next, we compare the text treatments for the later campaigns only. The earlier and later campaigns had a slightly different set of texts; combining across these indeed risks confounding multiple dimensions.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>outcomes_by_text <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(campaign_name, <span class="st">"factual|branded"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>outcomes_by_text <span class="sc">%&gt;%</span>   </span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by text; later campaigns"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Results by text; later campaigns</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> text_treat </th>
   <th style="text-align:right;"> reach </th>
   <th style="text-align:right;"> $/ impr. </th>
   <th style="text-align:right;"> $/ click </th>
   <th style="text-align:right;"> $/ result </th>
   <th style="text-align:right;"> Results/ 1k impr. </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 100x impact </td>
   <td style="text-align:right;"> 87,369 </td>
   <td style="text-align:right;"> 0.025 </td>
   <td style="text-align:right;"> 3.1 </td>
   <td style="text-align:right;"> 9.6 </td>
   <td style="text-align:right;"> 2.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 6000+ people </td>
   <td style="text-align:right;"> 52,165 </td>
   <td style="text-align:right;"> 0.021 </td>
   <td style="text-align:right;"> 3.9 </td>
   <td style="text-align:right;"> 14.7 </td>
   <td style="text-align:right;"> 1.4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bigger difference </td>
   <td style="text-align:right;"> 68,308 </td>
   <td style="text-align:right;"> 0.023 </td>
   <td style="text-align:right;"> 3.5 </td>
   <td style="text-align:right;"> 10.1 </td>
   <td style="text-align:right;"> 2.3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Learn </td>
   <td style="text-align:right;"> 51,860 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 3.8 </td>
   <td style="text-align:right;"> 13.6 </td>
   <td style="text-align:right;"> 1.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Only 3% research </td>
   <td style="text-align:right;"> 65,786 </td>
   <td style="text-align:right;"> 0.026 </td>
   <td style="text-align:right;"> 2.3 </td>
   <td style="text-align:right;"> 7.0 </td>
   <td style="text-align:right;"> 3.7 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>top_text_later <span class="ot">&lt;-</span> outcomes_by_text <span class="sc">%&gt;%</span> <span class="fu">bot_table</span>( <span class="at">outvar=</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>, <span class="at">outcol=</span>text_treat)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>bot_text_later <span class="ot">&lt;-</span> outcomes_by_text <span class="sc">%&gt;%</span> <span class="fu">top_table</span>( <span class="at">outvar=</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>, <span class="at">outcol=</span>text_treat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The “Only 3% research” message performed particularly well on a cost-per-result basis, while 6000+ people performed the worst.</p>
<p><br>
</p>
<p>Finally, we consider results by audience, focusing on the non-cause and cause treatments separately, for comparability.</p>
<div class="column-body-outset">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>audience_outcomes_all <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span> <span class="sc">&amp;</span> audience<span class="sc">!=</span><span class="st">"General audience"</span>)  <span class="sc">%&gt;%</span> <span class="co">#latter filter because they were only in the final trial</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"All"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, audience) <span class="sc">%&gt;%</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>audience_outcomes_vt <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span> <span class="sc">&amp;</span> audience<span class="sc">!=</span><span class="st">"General audience"</span>)  <span class="sc">%&gt;%</span> <span class="co">#latter filter because they were only in the final trial</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">if_else</span>(<span class="fu">str_det</span>(video_theme, <span class="st">"Factual|factual"</span>), <span class="st">"Non-cause"</span>, <span class="st">"Cause"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, audience) <span class="sc">%&gt;%</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>)</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>audience_outcomes_vt_all <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(audience_outcomes_all, audience_outcomes_vt)</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>audience_outcomes_vt_all <span class="sc">%&gt;%</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>    DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Results by audience; cause vs non-cause (and overall)"</span>,  <span class="at">filter=</span><span class="st">"top"</span>,  <span class="at">rownames=</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="htmlwidget-e3f5ace447bda4fd7bbb" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e3f5ace447bda4fd7bbb">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"11408\" data-max=\"202973\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.016\" data-max=\"0.035\" data-scale=\"3\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"2.3\" data-max=\"4\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"6.8\" data-max=\"12.7\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1.3\" data-max=\"4.5\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Results by audience; cause vs non-cause (and overall)<\/caption>","data":[["All","All","All","All","All","Cause","Cause","Cause","Cause","Cause","Non-cause","Non-cause","Non-cause","Non-cause","Non-cause"],["Lookalikes","Animal","Climate","Global Poverty","Philanthropy","Lookalikes","Global Poverty","Animal","Philanthropy","Climate","Lookalikes","Animal","Climate","Philanthropy","Global Poverty"],[59375,150319,112406,60656,202973,27963,19188,61768,133749,11408,31412,88551,100998,69224,41468],[0.03,0.028,0.023,0.021,0.027,0.03,0.016,0.035,0.027,0.017,0.03,0.023,0.023,0.027,0.023],[2.9,3.4,3,3.4,3.8,3.7,3.6,3.7,4,2.3,2.4,3.1,3.1,3.5,3.4],[7.7,9.7,10.2,10.6,11.2,9.2,9.3,9.5,11.5,12.7,6.8,10,10,10.8,11.1],[3.9,2.8,2.2,2,2.4,3.3,1.8,3.7,2.3,1.3,4.5,2.3,2.3,2.5,2]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Video type<\/th>\n      <th>audience<\/th>\n      <th>reach<\/th>\n      <th>$/ impr.<\/th>\n      <th>$/ click<\/th>\n      <th>$/ result<\/th>\n      <th>Results/ 1k impr.<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important caveat: bias from divergent delivery here
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The above table is somewhat misleading because of the <a href="https://effective-giving-marketing.gitbook.io/untitled/methodological-discussion/splits-randomization/facebook-split-testing-etc#facebook-trials-divergent-delivery-greater-than-limited-inference">divergent delivery</a> issue. Here, the Global Poverty audience seemed to have done well with videos targeting their oewn cause. However, in each campaign Facebook serves videos less to audiences when they perform poorly on these videos. And in the most comparable (4th) campaign, this combination did so poorly that FB seems to have not administered it much, which makes it not count towards the overall total!</p>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="modeling-and-inference-bayesian-logistic-regressions-and-cis" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="modeling-and-inference-bayesian-logistic-regressions-and-cis"><span class="header-section-number">1.5</span> Modeling and inference: Bayesian Logistic regressions and CIs</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-22-contents" aria-controls="callout-22" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
See discussion of this and other modeling and simulation approaches,
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-22-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Moved to separate file <code>modeling_fb_discussion.qmd</code>, publicly hosted <a href="https://modeling-fb-gwwc-discussion.netlify.app/">here</a>]</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Load tidy Bayes packages</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co">#p_load(brms, install=FALSE)</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(brms)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co">#p_load(tidybayes, install=FALSE)</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidybayes) <span class="co">#integrate Bayesian modeling into a 'tidy data + ggplot' workflow</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Summing outcomes by breakdowns of interest, for use in Bayesian modeling</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>sum_results <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    df <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">summarise</span>(</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">results =</span> <span class="fu">sum</span>(results, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">spend =</span> <span class="fu">sum</span>(amount_spent_usd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">clicks =</span> <span class="fu">sum</span>(link_clicks, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">impressions =</span> <span class="fu">sum</span>(impressions, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">reach =</span> <span class="fu">sum</span>(reach, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="co"># collapse into the categories of interest</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns_col <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(video_theme, audience) <span class="sc">%&gt;%</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">#group_by(video_theme, audience, starts) %&gt;%</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>sum_results</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="co">#%&gt;%   mutate(starts = as.factor(starts))</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a><span class="co">#rem: we are just summing outcomes, so no weights are needed here</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns_col_mix <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(video_theme, audience, starts) <span class="sc">%&gt;%</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>  <span class="co">#group_by(video_theme, audience, starts) %&gt;%</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>sum_results</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a><span class="co">#%&gt;%   mutate(starts = as.factor(starts))</span></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a><span class="co">#rem: we are just summing outcomes, so no weights are needed here</span></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a><span class="co"># collapse into the categories of interest</span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_text_col <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(text_treat, audience) <span class="sc">%&gt;%</span> </span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>sum_results</span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a><span class="co">#%&gt;%   mutate(starts = as.factor(starts))</span></span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a><span class="co">#rem: we are just summing outcomes, so no weights are needed here</span></span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_text_only <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(text_treat) <span class="sc">%&gt;%</span> </span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a>sum_results</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns_col_mix <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(video_theme, audience, starts) <span class="sc">%&gt;%</span></span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a>  <span class="co">#group_by(video_theme, audience, starts) %&gt;%</span></span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>sum_results</span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a><span class="co">#%&gt;%   mutate(starts = as.factor(starts))</span></span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a><span class="co">#rem: we are just summing outcomes, so no weights are needed here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-23-contents" aria-controls="callout-23" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Examples of these summed breakdowns, to be used in Bayesian modeling
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-23-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns_col <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">spend =</span> <span class="fu">round</span>(spend,<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="htmlwidget-d92899cfb96e3946b675" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-d92899cfb96e3946b675">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35"],["Animal","Animal","Animal","Animal","Animal","Climate","Climate","Climate","Climate","Climate","Poverty","Poverty","Poverty","Poverty","Poverty","Factual short","Factual short","Factual short","Factual short","Factual short","Factual short","Factual short","Factual long","Factual long","Factual long","Factual long","Factual long","Factual long","Branded (factual)","Branded (factual)","Branded (factual)","Branded (factual)","Branded (factual)","Branded (factual)","Branded (factual)"],["Animal","General audience","Lookalikes","Philanthropy","Retargeting","Climate","General audience","Lookalikes","Philanthropy","Retargeting","General audience","Global Poverty","Lookalikes","Philanthropy","Retargeting","Animal","Climate","General audience","Global Poverty","Lookalikes","Philanthropy","Retargeting","Animal","Climate","Global Poverty","Lookalikes","Philanthropy","Retargeting","Animal","Climate","General audience","Global Poverty","Lookalikes","Philanthropy","Retargeting"],[226,15,40,169,1,15,12,7,38,0,1,34,45,107,1,184,197,15,74,133,136,0,13,18,5,4,11,1,5,19,21,6,3,25,0],[2135.88,142.15,376.85,2289.95,4.58,191.4,75.19,84.63,268.76,0.86,14.84,318.06,386.03,1045.28,0.5,1615.38,1607.27,149.79,646.27,872.14,1267.03,3.15,289.77,345.47,160.76,43.58,306.28,1.12,123.46,393.57,358.71,141.07,29.81,287.59,1.08],[580,47,80,516,3,84,33,32,97,0,3,88,115,296,1,583,635,39,214,377,423,1,48,53,43,8,45,2,27,65,71,21,7,67,0],[80651,10542,9447,79531,150,14100,7448,3287,13829,43,1327,22136,18656,71491,39,90843,96025,15563,34837,34218,59677,124,8730,9542,4595,557,6923,12,6988,20157,22132,7836,1194,17401,82],[61768,8561,8260,63347,79,11408,6222,2874,11854,34,1164,19188,16829,58548,27,74865,79199,13324,30826,29932,51761,74,7703,7530,4034,481,5561,7,5983,14269,16884,6608,999,11902,49]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>video_theme<\/th>\n      <th>audience<\/th>\n      <th>results<\/th>\n      <th>spend<\/th>\n      <th>clicks<\/th>\n      <th>impressions<\/th>\n      <th>reach<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6,7]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
<p>Next, we compute and set minimally-informative priors for the click-rates model.</p>
<div class="cell">
<details>
<summary>Priors for click rate models</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#helper function to 'make priors'</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>make_prior_normal <span class="ot">&lt;-</span> <span class="cf">function</span>(mean, sd, ...) {</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prior_string</span>(<span class="fu">paste0</span>(<span class="st">"normal("</span>, mean, <span class="st">","</span>, sd, <span class="st">")"</span>), ...)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>prior_click_per_reach <span class="ot">&lt;-</span> <span class="fl">0.028</span> <span class="co">#based on outside/prior data; see discussion below</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>prior_intercept_click <span class="ot">&lt;-</span>  <span class="fu">logit</span>(prior_click_per_reach)</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>prior_intercept_click_ub <span class="ot">&lt;-</span> <span class="fl">0.15</span> <span class="co">#a 15% click rate seemed the highest conceivable</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>se_prior_click <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_intercept_click_ub) <span class="sc">-</span> prior_intercept_click)<span class="sc">/</span><span class="fl">1.96</span> <span class="co">#see discussion below</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>prior_slope_click_ub <span class="ot">&lt;-</span> <span class="fl">0.25</span> <span class="co">#the strongest reasonably-likely impact of a particular add is to increase click rates by 25 percentage points </span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>se_prior_slope_click <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_slope_click_ub) <span class="sc">-</span> prior_intercept_click)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>prior_click <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">make_prior_normal</span>(prior_intercept_click, se_prior_click, <span class="at">class =</span> <span class="st">"Intercept"</span>),</span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a><span class="fu">make_prior_normal</span>(<span class="dv">0</span>, se_prior_slope_click, <span class="at">class =</span> <span class="st">"b"</span>)</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a><span class="co">#DR @Jamie: This is a log ratio of probabilities, iirc. Why are we assuming it is normally distributed? </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-24-contents" aria-controls="callout-24" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Determining appropriate priors for click rates - intercept
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-24" class="callout-24-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In the code chunk just above, we define the priors which we use below.</p>
<p>Where did this come from? It is somewhat ad-hoc, but it is unlikely to matter much. Given our very large dataset, we don’t expect our results to be very sensitive to the priors.</p>
<p>A 2.8% click rate (as a share of ‘reach’) seemed like a reasonable mean. This is approximately the rate GWWC saw in all of its trials before February 2021, when this trial started. <code>logit(prior_click_per_reach)</code> gives us the intercept associated with this prior expected outcome rate.</p>
<p>The prior on the standard error for the intercept is not based on any previous data. We considered ‘what baseline rate would we consider to be extremely unlikely?’, and set the standard deviations to be about half of this (recalling that 95% of the area of a normal distribution is within 1.96 sd’s of the mean). In the positive direction, a rate of 15% or more would be very surprising. This would yield a logit intercept of <code>logit(prior_intercept_click_ub)</code> = -1.7346011. Differencing this from the prior mean and dividing by two yields our chosen prior intercept standard error: 0.925; note this gives a 95 percent lower-bound of a 0.468% click rate.</p>
</div>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-25-contents" aria-controls="callout-25" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Determining appropriate priors for click rates - coefficients
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-25" class="callout-25-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In determining priors for the slopes (adjustments for different groups), we start with a mean expected slope of 0; this is consistent with a sort of ‘unbiased’ prior, not loading the dice in either direction, and also most adaptable to a range of groups we might consider. We again considered ‘what mean click rates would be very surprising’. A click rate of 25% of more for any targeted subgroup or treatment would be very unexpected – this seems conservative. By similar calculations above, this yields <code>se_prior_slope_click</code> = 1.2492546.</p>
<p>Could we instead do this considering reasonable ‘proportional differences in rates’? We will consider this for future work (possible challenge: it may interact with the intercepts).</p>
</div>
</div>
</div>
<p>Next, we compute and set minimally informative priors for the <em>results</em> model.</p>
<div class="cell">
<details>
<summary>Priors: results model</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>prior_results_per_click <span class="ot">&lt;-</span> <span class="fl">0.20</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>prior_intercept_results <span class="ot">&lt;-</span>  <span class="fu">logit</span>(prior_results_per_click)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>prior_intercept_results_ub <span class="ot">&lt;-</span> <span class="fl">0.75</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>se_prior_results <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_intercept_results_ub) <span class="sc">-</span> prior_intercept_results)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>prior_slope_results_ub <span class="ot">&lt;-</span> <span class="fl">0.85</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>se_prior_slope_results <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_slope_results_ub) <span class="sc">-</span> prior_intercept_results)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>prior_results <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">make_prior_normal</span>(prior_intercept_results, se_prior_results, <span class="at">class =</span> <span class="st">"Intercept"</span>),</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="fu">make_prior_normal</span>(<span class="dv">0</span>, se_prior_slope_results, <span class="at">class =</span> <span class="st">"b"</span>)</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-26-contents" aria-controls="callout-26" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Determining appropriate priors for results (per click)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-26" class="callout-26-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>See the above discussion folds on priors for clicks for our general approach.</p>
<p>For results per click (RpC), we had very little data or experience to go on. The little prior data GWWC had on results per click were from very different contexts, e.g., RSVPs for attending events rather than simply leaving an email. In those cases results per click are (as we expect, are results per click for Facebook ads are in general). However, here people are clicking on a call to action like ‘Download the Effective Giving Guide’, directing them to a site where they merely need to leave their email to download this guide. Thus, if the clicks are intentional, a much higher rate of ‘result’ seems reasonable. Thus we compromised on a 20% ‘results per click’ rate as our overall prior mean.</p>
<p>We would be ‘very surprised’ (seems 5% likely or less) with an RpC of over 75% overall or 85% for any subgroup – we derive the standard errors of the intercept and slope from these, as for clicks.</p>
<p>(Note: this implies a 95% CI lower-bound of a 2.04% overall RpC rate.)</p>
</div>
</div>
</div>
<section id="estimating-the-models" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="estimating-the-models">Estimating the models</h3>
<div class="cell">
<details>
<summary>Creating formulas for Bayes models (I try to automate)</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>clicks_per_reach_video_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"clicks | trials(reach) ~ video_theme + audience + video_theme:audience"</span>) <span class="co">#DR: I guess trials(reach) indicates a particular transformation of the outcome to suit the logistic equation.  video_theme:audience is specifying a type of interaction term</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># +  starts</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>results_per_click_video_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"results | trials(clicks) ~ video_theme*audience"</span>) <span class="co">#todo: use same interaction notation or explain</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="co">#  For comparison: a one-step model </span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>results_per_reach_video_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"results | trials(reach) ~ video_theme + audience + (video_theme|audience)"</span>)</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="co">#including messages</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>clicks_per_reach_text_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"clicks | trials(reach) ~ text_treat + audience + text_treat:audience"</span>)</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="co"># +  starts</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>results_per_click_text_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"results | trials(clicks) ~ text_treat + audience + text_treat:audience"</span>)</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="co">#  Fuller, mixed model (todo)</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a><span class="co"># results_per_reach_video_aud_mix &lt;- as.formula("results | trials(reach) ~ (1|starts) + video_theme + audience + (video_theme | audience) + (video_theme:audience)")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># label: bayes_estimates_vid</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Estimating models using brm, focus on video treatment dimension"</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="do">## passing a list</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co">#arg.list &lt;- list(init = 0, chains = 4, cores = 4, iter = 2500, warmup = 500, backend = "cmdstanr", seed = 1010, silent=2,  refresh = 0) </span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="co">#note 'do.call' was the start of an attempt to automate</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>clicks_logit_vid <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_video_breakdowns_col, </span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> clicks_per_reach_video_aud,</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>), </span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>                   <span class="at">prior =</span> prior_click),</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"clicks_logit_vid.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>results_logit_vid <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_video_breakdowns_col, </span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> results_per_click_video_aud,</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>                  <span class="at">prior =</span> prior_results),</span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,                   </span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)), </span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"results_logit_vid.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span>)</span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>results_per_reach_logit_vid <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_video_breakdowns_col, </span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> results_per_reach_video_aud,</span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>                  <span class="at">prior =</span> prior_results),</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,                   </span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)), </span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"results_per_reach_logit_vid.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span>)</span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># label: bayes_estimates_text</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Estimating models using brm, focus on text treatment dimension"</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co">#for texts:</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>clicks_logit_text <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_campaign_by_text_col, </span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> clicks_per_reach_text_aud,</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>                   <span class="at">prior =</span> prior_click),</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,                   </span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>   <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)), </span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"clicks_logit_text.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span>)</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>results_logit_text <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_campaign_by_text_col, </span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> results_per_click_text_aud,</span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>                  <span class="at">prior =</span> prior_results),</span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,                   </span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>   <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)), </span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"results_logit_text.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span>)</span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Running MCMC with 4 parallel chains, with 8 thread(s) per chain...

Chain 1 finished in 49.7 seconds.
Chain 4 finished in 56.7 seconds.
Chain 3 finished in 65.8 seconds.
Chain 2 finished in 66.8 seconds.

All 4 chains finished successfully.
Mean chain execution time: 59.7 seconds.
Total execution time: 66.9 seconds.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#for texts only:</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>clicks_logit_text_only <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_campaign_by_text_only, </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> clicks <span class="sc">|</span> <span class="fu">trials</span>(reach) <span class="sc">~</span> text_treat,</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">prior =</span> prior_click),</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,                   </span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)), </span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"clicks_logit_text_only.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span>)</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>results_logit_text_only <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_campaign_by_text_only, </span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> results <span class="sc">|</span> <span class="fu">trials</span>(clicks) <span class="sc">~</span> text_treat,</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>                  <span class="at">prior =</span> prior_results),</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,                   </span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>   <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)), </span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"results_logit_text_only.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span>)</span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Running MCMC with 4 parallel chains, with 8 thread(s) per chain...

Chain 1 finished in 0.2 seconds.
Chain 2 finished in 0.3 seconds.
Chain 3 finished in 0.3 seconds.
Chain 4 finished in 0.3 seconds.

All 4 chains finished successfully.
Mean chain execution time: 0.3 seconds.
Total execution time: 0.4 seconds.</code></pre>
</div>
</div>

<!-- 
### (TODO) Summarize the model results/coefficients in clean tables here
-->
</section>
<section id="forest-plots" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="forest-plots">Forest plots</h3>
<div class="cell">
<details>
<summary>full crossing, posterior expectations</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># posterior expectations:</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>full_crossing <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"video_theme"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_video_breakdowns_col<span class="sc">$</span>video_theme),</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"audience"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_video_breakdowns_col<span class="sc">$</span>audience)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reach =</span> <span class="dv">1</span>, <span class="co">#it is estimating the number of clicks based on the reach</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">clicks =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="sc">!</span>(audience<span class="sc">==</span><span class="st">"Animal"</span> <span class="sc">&amp;</span> (video_theme <span class="sc">==</span> <span class="st">"Climate"</span> <span class="sc">|</span> video_theme <span class="sc">==</span> <span class="st">"Poverty"</span>)))  <span class="sc">%&gt;%</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(audience<span class="sc">==</span><span class="st">"Climate"</span> <span class="sc">&amp;</span> (video_theme <span class="sc">==</span> <span class="st">"Animal"</span> <span class="sc">|</span> video_theme <span class="sc">==</span> <span class="st">"Poverty"</span>)))  <span class="sc">%&gt;%</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(audience<span class="sc">==</span><span class="st">"Global Poverty"</span> <span class="sc">&amp;</span> (video_theme <span class="sc">==</span> <span class="st">"Animal"</span> <span class="sc">|</span> video_theme <span class="sc">==</span> <span class="st">"Climate"</span>))) <span class="co">#remove combinations where we don't have data ... at least for now</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a><span class="co"># setting reach and clicks = 1 will give us proportion of conversions (because it makes a prediction for total outcomes per unit )</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>click_post <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(clicks_logit_vid, <span class="at">newdata =</span> full_crossing) <span class="co">#ndraws = 1000, </span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>results_post <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(results_logit_vid, full_crossing)</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>combined_post <span class="ot">&lt;-</span> click_post <span class="sc">*</span> results_post <span class="co">#DR: multiplying the predicted probabilities of click and conversion here?</span></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>results_per_reach_post <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(results_per_reach_logit_vid, full_crossing)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#make tibbles of the stuff above, put it together s</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>post_tib_clean <span class="ot">&lt;-</span> <span class="cf">function</span>(df, name) {</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"identifier"</span>,</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"probability"</span>) </span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">level =</span> name,</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">theme =</span> <span class="fu">rep</span>(full_crossing<span class="sc">$</span>video_theme, <span class="fu">dim</span>(data)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing)[<span class="dv">1</span>]),</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">audience =</span> <span class="fu">rep</span>(full_crossing<span class="sc">$</span>audience,  <span class="fu">dim</span>(data)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing)[<span class="dv">1</span>])</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>       <span class="co">#     starts = rep(full_crossing$starts, 1000) #DR: I think I want starts (start date as a factor) in the model, because the audience may be systematically different on those days, and other things change we leave out here. However, I don't want to see it in the graphs. How to do that? </span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data)</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a><span class="co"># make tibbles</span></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>tib_click_post <span class="ot">&lt;-</span> click_post <span class="sc">%&gt;%</span> </span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">post_tib_clean</span>( <span class="st">"1. Reach to clicks"</span>)</span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>tib_result_post <span class="ot">&lt;-</span> results_post  <span class="sc">%&gt;%</span></span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">post_tib_clean</span>(<span class="st">"2. Clicks to signups"</span>)</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>tib_combined_post <span class="ot">&lt;-</span> combined_post <span class="sc">%&gt;%</span></span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">post_tib_clean</span>(<span class="st">"3. Total"</span>) </span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a>full_post <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(tib_click_post,</span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a>                       tib_result_post,</span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>                       tib_combined_post)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>post_tib_clean_text <span class="ot">&lt;-</span> <span class="cf">function</span>(df, name) {</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"identifier"</span>,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"probability"</span>) </span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">level =</span> name)</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>       <span class="co">#     starts = rep(full_crossing$starts, 1000) #DR: I think I want starts (start date as a factor) in the model, because the audience may be systematically different on those days, and other things change we leave out here. However, I don't want to see it in the graphs. How to do that? </span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data)</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a><span class="co"># posterior expectations:</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>full_crossing_text <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"text_treat"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_campaign_by_text_col<span class="sc">$</span>text_treat),</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"audience"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_campaign_by_text_col<span class="sc">$</span>audience)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reach =</span> <span class="dv">1</span>, <span class="co">#it is estimating the number of clicks based on the reach</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">clicks =</span> <span class="dv">1</span>) </span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>full_crossing_text_only <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"text_treat"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_campaign_by_text_col<span class="sc">$</span>text_treat)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reach =</span> <span class="dv">1</span>, <span class="co">#it is estimating the number of clicks based on the reach</span></span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">clicks =</span> <span class="dv">1</span>)</span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a>click_post_text <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(clicks_logit_text, <span class="at">newdata =</span> full_crossing_text) <span class="co">#ndraws = 1000, </span></span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>results_post_text <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(results_logit_text, full_crossing_text)</span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>combined_post_text <span class="ot">&lt;-</span> click_post_text <span class="sc">*</span> results_post_text </span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>text_audience_reps <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a> <span class="fu">mutate</span>(</span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a>         <span class="at">text_treat =</span> <span class="fu">rep</span>(full_crossing_text<span class="sc">$</span>text_treat, <span class="fu">dim</span>(tib_click_post_text)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing_text)[<span class="dv">1</span>]),</span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a>       <span class="at">audience =</span> <span class="fu">rep</span>(full_crossing_text<span class="sc">$</span>audience,  <span class="fu">dim</span>(tib_click_post_text)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing_text)[<span class="dv">1</span>])</span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a>)}</span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a><span class="co"># make tibbles</span></span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a>tib_click_post_text <span class="ot">&lt;-</span> click_post_text <span class="sc">%&gt;%</span> </span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">post_tib_clean_text</span>( <span class="st">"1. Reach to clicks"</span>) </span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a>tib_click_post_text <span class="sc">%&lt;&gt;%</span>  text_audience_reps</span>
<span id="cb45-43"><a href="#cb45-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-44"><a href="#cb45-44" aria-hidden="true" tabindex="-1"></a>tib_result_post_text <span class="ot">&lt;-</span> results_post_text  <span class="sc">%&gt;%</span></span>
<span id="cb45-45"><a href="#cb45-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">post_tib_clean_text</span>(<span class="st">"2. Clicks to signups"</span>)</span>
<span id="cb45-46"><a href="#cb45-46" aria-hidden="true" tabindex="-1"></a>tib_result_post_text <span class="sc">%&lt;&gt;%</span> text_audience_reps</span>
<span id="cb45-47"><a href="#cb45-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-48"><a href="#cb45-48" aria-hidden="true" tabindex="-1"></a>tib_combined_post_text <span class="ot">&lt;-</span> combined_post_text <span class="sc">%&gt;%</span></span>
<span id="cb45-49"><a href="#cb45-49" aria-hidden="true" tabindex="-1"></a>      <span class="fu">post_tib_clean_text</span>(<span class="st">"3. Total"</span>) </span>
<span id="cb45-50"><a href="#cb45-50" aria-hidden="true" tabindex="-1"></a>tib_combined_post_text <span class="sc">%&lt;&gt;%</span> text_audience_reps</span>
<span id="cb45-51"><a href="#cb45-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-52"><a href="#cb45-52" aria-hidden="true" tabindex="-1"></a>full_post_text <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(tib_click_post_text,</span>
<span id="cb45-53"><a href="#cb45-53" aria-hidden="true" tabindex="-1"></a>                       tib_result_post_text,</span>
<span id="cb45-54"><a href="#cb45-54" aria-hidden="true" tabindex="-1"></a>                       tib_combined_post_text)</span>
<span id="cb45-55"><a href="#cb45-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-56"><a href="#cb45-56" aria-hidden="true" tabindex="-1"></a><span class="co">#for text only, 1 variable model</span></span>
<span id="cb45-57"><a href="#cb45-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-58"><a href="#cb45-58" aria-hidden="true" tabindex="-1"></a>click_post_text_only <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(clicks_logit_text_only, <span class="at">newdata =</span> full_crossing_text_only) <span class="co">#ndraws = 1000, </span></span>
<span id="cb45-59"><a href="#cb45-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-60"><a href="#cb45-60" aria-hidden="true" tabindex="-1"></a>results_post_text_only <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(results_logit_text_only, full_crossing_text_only)</span>
<span id="cb45-61"><a href="#cb45-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-62"><a href="#cb45-62" aria-hidden="true" tabindex="-1"></a>combined_post_text_only <span class="ot">&lt;-</span> click_post_text_only <span class="sc">*</span> results_post_text_only</span>
<span id="cb45-63"><a href="#cb45-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-64"><a href="#cb45-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-65"><a href="#cb45-65" aria-hidden="true" tabindex="-1"></a><span class="co"># make tibbles</span></span>
<span id="cb45-66"><a href="#cb45-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-67"><a href="#cb45-67" aria-hidden="true" tabindex="-1"></a>text_only_reps <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb45-68"><a href="#cb45-68" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb45-69"><a href="#cb45-69" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">text_treat =</span> <span class="fu">rep</span>(full_crossing_text_only<span class="sc">$</span>text_treat, <span class="fu">dim</span>(tib_click_post_text_only)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing_text_only)[<span class="dv">1</span>]))</span>
<span id="cb45-70"><a href="#cb45-70" aria-hidden="true" tabindex="-1"></a>}          </span>
<span id="cb45-71"><a href="#cb45-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-72"><a href="#cb45-72" aria-hidden="true" tabindex="-1"></a>tib_click_post_text_only <span class="ot">&lt;-</span> click_post_text_only <span class="sc">%&gt;%</span> </span>
<span id="cb45-73"><a href="#cb45-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">post_tib_clean_text</span>( <span class="st">"1. Reach to clicks"</span>)</span>
<span id="cb45-74"><a href="#cb45-74" aria-hidden="true" tabindex="-1"></a>tib_click_post_text_only <span class="sc">%&lt;&gt;%</span>   text_only_reps</span>
<span id="cb45-75"><a href="#cb45-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-76"><a href="#cb45-76" aria-hidden="true" tabindex="-1"></a>tib_results_post_text_only <span class="ot">&lt;-</span> results_post_text_only  <span class="sc">%&gt;%</span></span>
<span id="cb45-77"><a href="#cb45-77" aria-hidden="true" tabindex="-1"></a>    <span class="fu">post_tib_clean_text</span>(<span class="st">"2. Clicks to signups"</span>)</span>
<span id="cb45-78"><a href="#cb45-78" aria-hidden="true" tabindex="-1"></a>tib_results_post_text_only <span class="sc">%&lt;&gt;%</span>  text_only_reps</span>
<span id="cb45-79"><a href="#cb45-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-80"><a href="#cb45-80" aria-hidden="true" tabindex="-1"></a>tib_combined_post_text_only <span class="ot">&lt;-</span> combined_post_text_only <span class="sc">%&gt;%</span></span>
<span id="cb45-81"><a href="#cb45-81" aria-hidden="true" tabindex="-1"></a>      <span class="fu">post_tib_clean_text</span>(<span class="st">"3. Total"</span>) </span>
<span id="cb45-82"><a href="#cb45-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-83"><a href="#cb45-83" aria-hidden="true" tabindex="-1"></a>tib_combined_post_text_only <span class="sc">%&lt;&gt;%</span>  text_only_reps</span>
<span id="cb45-84"><a href="#cb45-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-85"><a href="#cb45-85" aria-hidden="true" tabindex="-1"></a>full_post_text_only <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(tib_click_post_text_only,</span>
<span id="cb45-86"><a href="#cb45-86" aria-hidden="true" tabindex="-1"></a>                       tib_results_post_text_only,</span>
<span id="cb45-87"><a href="#cb45-87" aria-hidden="true" tabindex="-1"></a>                       tib_combined_post_text_only)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>hdi <span class="ot">&lt;-</span> HDInterval<span class="sc">::</span>hdi</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>CI_choice_narrow <span class="ot">&lt;-</span> <span class="fl">0.6</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>CI_choice_wide <span class="ot">&lt;-</span> <span class="fl">0.9</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>sum_mean_hdi <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    df, </span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> probability, <span class="at">scaleme=</span><span class="dv">100</span>, <span class="at">CI_choice_n=</span>CI_choice_narrow, <span class="at">CI_choice_w =</span> CI_choice_wide) {</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean =</span> <span class="fu">mean</span>({{var}}) <span class="sc">*</span> scaleme,</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_w)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_w)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower_eti =</span> <span class="fu">quantile</span>({{var}}, (<span class="dv">1</span><span class="sc">-</span>CI_choice_w)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper_eti =</span> <span class="fu">quantile</span>({{var}}, <span class="dv">1</span><span class="sc">-</span>(<span class="dv">1</span><span class="sc">-</span>CI_choice_w)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">check =</span> <span class="fu">length</span>(<span class="fu">hdi</span>({{var}}))</span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a>mutate_mean_hdi <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a>    df, </span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> probability, <span class="at">scaleme=</span><span class="dv">100</span>, <span class="at">CI_choice_n=</span>CI_choice_narrow, <span class="at">CI_choice_w =</span> CI_choice_wide) {</span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean =</span> <span class="fu">mean</span>({{var}}) <span class="sc">*</span> scaleme,</span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_wide)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_wide)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower_eti =</span> <span class="fu">quantile</span>({{var}}, (<span class="dv">1</span><span class="sc">-</span>CI_choice_wide)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper_eti =</span> <span class="fu">quantile</span>({{var}}, <span class="dv">1</span><span class="sc">-</span>(<span class="dv">1</span><span class="sc">-</span>CI_choice_wide)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb46-35"><a href="#cb46-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">check =</span> <span class="fu">length</span>(<span class="fu">hdi</span>({{var}}))</span>
<span id="cb46-36"><a href="#cb46-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb46-37"><a href="#cb46-37" aria-hidden="true" tabindex="-1"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="results-by-audience" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="results-by-audience">Results by audience</h4>
<p>We ran two Bayesian Logit models. <a href="#fn20" class="footnote-ref" id="fnref20" role="doc-noteref"><sup>20</sup></a> Results come from a two-stage process: 1. some people who see the ad click on it. 2. Some of those who click on the ad leave their email (asking for a Giving Guide). We model clicks as a share of unique impressions (‘reach’) and results as a share of clicks, allowing each to vary by video theme and by audience. (Later: by text and by demographics.) The product of these shares (probabilities) yields ‘results as a share of impressions’, the main outcome of interest.</p>
<p>Below, we plot the point means (aka ‘coefficients’) and ‘highest density intervals’ (HDI) of our posterior beliefs for these. These models consider the audience and video themes at the same time, the imbalance between audiences and themes should probably not be a major biasing factor.</p>
<p><em>Caveats</em>:</p>
<ol type="1">
<li><p>The specific coefficients for the second stage (‘clicks to results’) should be taken lightly; as the audiences may be selected very differently ‘conditional on click’; e.g., audiences that are ‘easy to click’ may by ‘harder to convert to a result’.</p></li>
<li><p>The results presented below do not control for ‘which text treatment’ nor for ‘which campaign’. (We can do the latter next, but we can only do the former with the other version of the data, which is then missing some detail on who saw which video)</p></li>
<li><p>The usual <a href="https://effective-giving-marketing.gitbook.io/untitled/methodological-discussion/splits-randomization/facebook-split-testing-etc">‘divergent delivery’ issue</a></p></li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Important note:</strong> the ‘pooled’ graphs (for individual audiences and videos) in this section may not be correctly weighted across subcategories. We need to reexamine this.</p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>aud_plots <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(level, audience) <span class="sc">%&gt;%</span> <span class="co">#, starts</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">audience =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(audience), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> audience), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> audience),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span><span class="st">`</span><span class="at">mean</span><span class="st">`</span>, </span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> audience))</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience (reach, clicks, signups)"</span>,</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/aud_plots-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot_no_cause <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_det</span>(theme, <span class="st">"Animal|Climate|Poverty"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience, no cause videos"</span>,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/aud_plots-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot_cause <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(theme, <span class="st">"Animal|Climate|Poverty"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience, Cause videos only"</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/aud_plots-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>For the ‘cause videos only’ we see <a href="#fn21" class="footnote-ref" id="fnref21" role="doc-noteref"><sup>21</sup></a> that the philanthropy audience, across all causes, seems to perform at least as well as the climate and ‘global poverty’ audiences (when the latter are presented videos for the causes they are said to care about). However, the animal audiences seems to perform substantially better.</p>
<p>For example, focusing on climate-cause videos (and removing ‘lookalikes’) below, we see that the philanthropy audience performs substantially better than the climate audience.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot_climate <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(theme, <span class="st">"Climate"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Lookalikes"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience, Climate videos only"</span>,</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/reach_to_clicks_aud_plot_climate-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="results-by-video" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="results-by-video">Results by Video</h3>
<p><a href="#fn22" class="footnote-ref" id="fnref22" role="doc-noteref"><sup>22</sup></a></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>vid_plots <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(level, theme) <span class="sc">%&gt;%</span> <span class="co">#, starts</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">theme =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(theme), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> theme), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> theme),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span><span class="st">`</span><span class="at">mean</span><span class="st">`</span>, </span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> theme))</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_vid_plot <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">vid_plots</span>() <span class="sc">+</span></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By video theme (reach, clicks, signups)"</span>,</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_vid_plot_phil <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(audience <span class="sc">==</span> <span class="st">"Philanthropy"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">vid_plots</span>() <span class="sc">+</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By theme, 'philanthropy' audience only"</span>,</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/unnamed-chunk-39-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_plot <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"1"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(theme, audience) <span class="sc">%&gt;%</span> <span class="co">#, starts</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">theme =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(theme), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> theme), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> theme),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> theme)) <span class="sc">+</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">1.75</span>)) <span class="sc">+</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Clicks by video theme and audience"</span>,</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % clicking with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/full_plots-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>reach_to_results_plot <span class="ot">&lt;-</span>  full_post <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(theme, audience) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, </span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>      sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">theme =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(theme), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> theme), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> theme),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> theme)) <span class="sc">+</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total), by audience by theme"</span>,</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">factor</span>(audience, <span class="at">levels=</span>audience_levels), <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/full_plots-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>reach_to_results_plot_flip <span class="ot">&lt;-</span>  full_post <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(audience, theme) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, </span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>      sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">audience =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(audience), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> audience), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> audience),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> audience)) <span class="sc">+</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total), by theme by audience"</span>,</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>theme, <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/full_plots-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="results-by-text" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="results-by-text">Results by text</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text_only <span class="ot">&lt;-</span>  full_post_text_only <span class="sc">%&gt;%</span> </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(text_treat) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, conte</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sum_mean_hdi</span>( <span class="at">CI_choice_n=</span><span class="fl">0.90</span>, <span class="at">CI_choice_w =</span> <span class="fl">0.99</span>) <span class="sc">%&gt;%</span>         </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text_treat =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(text_treat), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) </span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text_only  <span class="sc">%&gt;%</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Texts: mean performance by text, 0% and 99% HDI bounds"</span>, <span class="at">filter=</span><span class="st">"top"</span>,  <span class="at">rownames=</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(reach_to_results_sum_text_only), <span class="at">digits=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="htmlwidget-419f8ff33461faa74926" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-419f8ff33461faa74926">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;Learn&quot;,&quot;Overwhelming&quot;,&quot;6000+ people&quot;,&quot;100x impact&quot;,&quot;Cause list&quot;,&quot;Bigger difference&quot;,&quot;Only 3% research&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.167197286871131\" data-max=\"0.43240539539782\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.166520802408143\" data-max=\"0.431286630699924\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.167864438833549\" data-max=\"0.433448927741588\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.166138022999737\" data-max=\"0.43070509954663\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.168280824836743\" data-max=\"0.434066514086175\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.16612246188405\" data-max=\"0.430717698005024\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.168275819168777\" data-max=\"0.434107677456288\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Texts: mean performance by text, 0% and 99% HDI bounds<\/caption>","data":[["100x impact","6000+ people","Bigger difference","Cause list","Learn","Only 3% research","Overwhelming"],[0.236191080988631,0.219006349758709,0.278318950890319,0.247021962726475,0.167197286871132,0.43240539539782,0.169330545010483],[0.235714556965555,0.218472197407782,0.277730249242521,0.245725706467896,0.166520802408144,0.431286630699924,0.168830677249078],[0.236676453573164,0.219529857957889,0.278950066992724,0.248317588547755,0.16786443883355,0.433448927741587,0.169838611191769],[0.235378159786186,0.218171976053377,0.277358253061707,0.244973489242331,0.166138022999737,0.430705099546629,0.168555788235677],[0.236918985707975,0.219804274171369,0.279267651572702,0.249015621645526,0.168280824836744,0.434066514086174,0.170153771764747],[0.235402865963809,0.218193435363657,0.277381043530169,0.244992758346804,0.166122461884051,0.430717698005024,0.168530409659248],[0.236935723408583,0.21982734110316,0.279300683230513,0.249074724403412,0.168275819168777,0.434107677456288,0.170130814154568],[2,2,2,2,2,2,2]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>text_treat<\/th>\n      <th>mean<\/th>\n      <th>lower_n<\/th>\n      <th>upper_n<\/th>\n      <th>lower_w<\/th>\n      <th>upper_w<\/th>\n      <th>lower_eti<\/th>\n      <th>upper_eti<\/th>\n      <th>check<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":0,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":1,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":7,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":8,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[1,2,3,4,5,6,7,8]}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render","options.columnDefs.5.render","options.columnDefs.6.render","options.columnDefs.7.render","options.columnDefs.8.render"],"jsHooks":[]}</script>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text_only_plot <span class="ot">&lt;-</span> </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text_only <span class="sc">%&gt;%</span> </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> text_treat), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> text_treat),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> text_treat)) <span class="sc">+</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="fl">0.13</span>, .<span class="dv">45</span>)) <span class="sc">+</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total), by text"</span>,</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 90% and 99% HDIs"</span>) </span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/reach_to_results_sum_text_only-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text <span class="ot">&lt;-</span>  full_post_text <span class="sc">%&gt;%</span> </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(text_treat, audience) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, </span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>      sum_mean_hdi <span class="sc">%&gt;%</span>         </span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text_treat =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(text_treat), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  </span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text  <span class="sc">%&gt;%</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Texts:  mean performance by audience, 60 and 90% HDI bounds"</span>, <span class="at">filter=</span><span class="st">"top"</span>,  <span class="at">rownames=</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">formatRound</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(reach_to_results_sum_text_only), <span class="at">digits=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="htmlwidget-a933e739208650576c1d" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a933e739208650576c1d">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;100x impact&quot;,&quot;6000+ people&quot;,&quot;Bigger difference&quot;,&quot;Cause list&quot;,&quot;Learn&quot;,&quot;Only 3% research&quot;,&quot;Overwhelming&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.025689893333269\" data-max=\"0.904803612495425\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.000425366953834\" data-max=\"0.902732369233577\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.027905836848287\" data-max=\"0.936029444761693\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"9.2682601679e-05\" data-max=\"0.900850984255266\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.033368213891201\" data-max=\"1.08604427532918\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.005405794354787\" data-max=\"0.900716606542162\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0.033388921160615\" data-max=\"1.75535559461989\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Texts:  mean performance by audience, 60 and 90% HDI bounds<\/caption>","data":[["100x impact","100x impact","100x impact","100x impact","100x impact","100x impact","6000+ people","6000+ people","6000+ people","6000+ people","6000+ people","6000+ people","Bigger difference","Bigger difference","Bigger difference","Bigger difference","Bigger difference","Bigger difference","Cause list","Cause list","Cause list","Cause list","Cause list","Cause list","Learn","Learn","Learn","Learn","Learn","Learn","Only 3% research","Only 3% research","Only 3% research","Only 3% research","Only 3% research","Only 3% research","Overwhelming","Overwhelming","Overwhelming","Overwhelming","Overwhelming","Overwhelming"],["Animal","Climate","General audience","Global Poverty","Lookalikes","Philanthropy","Animal","Climate","General audience","Global Poverty","Lookalikes","Philanthropy","Animal","Climate","General audience","Global Poverty","Lookalikes","Philanthropy","Animal","Climate","General audience","Global Poverty","Lookalikes","Philanthropy","Animal","Climate","General audience","Global Poverty","Lookalikes","Philanthropy","Animal","Climate","General audience","Global Poverty","Lookalikes","Philanthropy","Animal","Climate","General audience","Global Poverty","Lookalikes","Philanthropy"],[0.21842130852848,0.200111234229298,0.113836909671004,0.151033533480495,0.305371835865752,0.537816216289248,0.221019873944013,0.0902609732895998,0.157787380787527,0.116252071031426,0.108546588691546,0.237541109646649,0.374269590704074,0.177577200477833,0.153294430284993,0.315087466261293,0.406888363183739,0.277712145051162,0.312705171288935,0.0256898933332694,0.37955917204791,0.195854256319404,0.534028631125317,0.194278824769567,0.18603335347628,0.114095747806912,0.102969675742887,0.26514431727003,0.212076944985017,0.176763599094728,0.340331171278771,0.498849897090116,0.200321244082644,0.18183055409951,0.904803612495425,0.239240971788282,0.376314990037216,0.852902807103008,0.444951371966726,0.0293417284708145,0.199988247924224,0.160345585494779],[0.218143919742818,0.199603265699501,0.113100464519153,0.147899535530038,0.300963159464636,0.536659213303251,0.220379069420685,0.0894470235664376,0.156413404786828,0.115220605336208,0.106521370836534,0.237186132203829,0.373648437283785,0.177102390381444,0.151975727765279,0.313987453973258,0.403908074501198,0.276943281614335,0.310705542356086,0.00519335762172811,0.00079421103134999,0.194530498354516,0.530789171672021,0.193498384243771,0.185269262430096,0.113283063442914,0.102110417382407,0.262111738537127,0.210944180534744,0.176229826878412,0.33900968689522,0.497852769699096,0.19957299954747,0.179476898224854,0.902732369233577,0.238017289272566,0.374216265805874,0.764092573606307,0.000425366953834527,0.02732848962251,0.198880538322184,0.160087989950316],[0.218720952306061,0.200645051420378,0.11449620109936,0.154049148980513,0.309227987625107,0.539104053772958,0.221719514050588,0.0910435309199539,0.159139346339122,0.117223362386295,0.110459375690213,0.23788159635283,0.374877460880634,0.177951550333211,0.154702080683924,0.316364065892112,0.409863298172504,0.27841755519987,0.314972709217156,0.0279058368482878,0.20511315140924,0.197047020216793,0.536588228981604,0.195065464280943,0.186928666722539,0.114893473431214,0.10360001777072,0.268612738224674,0.213173293316551,0.177331709748331,0.34196107484133,0.499808838558631,0.201115796643511,0.184061129508626,0.906888219910252,0.240378010203725,0.378535892541445,0.936029444761693,0.243524067204296,0.031390658000684,0.201109277189941,0.160604458670388],[0.217839387600348,0.199097118210395,0.112523269805803,0.14514678401674,0.297249438734676,0.535415345762901,0.219679002270184,0.0887313143838068,0.155044681905948,0.114353002038343,0.104939965467407,0.236875447624415,0.37306419154886,0.176740991861822,0.150774007538409,0.312745052205043,0.400887387521424,0.276262894908984,0.308616313232736,0.00179021285219384,0.000163079574135211,0.193435113934172,0.528200431872564,0.192659035490148,0.18439407845893,0.112447194721773,0.101560190630206,0.258936981703802,0.209898539007453,0.175703656047909,0.337418686392197,0.496835011545049,0.198842352166934,0.177467874804563,0.900850984255265,0.236965267759736,0.372224762933909,0.678555573656523,9.26826016795474e-05,0.025562615696471,0.1977840077072,0.159820209245691],[0.218963927055065,0.201130967311039,0.115235977562562,0.1574215351644,0.313272937823281,0.540323314049666,0.222277463291803,0.0918509106061869,0.16041998007518,0.118243593194669,0.112504735982381,0.238241704220173,0.375450710704693,0.178395014972665,0.156027246415471,0.317333307503783,0.412385873392659,0.279117797976576,0.317037621755847,0.0504141877292871,0.877035933788684,0.198427812809784,0.539460993086665,0.195755980390849,0.187645731171672,0.115652372940314,0.104478522181481,0.271822767475343,0.214287935796789,0.177888684519192,0.343257856228377,0.500726961946355,0.201851969859124,0.186313879163724,0.908896356458318,0.241584949936786,0.380750845691717,1.01599217071392,1.08604427532917,0.033368213891202,0.202215687464105,0.160843752899742],[0.21785313391451,0.199104393636262,0.112495869451177,0.144981004133326,0.297370538342359,0.535361969647134,0.219714001586408,0.0887012711112031,0.155104045048751,0.114306427143723,0.104802622467381,0.236852714962441,0.37306053409645,0.17675209195171,0.150667671219229,0.312767610976795,0.401074421907385,0.276289356529764,0.30845953312639,0.00540579435478779,0.00884417436333197,0.193371144725793,0.528424310236485,0.192726410941865,0.184413922288893,0.112468355127949,0.101510933374034,0.258780995800169,0.209896274635942,0.175664619876485,0.337422431446057,0.496891619487879,0.198799913525184,0.17745255059869,0.900716606542161,0.236917660019883,0.372094573170929,0.690355089306213,0.00991485899267205,0.0255695963820874,0.197775104495449,0.159827433750845],[0.218982664946899,0.20114347444473,0.115214424980493,0.157293802510519,0.313469362835453,0.540284306775337,0.222320239163659,0.0918329961605226,0.160493638069188,0.118200662877963,0.112404182792509,0.238224743198807,0.375447253352329,0.178413243870986,0.155927090332032,0.317375155539403,0.412637910426167,0.27914615126339,0.31692286681426,0.0606147217398147,1.42903215549282,0.198377498109544,0.539742965541342,0.195830040238761,0.187666929998811,0.115679948995666,0.104438094537208,0.271693421860632,0.214287445973908,0.177856444225602,0.343272228716424,0.500796506287953,0.201812988699488,0.186307475077587,0.908813032854078,0.241555059874293,0.380645443351929,1.0310326609208,1.75535559461989,0.0333889211606152,0.202207355905649,0.160856121789125],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>text_treat<\/th>\n      <th>audience<\/th>\n      <th>mean<\/th>\n      <th>lower_n<\/th>\n      <th>upper_n<\/th>\n      <th>lower_w<\/th>\n      <th>upper_w<\/th>\n      <th>lower_eti<\/th>\n      <th>upper_eti<\/th>\n      <th>check<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":0,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":1,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":7,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"targets":8,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 3, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render","options.columnDefs.5.render","options.columnDefs.6.render","options.columnDefs.7.render","options.columnDefs.8.render"],"jsHooks":[]}</script>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text_plot <span class="ot">&lt;-</span> </span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text <span class="sc">%&gt;%</span> </span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> text_treat), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> text_treat),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> text_treat)) <span class="sc">+</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total), by audience by text"</span>,</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">factor</span>(audience, <span class="at">levels=</span>audience_levels), <span class="at">scales =</span> <span class="st">"fixed"</span>) </span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/reach_results_text-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>reach_to_results_plot_flip <span class="ot">&lt;-</span>  full_post_text <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(audience, text_treat) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, </span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>      sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">audience =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(audience), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> audience), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> audience),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> audience)) <span class="sc">+</span></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total), by text by audience"</span>,</span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>text_treat, <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/reach_results_text-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="outcomes-by-cost" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="outcomes-by-cost">Outcomes by cost</h3>
<p>Note: We don’t report on the ‘text’ treatment in this section (for now), because the cost per unique impression was very similar across these texts.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Joining spending and conversion ####</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>cost_tibble <span class="ot">&lt;-</span> </span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(tib_combined_post,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(gg_video_breakdowns_col, <span class="at">theme=</span>video_theme)) <span class="sc">%&gt;%</span> </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">reach_per_dollar =</span> reach <span class="sc">/</span> spend,</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sign_per_dollar =</span> reach_per_dollar <span class="sc">*</span> probability,</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#NOTE this uses the simulated distribution of probabilities, not just averages! </span></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sign_per_100d =</span> <span class="dv">100</span><span class="sc">*</span>sign_per_dollar,</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">cost_per_signup =</span> <span class="dv">1</span><span class="sc">/</span>sign_per_dollar</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(spend) <span class="sc">==</span> <span class="cn">FALSE</span>)  </span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>cost_summary <span class="ot">&lt;-</span> cost_tibble <span class="sc">%&gt;%</span> </span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(theme, audience) <span class="sc">%&gt;%</span> </span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum_mean_hdi</span>(<span class="at">var=</span> sign_per_100d, <span class="at">scaleme=</span><span class="dv">1</span>)</span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a><span class="co">#dim(filter(cost_summary, check &gt; 2))[1] ... where HDI is not continuous, I guess... this doesn't happen here atm</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  sign_per_100d_plot_vid_by_aud <span class="ot">&lt;-</span> cost_tibble <span class="sc">%&gt;%</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>  ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>(</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> sign_per_100d, </span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> theme</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> cost_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>), </span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> theme)) <span class="sc">+</span></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Signups per $100: Comparing videos by audience"</span>,</span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Density plots, means"</span>) <span class="sc">+</span></span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">factor</span>(audience, <span class="at">levels =</span> audience_levels), <span class="at">scales =</span> <span class="st">"free_x"</span>  )</span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/sign_per_100d_plot_vid_by_aud-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(filter(cost_tibble, upper_eti &lt; 100)) +</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_errorbarh(aes(xmin = lower_eti, xmax = upper_eti, y = audience)) +</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_point(aes(x = mean, y = audience)) +</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs(title = "Cost per signup ($)",</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="co">#     x = "Estimated cost per signup (USD) with 95% ETI") +</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   facet_wrap(~theme, scales = "free_x")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Above we consider the cost effectiveness of each video by audience.</p>
<p><strong>‘Factual short’</strong>: <a href="#fn23" class="footnote-ref" id="fnref23" role="doc-noteref"><sup>23</sup></a> This video seems to perform as good or better than any other video for each of the cause audiences as well as for the Lookalike audience (but see cav eat). It performs nearly as good as other videos for the other audiences.</p>
<p><strong>Climate video</strong>: This seems to have performed best for the Philanthropy and General audiences, although the distribution is diffuse. Surprisingly, it does <em>not</em> perform best for the climate audience.</p>
<p><strong>Brand Video, Factual Long</strong>: These seemed to have performed worst or near-worst for most audiences. ‘Factual long’ seems to have clearly performed worse than ‘Factual short’ version. (But see caveat below.)</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-28-contents" aria-controls="callout-28" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Caveat/todo – Video/campaign date imbalance
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-28" class="callout-28-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>There is substantial imbalance in dates the administration of treatments in the pooled data. E.g., the ‘Factual short’ video was the only one shown for the 2021-12-08 trial, which may confound the above result. The Brand Video was <em>only</em> shown in a single trial, where it was the only video shown. The ‘Factual long’ video was dropped in later trials (possibly after poor performance in an explicit A/B test). Again, confounds are certainly possible. We may want to either remove trials from dates that only ran a single trial (at a first pass), or include start date/campaign into our modeling.</p>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  sign_per_100d_plot_aud_by_vid <span class="ot">&lt;-</span> cost_tibble <span class="sc">%&gt;%</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span> <span class="sc">&amp;</span> audience<span class="sc">!=</span><span class="st">"General audience"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>(</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> sign_per_100d, </span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> audience</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> cost_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span> <span class="sc">&amp;</span> audience<span class="sc">!=</span><span class="st">"General audience"</span>), </span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> audience)) <span class="sc">+</span></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Signups per $100: Comparing audiences for each video"</span>,</span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Density plots, means"</span>) <span class="sc">+</span></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>theme, <span class="at">scales =</span> <span class="st">"free_x"</span>)</span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="gwwc_gg_files/figure-html/sign_per_100d_plot_aud_by_vid-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Flipping the previous plot, we compare the cost-effectiveness of each audience for each video.<a href="#fn24" class="footnote-ref" id="fnref24" role="doc-noteref"><sup>24</sup></a>, <a href="#fn25" class="footnote-ref" id="fnref25" role="doc-noteref"><sup>25</sup></a></p>
<p>The Lookalike audiences are relatively cost-effective for most videos, although the Philanthropy audience seems to do better per dollar for the Climate video.</p>
<p>The cause audiences are relatively cost-effective for their ‘own’ videos, but not overwhelmingly so. They seemed particularly cost-ineffective for the Brand video.</p>

<!-- 
## WIP: Building a set of models from a list of inputs

NOTE 11 Aug 2022: adjusting this from another context - WIP

::: {.cell}

```{.r .cell-code}
#THE content belo 
#targets:
bin_out <- c("d_don_1k", "d_don_10pct")

num_out <- c('donation_usd', 'don_av2_yr', 'l_don_usd', "l_don_av_2yr", "don_share_inc_imp_bc5k", "donation_plan_usd")
targets <- c(bin_out, num_out)
targets_short <- c("don_av2_yr", "don_share_inc_imp_bc5k", "d_don_1k")

#Note -- don_av2_yr is the right one for qpoisson as it already expresses things in exponents. l_don_av2_yr was the one to use in the loglinear model, which we are not emphasizing

targets_short_names <- c("Log (Avg don +1)", "Don/Income", "Donated 1k+")
```
:::


::: {.cell}

```{.r .cell-code}
#imputing and normalization
```
:::

::: {.cell}

```{.r .cell-code}
#labeling for model output

key_eas_all_labels <- c( #note these are converted to a list with as.list before assigning them
    donation_usd = "Donation (USD)",
    l_don_usd = "Log Don. (USD)",
    l_don_av_2yr = "Log Don. 'avg.'",
    ln_age = "Log age",
    don_av2_yr = "Don. 'avg'",
    donation_plan_usd = "Don. plan (USD)")
```
:::


::: {.cell}

```{.r .cell-code}
feat_list = list(
  c(key_demog, feat_income_employ, controls),
  c(key_demog, feat_income_employ, controls, robust_controls),
  c(key_demog, feat_income_employ, feat_gwwc_etg, controls) )

feat_names = c("Baseline", "Robust controls",  "Base + EtG & GWWC")
```
:::


::: {.cell}

```{.r .cell-code}
rhs_vars_list <- rep(feat_list, length(targets_short))

outcome_vars_list <- rep(as.list(targets_short), each=length(feat_list))

dfs <- rep(list(eas_all_s_rl_imp), length(outcome_vars_list))
```
:::

::: {.cell}

```{.r .cell-code}
## Create dataframe for modeling
(linear_models <- make_model_df(rhs_vars_list, outcome_vars_list, dfs))
```
:::




::: {.cell}

```{.r .cell-code}
linear_models <- linear_models %>%
  mutate(
    lm_fit = fit_models(
      linear_models, "formulas", "dfs", fun = fit_lm)
    )

# Extract coefficients, fitted and residuals
model_feat_names <- rep(c(feat_names), times= length(targets_short))
model_oc_names <- rep(c(targets_short_names), each= length(feat_names))
model_names <- paste(model_oc_names, model_feat_names, sep = ": ")
```
:::



::: {.cell}

```{.r .cell-code}
#set base levels before doing modeling

gg_campaign_by_ad_by_text_age_gender$age <- factor( gg_campaign_by_ad_by_text_age_gender$age,
  ordered = FALSE )

gg_campaign_by_ad_by_text_age_gender$age <- relevel( gg_campaign_by_ad_by_text_age_gender$age,
  ref="18-24")

gg_campaign_by_ad_by_text_age_gender$audience <- factor( gg_campaign_by_ad_by_text_age_gender$audience,
  ordered = FALSE )

gg_campaign_by_ad_by_text_age_gender$audience <- relevel( gg_campaign_by_ad_by_text_age_gender$audience,
  ref="Philanthropy")
```
:::


::: {.cell}

```{.r .cell-code}
summarise_stuff <- function(df) {
  df %>%
     summarise(
      amount_spent_usd = sum(amount_spent_usd),
      reach=sum(reach),
      link_clicks = sum(link_clicks, na.rm = TRUE),
      results = sum(results, na.rm = TRUE),
      cost_per_impression = amount_spent_usd/reach,
      cost_per_click = amount_spent_usd/link_clicks,
      results = ifelse(is.na(results), 0, results ),
      results_per_100usd = results/(amount_spent_usd/100),
      results_per_1k_reach = results*1000/reach)
}

model_data_0 <- gg_campaign_by_ad_by_text_age_gender %>%
  filter(audience!="Retargeting") %>%
  ungroup() %>%
    group_by(video_theme, text_treat, audience) %>% #starts,
    #filter(reach>200) %>%
    summarise_stuff() %>%
  ungroup() %>%
  as.tibble() %>%
  mutate(
    across(c(video_theme, text_treat, audience), #starts,
      as.factor )
    )

model_data_start <- gg_campaign_by_ad_by_text_age_gender %>%
  filter(audience!="Retargeting") %>%
  ungroup() %>%
    group_by(video_theme, text_treat, audience, starts) %>% #starts,
    #filter(reach>200) %>%
        summarise_stuff() %>%
  ungroup() %>%
  as.tibble() %>%
  mutate(
    across(c(video_theme, text_treat, audience, starts), #starts,
      as.factor )
    )

model_data <- gg_campaign_by_ad_by_text_age_gender %>%
    filter(audience!="Retargeting") %>%
  ungroup() %>%
    group_by(video_theme, text_treat, audience, gender, agetrin) %>% #starts,
    #filter(reach>200) %>%
        summarise_stuff() %>%
  ungroup() %>%
  as.tibble() %>%
  mutate(
    across(c(video_theme, text_treat, audience, gender, agetrin), #starts,
      as.factor )
    )

Rp100usd_vid_text_audience0 <- model_data_0 %>%
  lm(
    results_per_100usd ~ 1 + video_theme + text_treat + audience,
    data = .,
    weights = reach)


Rp100usd_vid_text_audience_starts <- model_data_start %>%
  lm(
    results_per_100usd ~ 1 + starts + video_theme + text_treat + audience,
    data = .,
    weights = reach)


Rp100usd_vid_text_audience_demo <- model_data %>%
  lm(
    results_per_100usd ~ 1 + video_theme + text_treat + audience + gender + agetrin,
    data = .,
    weights = reach)

#Do NOT do this: Rp100usd_vid_text_audience0$df.residual <- sum(model_data_0$reach) - length(coef(Rp100usd_vid_text_audience0))

huxtable::huxreg(Rp100usd_vid_text_audience0, Rp100usd_vid_text_audience_starts, Rp100usd_vid_text_audience_demo)
```

::: {.cell-output-display}
<table class="huxtable" style="border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; ; margin-left: auto; margin-right: auto;  " id="tab:unnamed-chunk-43">
<col><col><col><col><tr>
<th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1)</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2)</th><th style="vertical-align: top; text-align: center; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(3)</th></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(Intercept)</th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">12.402 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">10.855 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">11.836 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.608)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.976)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.611)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">video_themeBranded (factual)</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-6.552 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-5.167 *&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-6.976 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.472)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2.088)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.478)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">video_themeCause-led (any)</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-2.292&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.287&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-2.441&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.260)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.682)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.260)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">video_themeClimate</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.862&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2.010&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.919&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(4.758)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(5.719)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(4.689)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">video_themeFactual long</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-7.290 ***</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-6.227 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-7.669 ***</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.638)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2.007)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.619)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">video_themeFactual short</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.003&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.869&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.125&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.189)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.647)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.174)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">video_themePoverty</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.018&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.248&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.686&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2.135)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2.594)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(2.112)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">text_treat6000+ people</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-2.806 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-2.959 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-2.358 **&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.912)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.130)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.899)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">text_treatBigger difference</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.658&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.008&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.276&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.886)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.081)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.873)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">text_treatCause list</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.435&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.647&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.876&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.385)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.760)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.364)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">text_treatLearn</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.512&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.306&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.305&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.924)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.121)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.910)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">text_treatOnly 3% research</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2.361 *&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2.744 *&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2.793 **&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.957)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.151)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.943)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">text_treatOverwhelming</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.926&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.487&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.083&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.203)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.593)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.185)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">audienceAnimal</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.442&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.307&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.578&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.932)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.174)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.928)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">audienceClimate</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.091&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.109&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.805&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.830)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.081)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.824)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">audienceGeneral audience</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.938&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.420&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.799&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.117)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.464)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.108)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">audienceGlobal Poverty</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.277&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.349&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-1.261&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.180)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.465)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.165)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">audienceLookalikes</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.985 *&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.075&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.459&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.990)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.191)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.975)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">starts2021-12-08</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">2.915&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.532)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">starts2021-12-23</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">3.559 **&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.072)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">starts2022-01-07</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.300&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.411)&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">gendermale</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.558&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.604)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">genderunknown</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-0.459&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(1.686)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">agetrin0</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.770&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.794)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">agetrin1</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1.014&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;"></th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.4pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">(0.667)&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">N</th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">129&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">185&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0.4pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">991&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">R2</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.509&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.366&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">0.115&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">logLik</th><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-360.487&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-574.434&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; padding: 6pt 6pt 6pt 6pt; font-weight: normal;">-4238.915&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">AIC</th><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">758.974&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">1192.867&nbsp;&nbsp;&nbsp;&nbsp;</td><td style="vertical-align: top; text-align: right; white-space: normal; border-style: solid solid solid solid; border-width: 0pt 0pt 0.8pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;">8523.830&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
<tr>
<th colspan="4" style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 0.8pt 0pt 0pt 0pt;    padding: 6pt 6pt 6pt 6pt; font-weight: normal;"> *** p &lt; 0.001;  ** p &lt; 0.01;  * p &lt; 0.05.</th></tr>
</table>

:::
:::

 Note: the N (and R-sq?) values above are incorrect; these are the number of *groups* not the number of baseline observations.

[^gwwc_gg-3]

[^gwwc_gg-3]: Followup of interest: What do the 'diminishing returns to scale' look like here? How to measure? Can we track results over time and see if the cost increased? (But targeting may also improve over time.) Roughly compare 'small' and 'large' campaigns? ...

-->
<!-- 

  ## Asking and answering questions {#q_and_a}

::: {.callout-note collapse="true"}
## This dynamic document format allows us to ask and answer a series of questions

-   Using the data, with all coding steps shown
-   Ideally, following a pre-defined (pre-analysis) plan
-   Using the data and statistics directly and automatically in the narrative
    -   And everything will be automatically adjusted if we bring in new data or adjust/correct features
:::

### In this context, how much does it cost to get a 'Result", i.e., to get a person to give their email to receive a Giving Guide? {.unnumbered}



### Which pre-defined audience yields a Result at the lowest cost? How does this cost vary by audience? {.unnumbered}

- Refer to models/estimates above


::: {.cell}

```{.r .cell-code}
limits <- aes(ymax = mean_dv + (se_dv), ymin = mean_dv - (se_dv))
dodge <- position_dodge(width = 0.9)


gg_gg_options <- list(geom_bar(stat = 'identity', position=dodge),
  geom_errorbar(limits, position=dodge,  width=0.25, color="red"),
  jtools::theme_apa(),
  theme(legend.position="none"),
  geom_text(aes(label = paste("$", mean_dv %>% round(.,2)), y=5), position = position_dodge(.9), size=4, color="white"),
  theme(text=element_text(size=10))
)
  

limits <- aes(ymax = mean_dv , ymin = mean_dv)
dodge <- position_dodge(width = 0.9)



(
  result_by_age <-  gg_campaign_by_ad_by_text_age_gender %>%
        mutate(results_per_100usd = results/(amount_spent_usd/100)) %>%
     uncount(weights = .$reach) %>%
   group_by(age) %>%
  summarise(mean_dv = mean(results_per_100usd, na.rm=TRUE)) %>% 
  ggplot(aes(x=age, mean_dv)) +
  geom_bar(stat='identity',fill="#0072B2", position=dodge) +
  ylab('Results/$ spent') +
  xlab('Video') +
  ggtitle('Results/$ spent by Age') 
#+  scale_x_discrete(labels=vid_types)
)
```


::: {.cell-output-display}
![](gwwc_gg_files/figure-html/unnamed-chunk-45-1.png){width=672}
:::
:::



### Which pre-defined audience yields the highest 'rate of Result'? How does this vary by audience? {.unnumbered}

Note, this is not the same as the previous question because some audiences are more *costly* to target on Facebook.

-  Re-run above models for 'results per impression'

Important caveat: this does not tell us the effect 'on a particular group', because of FB's optimization algorithms; [see discussion here](https://effective-giving-marketing.gitbook.io/untitled/methodological-discussion/splits-randomization/facebook-split-testing-etc).

Interactions/separate models for 'vary by audience'.


### Which *video* yields a Result at the highest rate/lowest cost? {.unnumbered}



::: {.cell}

```{.r .cell-code}
#Plot options in common

#limits <- aes(ymax = mean_dv + (ci_spread), ymin = mean_dv - (ci_spread))
dodge <- position_dodge(width = 0.9)

vid_types <-
  c("factual short",
    "animal",
    "climate",
    "factual long",
    "branded",
    "poverty")



grpsumgg <- function(df, gvar, var, ci_ends) {
  df %>%
  group_by({{gvar}}) %>%
  summarise(mean_dv = mean({{var}}, na.rm=TRUE),
            se_dv = sd({{var}}, na.rm=TRUE)/sqrt(n()),
            ci_spread = qt(1 - (ci_ends / 2), n() - 1) * se_dv)
}
```
:::

::: {.cell}

```{.r .cell-code}
gg_video_breakdowns %>%
        mutate(results_per_100usd = results/(amount_spent_usd/100)) %>%
     uncount(weights = .$reach) %>%
   group_by(video_theme) %>%
  summarise(mean_dv = mean(results_per_100usd, na.rm=TRUE)) %>% 
  #grpsumgg(video_theme, results_per_100usd, 0.1) %>%
  ggplot(aes(x=video_theme, mean_dv)) +
  geom_bar(stat='identity',fill="#0072B2", position=dodge) +
  #gg_gg_options +
  ylab('Results/$ spent') +
  xlab('Video') +
  #ggtitle('Results/$ spent by Video, 90% CIs') +
  ggtitle('Results/$ spent by Video') +
  scale_x_discrete(labels=vid_types)
```

::: {.cell-output-display}
![](gwwc_gg_files/figure-html/gwwc_vid_results_plot-1.png){width=672}
:::

```{.r .cell-code}
# gwwc_vid_results %>%
#   grpsumgg(media, DV_costadj, 0.1) %>%
#   ggplot(aes(x=media, y=mean_dv)) +
#   geom_bar(stat='identity',fill="#0072B2", position=dodge) +
#   gg_gg_options +
#   ylab('Results/$ spent') +
#   xlab('Video') +
#   ggtitle('Results/$ spent by Video, 90% CIs') +
#   scale_y_continuous(limits = c(0,.2),  breaks=seq(0,.2, by=.05)) +
#   scale_x_discrete(labels=vid_types)
# 
```
:::



- Refer to models/estimates above, coefficient on 'video'


[^gwwc_gg-4]

[^gwwc_gg-4]: Check: is this the same as 'which yields the highest rate of results, or is there a cost difference?'


#### How does the 'best video' vary by audience? {.unnumbered}

- Include interactions in above model
- Run model separately for each group (or allowing everything to interact) for robustness
- Also consider 'what did FB serve to each group', assuming it is optimizing.

#### Aggregating: Which *category* of videos yields a result at the highest rate/lowest cost? ("Facts", "Cause focus", or "Arguments, rich content") {.unnumbered}

- Above, pooling videos of similar type. (Random effects models?)

### Which *message* yields a Result at the highest rate/lowest cost? {.unnumbered}

[^gwwc_gg-5]

[^gwwc_gg-5]: Check: is this the same as 'which yields the highest rate of results, or is there a cost difference?'

**Sub-questions**

#### How does the 'best message' vary by audience? {.unnumbered}

::: {.callout-note collapse="true"}
## Other questions (less interest or less feasible)

-   Do the message treatments 'interact' with the video treatments (i.e., are their synergies and better pairings)?

-   Do some videos lead to higher click rates?

-   Do some videos lead to higher watch rates?
:::

-->


<!-- -->

</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>See <a href="#which_videos">‘which videos’</a> below for a list and brief descrription of these audiences.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>As well as the third dimension of ‘different targeted audiences’.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>We see ‘no individuals over 45’ in the data for all experiments starting after mid-December<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>We use the latter going forward as it subsumes the former; the former is just kept as a check.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>However, for the Brand Video campaign these are further broken up; I am not sure how.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>In particular, it seems that for the <code>Giving Guide 2021 – PPCo Creatives</code> the <code>Emotional + Factual (Animated)</code> draws from a different set of ads for (e.g.) <code>Global Poverty + Lookalikes (18-39)</code> versus <code>Philanthropy + Lookalikes (18-39)</code>. I assume it draws from <em>all causes</em> for non-cause-linked audiences, but for the cause-linked audiences it draws only from the cause-of-interest, as well as the general ‘factual’ videos.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>Unfortunately, for these groups, we cannot extract the data on <em>which</em> cause-specific video they saw in combination with certain other categories, like ‘which text’ or demographics. This breaks up our analysis a bit.<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>This also may lead FB to particularly combine certain message presentations more with certain video presentations. However we cannot check this in our current setup: it is confounded with ‘audience profile’ (at least in the data we can observe).<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>We suspect Facebook’s algorithm uses some version of <a href="https://en.wikipedia.org/wiki/Thompson_sampling#:~:text=Thompson%20sampling%2C%20named%20after%20William,to%20a%20randomly%20drawn%20belief">Thompson sampling</a> to optimize along the explore/exploit frontier.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>But we essentially excluded the 13-17 age group, completely excluding it in later.<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>Todo: present or link at least something here about the likely dispersion/CI’s for these. We should have a sense of ‘how strong’ these differences are. A minor challenge: we run the models and simulations later, so this would make this Quarto less of a ‘transparent pipeline’.<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p>But recall we cannot distinguish which cause message they were shown for this slice of the data.<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13"><p>Here we could have included the cause audiences and it would have been somewhat comparable, but we leave them out for simplicity<a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14"><p>But on a results per impression, the lookalikes seem do substantially better, and the cause-led treatments do better among the Philanthropy audience.<a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15"><p>We can also use the data that includes information on the video all audiences saw here, because we don’t need to filter on message.<a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16"><p>Developers note: all of this description is hard-coded.<a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn17"><p>In some cases these had few observations, which we believe was because Facebook’s algorithm largely ‘gave up on these’ videos for this audience because of very poor performance.<a href="#fnref17" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn18"><p>this text is ‘hard-coded’ on 4 Aug 2022 … if data changes we need to change the text<a href="#fnref18" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn19"><p>Tech note: the video names in the previous sentence are soft-coded, i.e., inline code; see the previous chunk where we identify the <code>top_vid_phil</code> and <code>bot_vid_phil</code>.<a href="#fnref19" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn20"><p>TODO: tables summarizing these models themselvees<a href="#fnref20" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn21"><p>todo: doublecheck after final estimates<a href="#fnref21" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn22"><p>Todo: fix weighting<a href="#fnref22" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn23"><p>Hard-coded, may need recoding after fixes<a href="#fnref23" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn24"><p>Again hard-coding here…<a href="#fnref24" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn25"><p>Note that the audience-imbalance caveat still applies. We removed the ‘General Audience’ here, as this was only used for the final trial, and this seems particularly non-comparable.<a href="#fnref25" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">About</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/gwwc_fb.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Giving What We Can: Feb 22 Facebook Message Test</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb65" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="co">    freeze: auto # re-render only when source changes</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="co">    warning: false</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="co">    message: false</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a><span class="co">    error: true</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span><span class="co"> </span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a><span class="co">  markdown: </span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a><span class="co">    wrap: 72</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a><span class="fu"># Giving What We Can: Giving guides {#gwwc_gg}</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>This chapter aligns with, and supplements [the EA Forum post "Marketing</span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>messages trial for GWWC Giving Guide</span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>Campaign"](https://forum.effectivealtruism.org/posts/nhbeKbwMgFKfrzLNb/marketing-messages-trial-for-gwwc-giving-guide-campaign)</span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a><span class="fu">## Quick overview</span></span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a><span class="fu">### Context: Facebook ads on a range of audiences {-}</span></span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a>... <span class="sc">\[</span>with text and rich content promoting effective giving and a</span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a>"giving guide" -- links people to [a Giving What We Can</span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true" tabindex="-1"></a>page](https://www.givingwhatwecan.org/giving-guide) asking for their</span>
<span id="cb65-27"><a href="#cb65-27" aria-hidden="true" tabindex="-1"></a>email in exchange for the guide<span class="sc">\]</span></span>
<span id="cb65-28"><a href="#cb65-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-29"><a href="#cb65-29" aria-hidden="true" tabindex="-1"></a>**Objective**: Test distinct approaches to messaging, aiming to get</span>
<span id="cb65-30"><a href="#cb65-30" aria-hidden="true" tabindex="-1"></a>people to download our Giving Guide. (Previously called "emotional and</span>
<span id="cb65-31"><a href="#cb65-31" aria-hidden="true" tabindex="-1"></a>factual" approaches; basically these were "Charity research facts" vs.</span>
<span id="cb65-32"><a href="#cb65-32" aria-hidden="true" tabindex="-1"></a>"cause focus")</span>
<span id="cb65-33"><a href="#cb65-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-34"><a href="#cb65-34" aria-hidden="true" tabindex="-1"></a>**Process and further goals:** GWWC worked with a creative agency to develop a set of animated video ads wiht </span>
<span id="cb65-35"><a href="#cb65-35" aria-hidden="true" tabindex="-1"></a>differing texts. This work is also informative about costs and the 'value of targeting' in this</span>
<span id="cb65-36"><a href="#cb65-36" aria-hidden="true" tabindex="-1"></a>context. Note these ads had several 'versions' during the campaign (see 'Test 1 - Test</span>
<span id="cb65-37"><a href="#cb65-37" aria-hidden="true" tabindex="-1"></a>4').</span>
<span id="cb65-38"><a href="#cb65-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-39"><a href="#cb65-39" aria-hidden="true" tabindex="-1"></a>**Key findings:**</span>
<span id="cb65-40"><a href="#cb65-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-41"><a href="#cb65-41" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The cost of an email address acquired via a Facebook campaign during Giving</span>
<span id="cb65-42"><a href="#cb65-42" aria-hidden="true" tabindex="-1"></a>    Season was as low as \$8.00 across campaigns but could be lower with</span>
<span id="cb65-43"><a href="#cb65-43" aria-hidden="true" tabindex="-1"></a>    more targeting.</span>
<span id="cb65-44"><a href="#cb65-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-45"><a href="#cb65-45" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>"Only 3% of people give effectively," seems to be an effective</span>
<span id="cb65-46"><a href="#cb65-46" aria-hidden="true" tabindex="-1"></a>    message for generating link clicks and email addresses vs. the other</span>
<span id="cb65-47"><a href="#cb65-47" aria-hidden="true" tabindex="-1"></a>    messages.</span>
<span id="cb65-48"><a href="#cb65-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-49"><a href="#cb65-49" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Lookalike and animal rights audiences seem the most promising</span>
<span id="cb65-50"><a href="#cb65-50" aria-hidden="true" tabindex="-1"></a>    audiences.</span>
<span id="cb65-51"><a href="#cb65-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-52"><a href="#cb65-52" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Demographics are not very predictive on a per-\$ basis.</span>
<span id="cb65-53"><a href="#cb65-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-54"><a href="#cb65-54" aria-hidden="true" tabindex="-1"></a>**Key caveats**</span>
<span id="cb65-55"><a href="#cb65-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-56"><a href="#cb65-56" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Specificity and interpretation:** All comparisons are not for</span>
<span id="cb65-57"><a href="#cb65-57" aria-hidden="true" tabindex="-1"></a>    'audiences of similar composition' but for 'the best audience</span>
<span id="cb65-58"><a href="#cb65-58" aria-hidden="true" tabindex="-1"></a>    Facebook could find to show the ads, within each group, according to</span>
<span id="cb65-59"><a href="#cb65-59" aria-hidden="true" tabindex="-1"></a>    its algorithm'. Thus differences in performance may combine 'better</span>
<span id="cb65-60"><a href="#cb65-60" aria-hidden="true" tabindex="-1"></a>    targeting' with 'better performance on the targeted group'. See our</span>
<span id="cb65-61"><a href="#cb65-61" aria-hidden="true" tabindex="-1"></a>    [detailed discussion</span>
<span id="cb65-62"><a href="#cb65-62" aria-hidden="true" tabindex="-1"></a>    HERE](https://effective-giving-marketing.gitbook.io/untitled/methodological-discussion/splits-randomization/facebook-split-testing-etc).</span>
<span id="cb65-63"><a href="#cb65-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-64"><a href="#cb65-64" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>I.e., we can make statements about "what works better on</span>
<span id="cb65-65"><a href="#cb65-65" aria-hidden="true" tabindex="-1"></a>        Facebook in this context and maybe similar contexts"</span>
<span id="cb65-66"><a href="#cb65-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-67"><a href="#cb65-67" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>but not about "which audience, as defined, is more receptive"</span>
<span id="cb65-68"><a href="#cb65-68" aria-hidden="true" tabindex="-1"></a>        (as the targeting *within* each audience may differ in</span>
<span id="cb65-69"><a href="#cb65-69" aria-hidden="true" tabindex="-1"></a>        unobserved ways),</span>
<span id="cb65-70"><a href="#cb65-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-71"><a href="#cb65-71" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>nor about "which message works better on a particular comparable</span>
<span id="cb65-72"><a href="#cb65-72" aria-hidden="true" tabindex="-1"></a>        audience" (for the same reason)</span>
<span id="cb65-73"><a href="#cb65-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-74"><a href="#cb65-74" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Outcome** is 'click to download the giving guide'.</span>
<span id="cb65-75"><a href="#cb65-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-76"><a href="#cb65-76" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo=FALSE}</span></span>
<span id="cb65-77"><a href="#cb65-77" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup_gg</span></span>
<span id="cb65-78"><a href="#cb65-78" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "code: Setup and packages"</span></span>
<span id="cb65-79"><a href="#cb65-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-80"><a href="#cb65-80" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb65-81"><a href="#cb65-81" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">here</span>(<span class="st">"code"</span>, <span class="st">"shared_packages_code.R"</span>))</span>
<span id="cb65-82"><a href="#cb65-82" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr, janitor)</span>
<span id="cb65-83"><a href="#cb65-83" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb65-84"><a href="#cb65-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-85"><a href="#cb65-85" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'BiocManager'</span>)</span>
<span id="cb65-86"><a href="#cb65-86" aria-hidden="true" tabindex="-1"></a><span class="co">#remotes::install_github("stan-dev/cmdstanr@fix-install-win11")</span></span>
<span id="cb65-87"><a href="#cb65-87" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(cmdstanr)</span>
<span id="cb65-88"><a href="#cb65-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-89"><a href="#cb65-89" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("tidybayes")</span></span>
<span id="cb65-90"><a href="#cb65-90" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidybayes)</span>
<span id="cb65-91"><a href="#cb65-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-92"><a href="#cb65-92" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GDAtools, <span class="at">include.only =</span> <span class="st">'wtable'</span>, <span class="st">'dichotom'</span>)</span>
<span id="cb65-93"><a href="#cb65-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-94"><a href="#cb65-94" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-95"><a href="#cb65-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-96"><a href="#cb65-96" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb65-97"><a href="#cb65-97" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: import_raw_0</span></span>
<span id="cb65-98"><a href="#cb65-98" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Code: Import raw data for descriptions"</span></span>
<span id="cb65-99"><a href="#cb65-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-100"><a href="#cb65-100" aria-hidden="true" tabindex="-1"></a><span class="co">#importing for dynamic input of descriptions below</span></span>
<span id="cb65-101"><a href="#cb65-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-102"><a href="#cb65-102" aria-hidden="true" tabindex="-1"></a><span class="co">#Todo: get direct import working: See https://cran.r-project.org/web/packages/rfacebookstat/rfacebookstat.pdf</span></span>
<span id="cb65-103"><a href="#cb65-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-104"><a href="#cb65-104" aria-hidden="true" tabindex="-1"></a>raw_data_path <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"gwwc"</span>, <span class="st">"gg_raw_data_shareable"</span>)</span>
<span id="cb65-105"><a href="#cb65-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-106"><a href="#cb65-106" aria-hidden="true" tabindex="-1"></a>mini_clean <span class="ot">&lt;-</span> <span class="cf">function</span>(df){</span>
<span id="cb65-107"><a href="#cb65-107" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb65-108"><a href="#cb65-108" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb65-109"><a href="#cb65-109" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb65-110"><a href="#cb65-110" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">remove_empty</span>() <span class="sc">%&gt;%</span> <span class="co"># removes empty rows and columns, here `unique_link_clicks`</span></span>
<span id="cb65-111"><a href="#cb65-111" aria-hidden="true" tabindex="-1"></a>    janitor<span class="sc">::</span><span class="fu">remove_constant</span>()</span>
<span id="cb65-112"><a href="#cb65-112" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb65-113"><a href="#cb65-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-114"><a href="#cb65-114" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(raw_data_path, <span class="st">"gg_campaign_by_ad_by_text.csv"</span>), <span class="at">show_col_types=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-115"><a href="#cb65-115" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="st">"Campaign name...4"</span>) <span class="sc">%&gt;%</span> <span class="co">#duplicate columns?</span></span>
<span id="cb65-116"><a href="#cb65-116" aria-hidden="true" tabindex="-1"></a> mini_clean</span>
<span id="cb65-117"><a href="#cb65-117" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-118"><a href="#cb65-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-119"><a href="#cb65-119" aria-hidden="true" tabindex="-1"></a><span class="fu">## The trial</span></span>
<span id="cb65-120"><a href="#cb65-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-121"><a href="#cb65-121" aria-hidden="true" tabindex="-1"></a>**Context**: Facebook advertisements with a range of</span>
<span id="cb65-122"><a href="#cb65-122" aria-hidden="true" tabindex="-1"></a>audiences/filters<span class="ot">[^gwwc_gg-1]</span></span>
<span id="cb65-123"><a href="#cb65-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-124"><a href="#cb65-124" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-1]: </span>See <span class="co">[</span><span class="ot">'which videos'</span><span class="co">](#which_videos)</span> below for a list and</span>
<span id="cb65-125"><a href="#cb65-125" aria-hidden="true" tabindex="-1"></a>    brief descrription of these audiences.</span>
<span id="cb65-126"><a href="#cb65-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-127"><a href="#cb65-127" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **Effective Giving Guide Lead Generation campaign** ... ran late</span></span>
<span id="cb65-128"><a href="#cb65-128" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; November 2021 - January 2022. The objective of this campaign was to</span></span>
<span id="cb65-129"><a href="#cb65-129" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; see whether a factual </span><span class="sc">\[</span><span class="at">'who researches giving' or 'magnitude of</span></span>
<span id="cb65-130"><a href="#cb65-130" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; impact differences'</span><span class="sc">\]</span><span class="at"> or cause-led approach was more cost-effective at</span></span>
<span id="cb65-131"><a href="#cb65-131" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; getting people to fill out a form and give us their email in order to</span></span>
<span id="cb65-132"><a href="#cb65-132" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; download our Effective Giving Guide.</span></span>
<span id="cb65-133"><a href="#cb65-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-134"><a href="#cb65-134" aria-hidden="true" tabindex="-1"></a>The page they were directed to,</span>
<span id="cb65-135"><a href="#cb65-135" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- (DR: probably the one linked below ) --&gt;</span> "[Learn how to give more</span>
<span id="cb65-136"><a href="#cb65-136" aria-hidden="true" tabindex="-1"></a>effectively](https://www.givingwhatwecan.org/giving-guide)" allowed you</span>
<span id="cb65-137"><a href="#cb65-137" aria-hidden="true" tabindex="-1"></a>to download the guide only after leaving your email.</span>
<span id="cb65-138"><a href="#cb65-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-139"><a href="#cb65-139" aria-hidden="true" tabindex="-1"></a><span class="fu">### Treatments (text $\times$ video) {.unnumbered}</span></span>
<span id="cb65-140"><a href="#cb65-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-141"><a href="#cb65-141" aria-hidden="true" tabindex="-1"></a>*There were two dimensions of treatment content:*<span class="ot">[^gwwc_gg-2]</span></span>
<span id="cb65-142"><a href="#cb65-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-143"><a href="#cb65-143" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-2]: </span>As well as the third dimension of 'different targeted</span>
<span id="cb65-144"><a href="#cb65-144" aria-hidden="true" tabindex="-1"></a>    audiences'.</span>
<span id="cb65-145"><a href="#cb65-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-146"><a href="#cb65-146" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>**The texts displayed above the videos**</span>
<span id="cb65-147"><a href="#cb65-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-148"><a href="#cb65-148" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-149"><a href="#cb65-149" aria-hidden="true" tabindex="-1"></a><span class="fu">## Texts</span></span>
<span id="cb65-150"><a href="#cb65-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-151"><a href="#cb65-151" aria-hidden="true" tabindex="-1"></a>**Bigger difference next year:** Want to make a bigger difference next</span>
<span id="cb65-152"><a href="#cb65-152" aria-hidden="true" tabindex="-1"></a>year? Start with our Effective Giving Guide and learn how to make a</span>
<span id="cb65-153"><a href="#cb65-153" aria-hidden="true" tabindex="-1"></a>remarkable impact just by carefully choosing the charities you give to.</span>
<span id="cb65-154"><a href="#cb65-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-155"><a href="#cb65-155" aria-hidden="true" tabindex="-1"></a>**100x impact:** Did you know that the best charities can have a 100x</span>
<span id="cb65-156"><a href="#cb65-156" aria-hidden="true" tabindex="-1"></a>greater impact? Download our free Effective Giving Guide for the best</span>
<span id="cb65-157"><a href="#cb65-157" aria-hidden="true" tabindex="-1"></a>tips on doing the most good this holiday season.</span>
<span id="cb65-158"><a href="#cb65-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-159"><a href="#cb65-159" aria-hidden="true" tabindex="-1"></a>**6000 people:** Giving What We Can has helped 6,000+ people make a</span>
<span id="cb65-160"><a href="#cb65-160" aria-hidden="true" tabindex="-1"></a>bigger impact on the causes they care about most. Download our free</span>
<span id="cb65-161"><a href="#cb65-161" aria-hidden="true" tabindex="-1"></a>guide and learn how you can do the same.</span>
<span id="cb65-162"><a href="#cb65-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-163"><a href="#cb65-163" aria-hidden="true" tabindex="-1"></a>**Cause list**: Whether we're moved by animal welfare, the climate</span>
<span id="cb65-164"><a href="#cb65-164" aria-hidden="true" tabindex="-1"></a>crisis, or worldwide humanitarian efforts, our community is united by</span>
<span id="cb65-165"><a href="#cb65-165" aria-hidden="true" tabindex="-1"></a>one thing: making the biggest impact we can. Make a bigger difference in</span>
<span id="cb65-166"><a href="#cb65-166" aria-hidden="true" tabindex="-1"></a>the world through charitable giving. Start by downloading our Effective</span>
<span id="cb65-167"><a href="#cb65-167" aria-hidden="true" tabindex="-1"></a>Giving Guide. You'll learn how to approach charity research and smart</span>
<span id="cb65-168"><a href="#cb65-168" aria-hidden="true" tabindex="-1"></a>giving. And be sure to share it with others who care about making a</span>
<span id="cb65-169"><a href="#cb65-169" aria-hidden="true" tabindex="-1"></a>greater impact on the causes closest to their hearts.</span>
<span id="cb65-170"><a href="#cb65-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-171"><a href="#cb65-171" aria-hidden="true" tabindex="-1"></a>**Learn:** Use our free guide to learn how to make a bigger impact on</span>
<span id="cb65-172"><a href="#cb65-172" aria-hidden="true" tabindex="-1"></a>the causes you care about most.</span>
<span id="cb65-173"><a href="#cb65-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-174"><a href="#cb65-174" aria-hidden="true" tabindex="-1"></a>**Only 3% research:** Only 3% of donors give based on charity</span>
<span id="cb65-175"><a href="#cb65-175" aria-hidden="true" tabindex="-1"></a>effectiveness yet the best charities can be 100x more impactful. That's</span>
<span id="cb65-176"><a href="#cb65-176" aria-hidden="true" tabindex="-1"></a>incredible! Check out the Effective Giving Guide 2021. It'll help you</span>
<span id="cb65-177"><a href="#cb65-177" aria-hidden="true" tabindex="-1"></a>find the most impactful charities across a range of causes.</span>
<span id="cb65-178"><a href="#cb65-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-179"><a href="#cb65-179" aria-hidden="true" tabindex="-1"></a>**Overwhelming**: It can be overwhelming with so many problems in the</span>
<span id="cb65-180"><a href="#cb65-180" aria-hidden="true" tabindex="-1"></a>world. Fortunately, we can do *a lot* to help, if we give effectively.</span>
<span id="cb65-181"><a href="#cb65-181" aria-hidden="true" tabindex="-1"></a>Check out the Effective Giving Guide 2021. It'll help you find the most</span>
<span id="cb65-182"><a href="#cb65-182" aria-hidden="true" tabindex="-1"></a>impactful charities across a range of causes.</span>
<span id="cb65-183"><a href="#cb65-183" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-184"><a href="#cb65-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-185"><a href="#cb65-185" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-186"><a href="#cb65-186" aria-hidden="true" tabindex="-1"></a><span class="fu">## Full text: exported from data set</span></span>
<span id="cb65-187"><a href="#cb65-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-188"><a href="#cb65-188" aria-hidden="true" tabindex="-1"></a><span class="in">`r  unique(gg_campaign_by_ad_by_text$text)`</span></span>
<span id="cb65-189"><a href="#cb65-189" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-190"><a href="#cb65-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-191"><a href="#cb65-191" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>**The Video ads theme and content**</span>
<span id="cb65-192"><a href="#cb65-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-193"><a href="#cb65-193" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-194"><a href="#cb65-194" aria-hidden="true" tabindex="-1"></a><span class="fu">## "Facts"</span></span>
<span id="cb65-195"><a href="#cb65-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-196"><a href="#cb65-196" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>[Charity research facts short</span>
<span id="cb65-197"><a href="#cb65-197" aria-hidden="true" tabindex="-1"></a>    video](https://drive.google.com/file/d/1EPgrkl7MpgcNUWBRUE9YPMG38gYClu2R/view?usp=sharing)</span>
<span id="cb65-198"><a href="#cb65-198" aria-hidden="true" tabindex="-1"></a>    (8 seconds): Only 3% of donors research charity effectiveness, yet</span>
<span id="cb65-199"><a href="#cb65-199" aria-hidden="true" tabindex="-1"></a>    the best charities can 100x your impact, learn how to give</span>
<span id="cb65-200"><a href="#cb65-200" aria-hidden="true" tabindex="-1"></a>    effectively&nbsp;</span>
<span id="cb65-201"><a href="#cb65-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-202"><a href="#cb65-202" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>[Charity research facts long</span>
<span id="cb65-203"><a href="#cb65-203" aria-hidden="true" tabindex="-1"></a>    video](https://drive.google.com/file/d/1c58siggrMh2KN33bcj5f3afKgqY3RE5B/view?usp=sharing)</span>
<span id="cb65-204"><a href="#cb65-204" aria-hidden="true" tabindex="-1"></a>    (22 seconds): Trivial things we search (shows someone searching how</span>
<span id="cb65-205"><a href="#cb65-205" aria-hidden="true" tabindex="-1"></a>    to do Gangnam style), things we should research (shows someone</span>
<span id="cb65-206"><a href="#cb65-206" aria-hidden="true" tabindex="-1"></a>    searching how to donate effectively), only 3% of donors research</span>
<span id="cb65-207"><a href="#cb65-207" aria-hidden="true" tabindex="-1"></a>    charity effectiveness, yet the best charities can 100x your impact,</span>
<span id="cb65-208"><a href="#cb65-208" aria-hidden="true" tabindex="-1"></a>    learn how to give effectively. Slower paced music compared to the</span>
<span id="cb65-209"><a href="#cb65-209" aria-hidden="true" tabindex="-1"></a>    short video and cause videos. &nbsp;</span>
<span id="cb65-210"><a href="#cb65-210" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-211"><a href="#cb65-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-212"><a href="#cb65-212" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-213"><a href="#cb65-213" aria-hidden="true" tabindex="-1"></a><span class="fu">## "Cause focus"</span></span>
<span id="cb65-214"><a href="#cb65-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-215"><a href="#cb65-215" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>[Climate</span>
<span id="cb65-216"><a href="#cb65-216" aria-hidden="true" tabindex="-1"></a>    change](https://drive.google.com/file/d/1FtI8gA7V0Jj16Ha91jp6XeF2skNXOu7w/view?usp=sharing)</span>
<span id="cb65-217"><a href="#cb65-217" aria-hidden="true" tabindex="-1"></a>    (15 seconds): Care about climate change? You don't have to renounce</span>
<span id="cb65-218"><a href="#cb65-218" aria-hidden="true" tabindex="-1"></a>    all your possessions, But you could give to effective environmental</span>
<span id="cb65-219"><a href="#cb65-219" aria-hidden="true" tabindex="-1"></a>    charities, *Learn how to maximize your charitable impact, Download</span>
<span id="cb65-220"><a href="#cb65-220" aria-hidden="true" tabindex="-1"></a>    the Effective Giving Guide*&nbsp;</span>
<span id="cb65-221"><a href="#cb65-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-222"><a href="#cb65-222" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>[Animal</span>
<span id="cb65-223"><a href="#cb65-223" aria-hidden="true" tabindex="-1"></a>    welfare](https://drive.google.com/file/d/1qct5OPwrD3wJxZn7GEb9URTFMlkVN8ge/view?usp=sharing)</span>
<span id="cb65-224"><a href="#cb65-224" aria-hidden="true" tabindex="-1"></a>    (16 seconds): Care about animals? You don't have to adopt 100 cats,</span>
<span id="cb65-225"><a href="#cb65-225" aria-hidden="true" tabindex="-1"></a>    But you could give to effective animal charities, *Learn how to</span>
<span id="cb65-226"><a href="#cb65-226" aria-hidden="true" tabindex="-1"></a>    maximize your charitable impact, Download the Effective Giving</span>
<span id="cb65-227"><a href="#cb65-227" aria-hidden="true" tabindex="-1"></a>    Guide*&nbsp;</span>
<span id="cb65-228"><a href="#cb65-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-229"><a href="#cb65-229" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span><span class="co">[</span><span class="ot">Poverty</span><span class="co">](https://drive.google.com/file/d/1POx8U1Y8Ce8xpiaJU2f0s2X3a45t89zI/view?usp=sharing)</span></span>
<span id="cb65-230"><a href="#cb65-230" aria-hidden="true" tabindex="-1"></a>    (16 seconds): Want to help reduce global poverty? You don't have to</span>
<span id="cb65-231"><a href="#cb65-231" aria-hidden="true" tabindex="-1"></a>    build a village, But you could give to effective global development</span>
<span id="cb65-232"><a href="#cb65-232" aria-hidden="true" tabindex="-1"></a>    charities, *Learn how to maximize your charitable impact, Download</span>
<span id="cb65-233"><a href="#cb65-233" aria-hidden="true" tabindex="-1"></a>    the Effective Giving Guide*&nbsp;</span>
<span id="cb65-234"><a href="#cb65-234" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-235"><a href="#cb65-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-236"><a href="#cb65-236" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-237"><a href="#cb65-237" aria-hidden="true" tabindex="-1"></a><span class="fu">## Arguments, rich content from "Brand Video"</span></span>
<span id="cb65-238"><a href="#cb65-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-239"><a href="#cb65-239" aria-hidden="true" tabindex="-1"></a><span class="ss">6.  </span><span class="co">[</span><span class="ot">Brand Video</span><span class="co">](https://www.youtube.com/watch?v=CiFoHm7HD94)</span> (1 min 22</span>
<span id="cb65-240"><a href="#cb65-240" aria-hidden="true" tabindex="-1"></a>    seconds): Animated and voiceover video that explains how GWWC can</span>
<span id="cb65-241"><a href="#cb65-241" aria-hidden="true" tabindex="-1"></a>    help maximize charitable impact (support, community, and</span>
<span id="cb65-242"><a href="#cb65-242" aria-hidden="true" tabindex="-1"></a>    information) and the problems GWWC addresses (good intentions don't</span>
<span id="cb65-243"><a href="#cb65-243" aria-hidden="true" tabindex="-1"></a>    always produce the desired outcomes, there are millions of charities</span>
<span id="cb65-244"><a href="#cb65-244" aria-hidden="true" tabindex="-1"></a>    that have varying degrees of impact and some can even cause harm).</span>
<span id="cb65-245"><a href="#cb65-245" aria-hidden="true" tabindex="-1"></a>    CTA: *Check out givingwhatwecan.org to learn how you can become an</span>
<span id="cb65-246"><a href="#cb65-246" aria-hidden="true" tabindex="-1"></a>    effective giver.*</span>
<span id="cb65-247"><a href="#cb65-247" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-248"><a href="#cb65-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-249"><a href="#cb65-249" aria-hidden="true" tabindex="-1"></a><span class="fu">### Further detail, links {.unnumbered}</span></span>
<span id="cb65-250"><a href="#cb65-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-251"><a href="#cb65-251" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-252"><a href="#cb65-252" aria-hidden="true" tabindex="-1"></a><span class="fu">## Notes from the trial description</span></span>
<span id="cb65-253"><a href="#cb65-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-254"><a href="#cb65-254" aria-hidden="true" tabindex="-1"></a>"In the original version of our test, we had 1 video for the factual</span>
<span id="cb65-255"><a href="#cb65-255" aria-hidden="true" tabindex="-1"></a>appeal and 3 videos for the cause led approach - 1 for global health and</span>
<span id="cb65-256"><a href="#cb65-256" aria-hidden="true" tabindex="-1"></a>development, 1 for animal welfare and 1 for climate change."</span>
<span id="cb65-257"><a href="#cb65-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-258"><a href="#cb65-258" aria-hidden="true" tabindex="-1"></a>"We targeted our ads to audiences we thought were likely to engage based</span>
<span id="cb65-259"><a href="#cb65-259" aria-hidden="true" tabindex="-1"></a>on their interests and demographics, and targeted the cause led videos</span>
<span id="cb65-260"><a href="#cb65-260" aria-hidden="true" tabindex="-1"></a>to a relevant audience, i.e. climate change message to climate change</span>
<span id="cb65-261"><a href="#cb65-261" aria-hidden="true" tabindex="-1"></a>audience."</span>
<span id="cb65-262"><a href="#cb65-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-263"><a href="#cb65-263" aria-hidden="true" tabindex="-1"></a>"We also had various text above the videos that were displayed and</span>
<span id="cb65-264"><a href="#cb65-264" aria-hidden="true" tabindex="-1"></a>optimized."</span>
<span id="cb65-265"><a href="#cb65-265" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-266"><a href="#cb65-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-267"><a href="#cb65-267" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, include=FALSE}</span></span>
<span id="cb65-268"><a href="#cb65-268" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb65-269"><a href="#cb65-269" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">here</span>(<span class="st">"code"</span>, <span class="st">"shared_packages_code.R"</span>))</span>
<span id="cb65-270"><a href="#cb65-270" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-271"><a href="#cb65-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-272"><a href="#cb65-272" aria-hidden="true" tabindex="-1"></a>Details in Gitbook [HERE (and embedded</span>
<span id="cb65-273"><a href="#cb65-273" aria-hidden="true" tabindex="-1"></a>below)](https://effective-giving-marketing.gitbook.io/untitled/partner-organizations-and-trials/gwwc/giving-guides-+)</span>
<span id="cb65-274"><a href="#cb65-274" aria-hidden="true" tabindex="-1"></a>and Gdoc</span>
<span id="cb65-275"><a href="#cb65-275" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">here</span><span class="co">](https://docs.google.com/document/d/1FfrXhD1YAIjrATy9PR6ScP20NMQa82sd80YvMb62iUQ/edit)</span></span>
<span id="cb65-276"><a href="#cb65-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-277"><a href="#cb65-277" aria-hidden="true" tabindex="-1"></a><span class="in">```{r wppage, out.width="85%"}</span></span>
<span id="cb65-278"><a href="#cb65-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-279"><a href="#cb65-279" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_url</span>(<span class="st">"https://effective-giving-marketing.gitbook.io/untitled/partner-organizations-and-trials/gwwc/giving-guides-+"</span>)</span>
<span id="cb65-280"><a href="#cb65-280" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-281"><a href="#cb65-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-282"><a href="#cb65-282" aria-hidden="true" tabindex="-1"></a><span class="fu">### Implementation &amp; assignment: key details {.unnumbered}</span></span>
<span id="cb65-283"><a href="#cb65-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-284"><a href="#cb65-284" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-285"><a href="#cb65-285" aria-hidden="true" tabindex="-1"></a><span class="fu">## Treatment assignment order, dates</span></span>
<span id="cb65-286"><a href="#cb65-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-287"><a href="#cb65-287" aria-hidden="true" tabindex="-1"></a>The treatment assignment was determined by Facebook's algorithm. Video</span>
<span id="cb65-288"><a href="#cb65-288" aria-hidden="true" tabindex="-1"></a>content was manipulated across three split tests.</span>
<span id="cb65-289"><a href="#cb65-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-290"><a href="#cb65-290" aria-hidden="true" tabindex="-1"></a>Test 1 (Nov 30, 2021 -- Dec 8, 2021, campaigns: "Cause-Led" and</span>
<span id="cb65-291"><a href="#cb65-291" aria-hidden="true" tabindex="-1"></a>"Factual") displayed either the long factual video or a cause focus</span>
<span id="cb65-292"><a href="#cb65-292" aria-hidden="true" tabindex="-1"></a>video. In the cause focus condition, cause-specific audiences for animal</span>
<span id="cb65-293"><a href="#cb65-293" aria-hidden="true" tabindex="-1"></a>rights, climate change, and poverty (based on their behavior on</span>
<span id="cb65-294"><a href="#cb65-294" aria-hidden="true" tabindex="-1"></a>Facebook) were shown the relevant cause video.</span>
<span id="cb65-295"><a href="#cb65-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-296"><a href="#cb65-296" aria-hidden="true" tabindex="-1"></a>Test 2 (Starting December 8, campaign "Factual V2"?) was the same as</span>
<span id="cb65-297"><a href="#cb65-297" aria-hidden="true" tabindex="-1"></a>Test 1 but used the short factual video instead of the cause-focus</span>
<span id="cb65-298"><a href="#cb65-298" aria-hidden="true" tabindex="-1"></a>videos.</span>
<span id="cb65-299"><a href="#cb65-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-300"><a href="#cb65-300" aria-hidden="true" tabindex="-1"></a>Test 3 (Starting December 23, campaign "Cause-led V3" and "Factual V3"</span>
<span id="cb65-301"><a href="#cb65-301" aria-hidden="true" tabindex="-1"></a>(?)): was the same as Test 2 but had a new version of the videos (with</span>
<span id="cb65-302"><a href="#cb65-302" aria-hidden="true" tabindex="-1"></a>Luke just holding up signs with the words). This test was also</span>
<span id="cb65-303"><a href="#cb65-303" aria-hidden="true" tabindex="-1"></a>restricted to 18-35 (or 18-44) year olds.<span class="ot">[^gwwc_gg-3]</span></span>
<span id="cb65-304"><a href="#cb65-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-305"><a href="#cb65-305" aria-hidden="true" tabindex="-1"></a>Test 4: (Starting December 23, "Brand Video" and "PPCo") The Brand Video</span>
<span id="cb65-306"><a href="#cb65-306" aria-hidden="true" tabindex="-1"></a>was displayed in a separate campaign which was tested against another</span>
<span id="cb65-307"><a href="#cb65-307" aria-hidden="true" tabindex="-1"></a>campaign that allowed the algorithm to optimize between the 'short</span>
<span id="cb65-308"><a href="#cb65-308" aria-hidden="true" tabindex="-1"></a>factual' and 'cause focus' videos (although not allowing each</span>
<span id="cb65-309"><a href="#cb65-309" aria-hidden="true" tabindex="-1"></a>cause-specific audience to see the ads for other cause areas).</span>
<span id="cb65-310"><a href="#cb65-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-311"><a href="#cb65-311" aria-hidden="true" tabindex="-1"></a>In all tests, the text content displayed above the video was determined</span>
<span id="cb65-312"><a href="#cb65-312" aria-hidden="true" tabindex="-1"></a>by Facebook's algorithm. Balance across variations was determined to</span>
<span id="cb65-313"><a href="#cb65-313" aria-hidden="true" tabindex="-1"></a>equate budgets across split tests; otherwise, according to Facebook's</span>
<span id="cb65-314"><a href="#cb65-314" aria-hidden="true" tabindex="-1"></a>algorithm. All variation was done at the level of the impression.</span>
<span id="cb65-315"><a href="#cb65-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-316"><a href="#cb65-316" aria-hidden="true" tabindex="-1"></a>The videos were adapted across the trials as we learned. First, we</span>
<span id="cb65-317"><a href="#cb65-317" aria-hidden="true" tabindex="-1"></a>updated the factual video to be shorter for Trial 2, and then we tried</span>
<span id="cb65-318"><a href="#cb65-318" aria-hidden="true" tabindex="-1"></a>videos of Luke holding up signs spelling out the voiceover in Trial 3</span>
<span id="cb65-319"><a href="#cb65-319" aria-hidden="true" tabindex="-1"></a>for all videos.</span>
<span id="cb65-320"><a href="#cb65-320" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-321"><a href="#cb65-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-322"><a href="#cb65-322" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-3]: </span>We see 'no individuals over 45' in the data for all</span>
<span id="cb65-323"><a href="#cb65-323" aria-hidden="true" tabindex="-1"></a>    experiments starting after mid-December</span>
<span id="cb65-324"><a href="#cb65-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-325"><a href="#cb65-325" aria-hidden="true" tabindex="-1"></a><span class="fu">## Build: Source data, cleaning</span></span>
<span id="cb65-326"><a href="#cb65-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-327"><a href="#cb65-327" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-328"><a href="#cb65-328" aria-hidden="true" tabindex="-1"></a><span class="fu">## Accessing, downloading, inputting data</span></span>
<span id="cb65-329"><a href="#cb65-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-330"><a href="#cb65-330" aria-hidden="true" tabindex="-1"></a>See:</span>
<span id="cb65-331"><a href="#cb65-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-332"><a href="#cb65-332" aria-hidden="true" tabindex="-1"></a>https://effective-giving-marketing.gitbook.io/untitled/marketing-and-testing-opportunities-tools-tips/collecting-data-trial-outcomes/facebook-meta-ads-interface</span>
<span id="cb65-333"><a href="#cb65-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-334"><a href="#cb65-334" aria-hidden="true" tabindex="-1"></a>[Accessing and bringing down simple results</span>
<span id="cb65-335"><a href="#cb65-335" aria-hidden="true" tabindex="-1"></a>HERE](https://effective-giving-marketing.gitbook.io/untitled/marketing-and-testing-opportunities-tools-tips/collecting-data-trial-outcomes/facebook-meta-ads-interface)</span>
<span id="cb65-336"><a href="#cb65-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-337"><a href="#cb65-337" aria-hidden="true" tabindex="-1"></a>We import the exported 'pivot table' <span class="in">`gg_campaign_by_ad_by_text`</span> below,</span>
<span id="cb65-338"><a href="#cb65-338" aria-hidden="true" tabindex="-1"></a>as well as the more detailed version, broken down by age range and</span>
<span id="cb65-339"><a href="#cb65-339" aria-hidden="true" tabindex="-1"></a>gender: <span class="in">`gg-campaign-by-ad-set-text-age-gender.csv`</span>.<span class="ot">[^gwwc_gg-4]</span></span>
<span id="cb65-340"><a href="#cb65-340" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-341"><a href="#cb65-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-342"><a href="#cb65-342" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-4]: </span>We use the latter going forward as it subsumes the former;</span>
<span id="cb65-343"><a href="#cb65-343" aria-hidden="true" tabindex="-1"></a>    the former is just kept as a check.</span>
<span id="cb65-344"><a href="#cb65-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-345"><a href="#cb65-345" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- [Most relevant breakdowns as pivot tables](https://app.gitbook.com/o/-MfFk4CTSGwVOPkwnRgx/s/-Mf8cHxdwePMZXRTKnEE/core-knowledge-base/marketing-implementation-and-practical-tips/collecting-data-trial-outcomes/facebook-meta-ads-interface/...-pivot-tables) --&gt;</span></span>
<span id="cb65-346"><a href="#cb65-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-347"><a href="#cb65-347" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-348"><a href="#cb65-348" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data structure</span></span>
<span id="cb65-349"><a href="#cb65-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-350"><a href="#cb65-350" aria-hidden="true" tabindex="-1"></a>The data frame <span class="in">`gg_campaign_by_ad_by_text_age_gender`</span> has one row per</span>
<span id="cb65-351"><a href="#cb65-351" aria-hidden="true" tabindex="-1"></a>combination of 'campaign, ad, text, age group, gender'.</span>
<span id="cb65-352"><a href="#cb65-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-353"><a href="#cb65-353" aria-hidden="true" tabindex="-1"></a>Each row represents a combination of the below (with different numbers</span>
<span id="cb65-354"><a href="#cb65-354" aria-hidden="true" tabindex="-1"></a>of 'reach' for each row)<span class="ot">[^gwwc_gg-5]</span></span>
<span id="cb65-355"><a href="#cb65-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-356"><a href="#cb65-356" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`campaign_name`</span>: When and and with what funds the ad was launched, I</span>
<span id="cb65-357"><a href="#cb65-357" aria-hidden="true" tabindex="-1"></a>    think (?)</span>
<span id="cb65-358"><a href="#cb65-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-359"><a href="#cb65-359" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`ad_set`</span>: An ad set can specifically tie an <span class="in">`ad_name`</span> to an audience</span>
<span id="cb65-360"><a href="#cb65-360" aria-hidden="true" tabindex="-1"></a>    (I think)</span>
<span id="cb65-361"><a href="#cb65-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-362"><a href="#cb65-362" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`ad_name`</span>: Which video/media (or collection of optimized</span>
<span id="cb65-363"><a href="#cb65-363" aria-hidden="true" tabindex="-1"></a>    videos/media) was shown; note this is paired with 'which audience'</span>
<span id="cb65-364"><a href="#cb65-364" aria-hidden="true" tabindex="-1"></a>    in it's label, as there were specific 'global poverty', 'animal</span>
<span id="cb65-365"><a href="#cb65-365" aria-hidden="true" tabindex="-1"></a>    welfare', 'climate change', 'philanthropy' and 'retargeting'</span>
<span id="cb65-366"><a href="#cb65-366" aria-hidden="true" tabindex="-1"></a>    audiences</span>
<span id="cb65-367"><a href="#cb65-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-368"><a href="#cb65-368" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Caveat: The <span class="in">`ad_name`</span> seems to select from a different set of</span>
<span id="cb65-369"><a href="#cb65-369" aria-hidden="true" tabindex="-1"></a>        media for optimization depending on which <span class="in">`ad_set`</span> it is</span>
<span id="cb65-370"><a href="#cb65-370" aria-hidden="true" tabindex="-1"></a>        in.<span class="ot">[^gwwc_gg-6]</span></span>
<span id="cb65-371"><a href="#cb65-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-372"><a href="#cb65-372" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`text`</span>: Which text was shown along with the video</span>
<span id="cb65-373"><a href="#cb65-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-374"><a href="#cb65-374" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`age`</span> (a range of ages)</span>
<span id="cb65-375"><a href="#cb65-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-376"><a href="#cb65-376" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`gender`</span> (female, male, unknown)</span>
<span id="cb65-377"><a href="#cb65-377" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-378"><a href="#cb65-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-379"><a href="#cb65-379" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-5]: </span>However, for the Brand Video campaign these are further</span>
<span id="cb65-380"><a href="#cb65-380" aria-hidden="true" tabindex="-1"></a>    broken up; I am not sure how.</span>
<span id="cb65-381"><a href="#cb65-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-382"><a href="#cb65-382" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-6]: </span>In particular, it seems that for the</span>
<span id="cb65-383"><a href="#cb65-383" aria-hidden="true" tabindex="-1"></a>    <span class="in">`Giving Guide 2021 – PPCo Creatives`</span> the</span>
<span id="cb65-384"><a href="#cb65-384" aria-hidden="true" tabindex="-1"></a>    <span class="in">`Emotional + Factual (Animated)`</span> draws from a different set of ads</span>
<span id="cb65-385"><a href="#cb65-385" aria-hidden="true" tabindex="-1"></a>    for (e.g.) <span class="in">`Global Poverty + Lookalikes (18-39)`</span> versus</span>
<span id="cb65-386"><a href="#cb65-386" aria-hidden="true" tabindex="-1"></a>    <span class="in">`Philanthropy + Lookalikes (18-39)`</span>. I assume it draws from *all</span>
<span id="cb65-387"><a href="#cb65-387" aria-hidden="true" tabindex="-1"></a>    causes* for non-cause-linked audiences, but for the cause-linked</span>
<span id="cb65-388"><a href="#cb65-388" aria-hidden="true" tabindex="-1"></a>    audiences it draws only from the cause-of-interest, as well as the</span>
<span id="cb65-389"><a href="#cb65-389" aria-hidden="true" tabindex="-1"></a>    general 'factual' videos.</span>
<span id="cb65-390"><a href="#cb65-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-393"><a href="#cb65-393" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-394"><a href="#cb65-394" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: import_real_raw_data</span></span>
<span id="cb65-395"><a href="#cb65-395" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Import raw data"</span></span>
<span id="cb65-396"><a href="#cb65-396" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb65-397"><a href="#cb65-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-398"><a href="#cb65-398" aria-hidden="true" tabindex="-1"></a>raw_data_path <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"gwwc"</span>, <span class="st">"gg_raw_data_shareable"</span>)</span>
<span id="cb65-399"><a href="#cb65-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-400"><a href="#cb65-400" aria-hidden="true" tabindex="-1"></a><span class="co">#already input above: gg_campaign_by_ad_by_text</span></span>
<span id="cb65-401"><a href="#cb65-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-402"><a href="#cb65-402" aria-hidden="true" tabindex="-1"></a><span class="co">#Version allowing demographic breakdown:</span></span>
<span id="cb65-403"><a href="#cb65-403" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(raw_data_path, <span class="st">"gg-campaign-by-ad-set-text-age-gender.csv"</span>), <span class="at">show_col_types=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-404"><a href="#cb65-404" aria-hidden="true" tabindex="-1"></a>  <span class="co">#dplyr::select(-"Campaign name...4") %&gt;% #duplicate columns?</span></span>
<span id="cb65-405"><a href="#cb65-405" aria-hidden="true" tabindex="-1"></a> <span class="fu">mini_clean</span>()</span>
<span id="cb65-406"><a href="#cb65-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-407"><a href="#cb65-407" aria-hidden="true" tabindex="-1"></a><span class="co">#Version with information on cause videos shown (even to those in 'general' groups):</span></span>
<span id="cb65-408"><a href="#cb65-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-409"><a href="#cb65-409" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(raw_data_path, <span class="st">"gg-image-video-breakdowns.csv"</span>), <span class="at">show_col_types=</span><span class="cn">FALSE</span>)</span>
<span id="cb65-410"><a href="#cb65-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-411"><a href="#cb65-411" aria-hidden="true" tabindex="-1"></a><span class="co">#capture and remove columns that are the same everywhere</span></span>
<span id="cb65-412"><a href="#cb65-412" aria-hidden="true" tabindex="-1"></a>attribution_setting_c <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>attribution_setting <span class="sc">%&gt;%</span> .[<span class="dv">1</span>]</span>
<span id="cb65-413"><a href="#cb65-413" aria-hidden="true" tabindex="-1"></a>reporting_starts_c <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>reporting_starts <span class="sc">%&gt;%</span> .[<span class="dv">1</span>]</span>
<span id="cb65-414"><a href="#cb65-414" aria-hidden="true" tabindex="-1"></a>reporting_ends_c <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender<span class="sc">$</span>reporting_ends <span class="sc">%&gt;%</span> .[<span class="dv">1</span>]</span>
<span id="cb65-415"><a href="#cb65-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-416"><a href="#cb65-416" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender  <span class="sc">%&lt;&gt;%</span> <span class="fu">mini_clean</span>()</span>
<span id="cb65-417"><a href="#cb65-417" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns  <span class="sc">%&lt;&gt;%</span> <span class="fu">mini_clean</span>()</span>
<span id="cb65-418"><a href="#cb65-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-419"><a href="#cb65-419" aria-hidden="true" tabindex="-1"></a><span class="co">#functions to clean these specific data sets 'gg_campaign_by_ad_by_text_age_gender' and 'gg_campaign_by_ad_by_text':</span></span>
<span id="cb65-420"><a href="#cb65-420" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="fu">here</span>(<span class="st">"gwwc"</span>, <span class="st">"giving_guides"</span>, <span class="st">"clean_gg_raw_data.R"</span>))</span>
<span id="cb65-421"><a href="#cb65-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-422"><a href="#cb65-422" aria-hidden="true" tabindex="-1"></a><span class="co">#Many cleaning steps: audience, video_theme, campaign_theme, agetrin; releveling</span></span>
<span id="cb65-423"><a href="#cb65-423" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_ad_by_text_age_gender <span class="sc">%&lt;&gt;%</span></span>
<span id="cb65-424"><a href="#cb65-424" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_gg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb65-425"><a href="#cb65-425" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_make_cols</span>() <span class="sc">%&gt;%</span></span>
<span id="cb65-426"><a href="#cb65-426" aria-hidden="true" tabindex="-1"></a>  <span class="fu">text_clean</span>() <span class="sc">%&gt;%</span>  <span class="co"># Shorter 'text treatment' column</span></span>
<span id="cb65-427"><a href="#cb65-427" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, <span class="fu">everything</span>(), <span class="sc">-</span>campaign_name_1, <span class="sc">-</span>campaign_name_7) <span class="co">#campaign_name_7 was the same as campaign_name_1</span></span>
<span id="cb65-428"><a href="#cb65-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-429"><a href="#cb65-429" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="sc">%&lt;&gt;%</span></span>
<span id="cb65-430"><a href="#cb65-430" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_gg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb65-431"><a href="#cb65-431" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_make_cols</span>()</span>
<span id="cb65-432"><a href="#cb65-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-433"><a href="#cb65-433" aria-hidden="true" tabindex="-1"></a><span class="co">#gg_campaign_by_ad_by_text_age_gender %&gt;% collapse::descr()</span></span>
<span id="cb65-434"><a href="#cb65-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-435"><a href="#cb65-435" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-436"><a href="#cb65-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-437"><a href="#cb65-437" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb65-438"><a href="#cb65-438" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: video_general_encoding</span></span>
<span id="cb65-439"><a href="#cb65-439" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Encode video types"</span></span>
<span id="cb65-440"><a href="#cb65-440" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb65-441"><a href="#cb65-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-442"><a href="#cb65-442" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns <span class="sc">%&lt;&gt;%</span></span>
<span id="cb65-443"><a href="#cb65-443" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb65-444"><a href="#cb65-444" aria-hidden="true" tabindex="-1"></a>    <span class="at">video_theme =</span> <span class="fu">case_when</span>(</span>
<span id="cb65-445"><a href="#cb65-445" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"set_1|Animals"</span>) <span class="sc">~</span> <span class="st">"Animal"</span>,</span>
<span id="cb65-446"><a href="#cb65-446" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"set_2|Climate"</span>) <span class="sc">~</span> <span class="st">"Climate"</span>,</span>
<span id="cb65-447"><a href="#cb65-447" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"set_3|Poverty"</span>) <span class="sc">~</span> <span class="st">"Poverty"</span>,</span>
<span id="cb65-448"><a href="#cb65-448" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"Free Effective"</span>) <span class="sc">&amp;</span> video_theme<span class="sc">==</span><span class="st">"Cause-led (any)"</span> <span class="sc">~</span> <span class="st">"Poverty"</span>,</span>
<span id="cb65-449"><a href="#cb65-449" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_det</span>(image_video_and_slideshow, <span class="st">"factual_short|Factual Short"</span>) <span class="sc">~</span> <span class="st">"Factual short"</span>,</span>
<span id="cb65-450"><a href="#cb65-450" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span>   video_theme</span>
<span id="cb65-451"><a href="#cb65-451" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb65-452"><a href="#cb65-452" aria-hidden="true" tabindex="-1"></a>    <span class="at">video_theme =</span>  <span class="fu">factor</span>(video_theme),</span>
<span id="cb65-453"><a href="#cb65-453" aria-hidden="true" tabindex="-1"></a>    <span class="at">video_theme =</span> <span class="fu">fct_relevel</span>(video_theme, <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Poverty"</span>, <span class="st">"Factual short"</span>, <span class="st">"Factual long"</span>, <span class="st">"Branded (factual)"</span>))</span>
<span id="cb65-454"><a href="#cb65-454" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb65-455"><a href="#cb65-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-456"><a href="#cb65-456" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-457"><a href="#cb65-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-460"><a href="#cb65-460" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-461"><a href="#cb65-461" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: export</span></span>
<span id="cb65-462"><a href="#cb65-462" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Export/save data"</span></span>
<span id="cb65-463"><a href="#cb65-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-464"><a href="#cb65-464" aria-hidden="true" tabindex="-1"></a>cleaned_data_path <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"gwwc"</span>, <span class="st">"gg_processed_data"</span>)</span>
<span id="cb65-465"><a href="#cb65-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-466"><a href="#cb65-466" aria-hidden="true" tabindex="-1"></a><span class="co">#export 'cleaned' data for others to play with immediately</span></span>
<span id="cb65-467"><a href="#cb65-467" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(gg_video_breakdowns, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_video_breakdowns.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb65-468"><a href="#cb65-468" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(gg_campaign_by_ad_by_text_age_gender, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_campaign_by_ad_by_text_age_gender.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb65-469"><a href="#cb65-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-470"><a href="#cb65-470" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(gg_video_breakdowns, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_video_breakdowns.Rdata"</span>))</span>
<span id="cb65-471"><a href="#cb65-471" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(gg_campaign_by_ad_by_text_age_gender, <span class="fu">here</span>(cleaned_data_path, <span class="st">"gg_campaign_by_ad_by_text_age_gender.Rdata"</span>))</span>
<span id="cb65-472"><a href="#cb65-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-473"><a href="#cb65-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-474"><a href="#cb65-474" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-475"><a href="#cb65-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-476"><a href="#cb65-476" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-477"><a href="#cb65-477" aria-hidden="true" tabindex="-1"></a><span class="fu">## This data is being publicly shared; above, 'export' above</span></span>
<span id="cb65-478"><a href="#cb65-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-479"><a href="#cb65-479" aria-hidden="true" tabindex="-1"></a>This data is clearly not identifying individuals; it involves aggregates</span>
<span id="cb65-480"><a href="#cb65-480" aria-hidden="true" tabindex="-1"></a>based on real or assumed characteristics ... there is likely nothing</span>
<span id="cb65-481"><a href="#cb65-481" aria-hidden="true" tabindex="-1"></a>that needs to be hidden here. We are sharing and integrating all the</span>
<span id="cb65-482"><a href="#cb65-482" aria-hidden="true" tabindex="-1"></a>data in this repo, for a complete pipeline.</span>
<span id="cb65-483"><a href="#cb65-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-484"><a href="#cb65-484" aria-hidden="true" tabindex="-1"></a>In the code above, we create several 'cleaned data' files for others to</span>
<span id="cb65-485"><a href="#cb65-485" aria-hidden="true" tabindex="-1"></a>access in the [linked Github</span>
<span id="cb65-486"><a href="#cb65-486" aria-hidden="true" tabindex="-1"></a>repo](https://github.com/daaronr/eamt_data_analysis) (under <span class="in">`gwwc`</span>.)</span>
<span id="cb65-487"><a href="#cb65-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-488"><a href="#cb65-488" aria-hidden="true" tabindex="-1"></a>You can access the original data referred to above, and/or fork or clone</span>
<span id="cb65-489"><a href="#cb65-489" aria-hidden="true" tabindex="-1"></a>our public Github repository and run the present code if you like.</span>
<span id="cb65-490"><a href="#cb65-490" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-491"><a href="#cb65-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-492"><a href="#cb65-492" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-493"><a href="#cb65-493" aria-hidden="true" tabindex="-1"></a><span class="fu">## Previous version of data used ... (moved)</span></span>
<span id="cb65-494"><a href="#cb65-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-495"><a href="#cb65-495" aria-hidden="true" tabindex="-1"></a>We previously used data collapsed (breakdowns) by demography and ad set,</span>
<span id="cb65-496"><a href="#cb65-496" aria-hidden="true" tabindex="-1"></a>into 2 files, which duplicated rows to represent the number of people</span>
<span id="cb65-497"><a href="#cb65-497" aria-hidden="true" tabindex="-1"></a>reached: <span class="in">`video breakdown`</span>, and <span class="in">`text breakdown.csv`</span>. We now use the</span>
<span id="cb65-498"><a href="#cb65-498" aria-hidden="true" tabindex="-1"></a>more 'raw' minimal version of the data, avoiding duplicating rows where</span>
<span id="cb65-499"><a href="#cb65-499" aria-hidden="true" tabindex="-1"></a>possible.</span>
<span id="cb65-500"><a href="#cb65-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-501"><a href="#cb65-501" aria-hidden="true" tabindex="-1"></a>Below, we also input some of the 'old version' of the data, with the</span>
<span id="cb65-502"><a href="#cb65-502" aria-hidden="true" tabindex="-1"></a>duplicated rows, to accommodate the old-format of analysis ... this will</span>
<span id="cb65-503"><a href="#cb65-503" aria-hidden="true" tabindex="-1"></a>be removed when we switch over. The code above inputs and builds 2-4</span>
<span id="cb65-504"><a href="#cb65-504" aria-hidden="true" tabindex="-1"></a>related data frames (tibbles), which were constructed from the collapsed</span>
<span id="cb65-505"><a href="#cb65-505" aria-hidden="true" tabindex="-1"></a>(aggregated) data by multiplying rows according to observation counts. I</span>
<span id="cb65-506"><a href="#cb65-506" aria-hidden="true" tabindex="-1"></a>am not sure where this was done. Once we update the rest we will get rid</span>
<span id="cb65-507"><a href="#cb65-507" aria-hidden="true" tabindex="-1"></a>of this. ...</span>
<span id="cb65-508"><a href="#cb65-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-509"><a href="#cb65-509" aria-hidden="true" tabindex="-1"></a>e.g.,</span>
<span id="cb65-510"><a href="#cb65-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-511"><a href="#cb65-511" aria-hidden="true" tabindex="-1"></a><span class="in">`gwwc_vid_results`</span>: Observations of emails provided... by video content</span>
<span id="cb65-512"><a href="#cb65-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-513"><a href="#cb65-513" aria-hidden="true" tabindex="-1"></a>This content/input has been moved to</span>
<span id="cb65-514"><a href="#cb65-514" aria-hidden="true" tabindex="-1"></a><span class="in">`eamt_data_analysis/gwwc/giving_guides/archive_erin/erin_plots_stats_gg.qmd`</span>,</span>
<span id="cb65-515"><a href="#cb65-515" aria-hidden="true" tabindex="-1"></a>at least for now</span>
<span id="cb65-516"><a href="#cb65-516" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-517"><a href="#cb65-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-518"><a href="#cb65-518" aria-hidden="true" tabindex="-1"></a><span class="fu">## Descriptives</span></span>
<span id="cb65-519"><a href="#cb65-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-520"><a href="#cb65-520" aria-hidden="true" tabindex="-1"></a><span class="fu">### Implemented treatments, 'reach' {-reach}</span></span>
<span id="cb65-521"><a href="#cb65-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-522"><a href="#cb65-522" aria-hidden="true" tabindex="-1"></a>First we illustrate 'where, when, and to whom' the different campaigns</span>
<span id="cb65-523"><a href="#cb65-523" aria-hidden="true" tabindex="-1"></a>and treatments were shown ('people reached' on Facebook).</span>
<span id="cb65-524"><a href="#cb65-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-525"><a href="#cb65-525" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-526"><a href="#cb65-526" aria-hidden="true" tabindex="-1"></a><span class="fu">## We use 'reach' as our metric throughout'; essentially 'unique impressions'</span></span>
<span id="cb65-527"><a href="#cb65-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-528"><a href="#cb65-528" aria-hidden="true" tabindex="-1"></a>According to Facebook (https://business.facebook.com/adsmanager/</span>
<span id="cb65-529"><a href="#cb65-529" aria-hidden="true" tabindex="-1"></a>accessed 5 Aug 2022), reach is:</span>
<span id="cb65-530"><a href="#cb65-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-531"><a href="#cb65-531" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; The number of people who saw your ads at least once. Reach is</span></span>
<span id="cb65-532"><a href="#cb65-532" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; different from impressions, which may include multiple views of your</span></span>
<span id="cb65-533"><a href="#cb65-533" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; ads by the same people.</span></span>
<span id="cb65-534"><a href="#cb65-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-535"><a href="#cb65-535" aria-hidden="true" tabindex="-1"></a>In all of our figures below we use the *reach* outcome rather than the</span>
<span id="cb65-536"><a href="#cb65-536" aria-hidden="true" tabindex="-1"></a>'impressions' outcome, although we sometimes refer to it as</span>
<span id="cb65-537"><a href="#cb65-537" aria-hidden="true" tabindex="-1"></a>'impressions', because it is a clearer way of describing it.</span>
<span id="cb65-538"><a href="#cb65-538" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-539"><a href="#cb65-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-540"><a href="#cb65-540" aria-hidden="true" tabindex="-1"></a>The sequential campaigns involved different sets of videos.</span>
<span id="cb65-541"><a href="#cb65-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-542"><a href="#cb65-542" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reach_count}</span></span>
<span id="cb65-543"><a href="#cb65-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-544"><a href="#cb65-544" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-545"><a href="#cb65-545" aria-hidden="true" tabindex="-1"></a>  reach_campaign_theme <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb65-546"><a href="#cb65-546" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, video_theme, reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-547"><a href="#cb65-547" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-548"><a href="#cb65-548" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-549"><a href="#cb65-549" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tabyl</span>(campaign_name, video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb65-550"><a href="#cb65-550" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, Animal, Climate, Poverty, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb65-551"><a href="#cb65-551" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Campaign names and video themes: unique impressions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-552"><a href="#cb65-552" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb65-553"><a href="#cb65-553" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-554"><a href="#cb65-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-555"><a href="#cb65-555" aria-hidden="true" tabindex="-1"></a>reach_campaign_audience <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span> <span class="co">#created but not shown for now</span></span>
<span id="cb65-556"><a href="#cb65-556" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, audience, reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-557"><a href="#cb65-557" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-558"><a href="#cb65-558" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-559"><a href="#cb65-559" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tabyl</span>(campaign_name, audience) <span class="sc">%&gt;%</span></span>
<span id="cb65-560"><a href="#cb65-560" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Campaign names and audiences: unique impressions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-561"><a href="#cb65-561" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb65-562"><a href="#cb65-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-563"><a href="#cb65-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-564"><a href="#cb65-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-565"><a href="#cb65-565" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-566"><a href="#cb65-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-567"><a href="#cb65-567" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-568"><a href="#cb65-568" aria-hidden="true" tabindex="-1"></a><span class="fu">## These videos had different versions</span></span>
<span id="cb65-569"><a href="#cb65-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-572"><a href="#cb65-572" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-573"><a href="#cb65-573" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-574"><a href="#cb65-574" aria-hidden="true" tabindex="-1"></a>  versions_of_videos <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-575"><a href="#cb65-575" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, version, reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-576"><a href="#cb65-576" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-577"><a href="#cb65-577" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-578"><a href="#cb65-578" aria-hidden="true" tabindex="-1"></a>   table <span class="sc">%&gt;%</span></span>
<span id="cb65-579"><a href="#cb65-579" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Versions of videos: unique impressions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-580"><a href="#cb65-580" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb65-581"><a href="#cb65-581" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-582"><a href="#cb65-582" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-583"><a href="#cb65-583" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-584"><a href="#cb65-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-585"><a href="#cb65-585" aria-hidden="true" tabindex="-1"></a><span class="fu">####&nbsp;Which videos were shown to which audiences? {-which_videos}</span></span>
<span id="cb65-586"><a href="#cb65-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-587"><a href="#cb65-587" aria-hidden="true" tabindex="-1"></a>Some audiences were profiled as being associated with a certain cause</span>
<span id="cb65-588"><a href="#cb65-588" aria-hidden="true" tabindex="-1"></a>(through their Facebook interests or activities): in 'cause-focused'</span>
<span id="cb65-589"><a href="#cb65-589" aria-hidden="true" tabindex="-1"></a>campaigns they were shown videos for their profiled cause. In campaigns</span>
<span id="cb65-590"><a href="#cb65-590" aria-hidden="true" tabindex="-1"></a>that were not cause-focused, they were shown general interest videos.</span>
<span id="cb65-591"><a href="#cb65-591" aria-hidden="true" tabindex="-1"></a>However, those associated with one cause were never shown videos for</span>
<span id="cb65-592"><a href="#cb65-592" aria-hidden="true" tabindex="-1"></a>other causes.</span>
<span id="cb65-593"><a href="#cb65-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-594"><a href="#cb65-594" aria-hidden="true" tabindex="-1"></a>Audiences not associated with a cause included the 'General' audience,</span>
<span id="cb65-595"><a href="#cb65-595" aria-hidden="true" tabindex="-1"></a>the Philanthropy (interested in charity) audience, a GWWC 'Lookalike'</span>
<span id="cb65-596"><a href="#cb65-596" aria-hidden="true" tabindex="-1"></a>audience, and a Retargeted audience: these audiences were shown either</span>
<span id="cb65-597"><a href="#cb65-597" aria-hidden="true" tabindex="-1"></a>the more general-interest videos or particular cause videos.<span class="ot">[^gwwc_gg-7]</span></span>
<span id="cb65-598"><a href="#cb65-598" aria-hidden="true" tabindex="-1"></a>This is illustrated in the table below.</span>
<span id="cb65-599"><a href="#cb65-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-600"><a href="#cb65-600" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-7]: </span>Unfortunately, for these groups, we cannot extract the</span>
<span id="cb65-601"><a href="#cb65-601" aria-hidden="true" tabindex="-1"></a>    data on *which* cause-specific video they saw in combination with</span>
<span id="cb65-602"><a href="#cb65-602" aria-hidden="true" tabindex="-1"></a>    certain other categories, like 'which text' or demographics. This</span>
<span id="cb65-603"><a href="#cb65-603" aria-hidden="true" tabindex="-1"></a>    breaks up our analysis a bit.</span>
<span id="cb65-604"><a href="#cb65-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-605"><a href="#cb65-605" aria-hidden="true" tabindex="-1"></a>::: column-body-outset</span>
<span id="cb65-606"><a href="#cb65-606" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reach_video_audience}</span></span>
<span id="cb65-607"><a href="#cb65-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-608"><a href="#cb65-608" aria-hidden="true" tabindex="-1"></a>video_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Poverty"</span>, <span class="st">"Factual short"</span>,  <span class="st">"Factual long"</span>, <span class="st">"Branded (Factual)"</span>, <span class="st">"Total"</span>)</span>
<span id="cb65-609"><a href="#cb65-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-610"><a href="#cb65-610" aria-hidden="true" tabindex="-1"></a>audience_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Global Poverty"</span>, <span class="st">"Philanthropy"</span>, <span class="st">"General audience"</span>, <span class="st">"Lookalikes"</span>, <span class="st">"Retargeting"</span>)</span>
<span id="cb65-611"><a href="#cb65-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-612"><a href="#cb65-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-613"><a href="#cb65-613" aria-hidden="true" tabindex="-1"></a>adorn_opts <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb65-614"><a href="#cb65-614" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb65-615"><a href="#cb65-615" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_percentages</span>(<span class="st">"all"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-616"><a href="#cb65-616" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="fu">c</span>(<span class="st">"row"</span>, <span class="st">"col"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb65-617"><a href="#cb65-617" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_pct_formatting</span>(<span class="at">digits =</span> <span class="dv">2</span>)  </span>
<span id="cb65-618"><a href="#cb65-618" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb65-619"><a href="#cb65-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-620"><a href="#cb65-620" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-621"><a href="#cb65-621" aria-hidden="true" tabindex="-1"></a>reach_video_audience <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb65-622"><a href="#cb65-622" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, audience, reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-623"><a href="#cb65-623" aria-hidden="true" tabindex="-1"></a>    <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-624"><a href="#cb65-624" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-625"><a href="#cb65-625" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabyl</span>(audience, video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb65-626"><a href="#cb65-626" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_opts</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb65-627"><a href="#cb65-627" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(audience, Animal, Climate,Poverty, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb65-628"><a href="#cb65-628" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">audience =</span>  <span class="fu">factor</span>(audience, <span class="at">levels =</span> audience_levels)) <span class="sc">%&gt;%</span></span>
<span id="cb65-629"><a href="#cb65-629" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(audience)  <span class="sc">%&gt;%</span></span>
<span id="cb65-630"><a href="#cb65-630" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Video themes (columns) by audience (rows): share of unique impressions"</span>, <span class="at">digits=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-631"><a href="#cb65-631" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>() </span>
<span id="cb65-632"><a href="#cb65-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-633"><a href="#cb65-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-634"><a href="#cb65-634" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-635"><a href="#cb65-635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-636"><a href="#cb65-636" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-637"><a href="#cb65-637" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-638"><a href="#cb65-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-639"><a href="#cb65-639" aria-hidden="true" tabindex="-1"></a>Below (in fold), we see that the second treatment dimension -- the text</span>
<span id="cb65-640"><a href="#cb65-640" aria-hidden="true" tabindex="-1"></a>presented along with the video -- was allowed to vary independently of</span>
<span id="cb65-641"><a href="#cb65-641" aria-hidden="true" tabindex="-1"></a>the video (but these are not 'statistically independent').</span>
<span id="cb65-642"><a href="#cb65-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-643"><a href="#cb65-643" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-644"><a href="#cb65-644" aria-hidden="true" tabindex="-1"></a><span class="fu">## Video themes by text treatment</span></span>
<span id="cb65-645"><a href="#cb65-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-646"><a href="#cb65-646" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reach_video_text}</span></span>
<span id="cb65-647"><a href="#cb65-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-648"><a href="#cb65-648" aria-hidden="true" tabindex="-1"></a>video_levels_gg <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Animal"</span>, <span class="st">"Climate"</span>, <span class="st">"Poverty"</span>, <span class="st">"Cause-led (any)"</span>, <span class="st">"Factual short"</span>,  <span class="st">"Factual long"</span>, <span class="st">"Branded (Factual)"</span>, <span class="st">"Total"</span>)</span>
<span id="cb65-649"><a href="#cb65-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-650"><a href="#cb65-650" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-651"><a href="#cb65-651" aria-hidden="true" tabindex="-1"></a>  reach_video_text <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-652"><a href="#cb65-652" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(video_theme, text_treat, reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-653"><a href="#cb65-653" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-654"><a href="#cb65-654" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-655"><a href="#cb65-655" aria-hidden="true" tabindex="-1"></a>        <span class="fu">tabyl</span>(video_theme, text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb65-656"><a href="#cb65-656" aria-hidden="true" tabindex="-1"></a>       <span class="fu">adorn_opts</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb65-657"><a href="#cb65-657" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">video_theme =</span>  <span class="fu">factor</span>(video_theme, <span class="at">levels =</span> video_levels_gg)) <span class="sc">%&gt;%</span></span>
<span id="cb65-658"><a href="#cb65-658" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(video_theme)  <span class="sc">%&gt;%</span></span>
<span id="cb65-659"><a href="#cb65-659" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Video themes by text treatment: unique impressions"</span>, <span class="at">digits=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-660"><a href="#cb65-660" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb65-661"><a href="#cb65-661" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-662"><a href="#cb65-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-663"><a href="#cb65-663" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-664"><a href="#cb65-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-665"><a href="#cb65-665" aria-hidden="true" tabindex="-1"></a>Note (again) that we cannot identify all of the video treatments in the</span>
<span id="cb65-666"><a href="#cb65-666" aria-hidden="true" tabindex="-1"></a>same dataset with text treatments; thus, some are characterized as</span>
<span id="cb65-667"><a href="#cb65-667" aria-hidden="true" tabindex="-1"></a>'cause-led (any)'. This is a limitation of the Facebook interface.</span>
<span id="cb65-668"><a href="#cb65-668" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-669"><a href="#cb65-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-670"><a href="#cb65-670" aria-hidden="true" tabindex="-1"></a>Note that treatment shares are not equal. In fact, as the first table in</span>
<span id="cb65-671"><a href="#cb65-671" aria-hidden="true" tabindex="-1"></a>this section shows, they are not even equal within each campaign. This</span>
<span id="cb65-672"><a href="#cb65-672" aria-hidden="true" tabindex="-1"></a>is because Facebook optimizes to show more succesful videos and text</span>
<span id="cb65-673"><a href="#cb65-673" aria-hidden="true" tabindex="-1"></a>more than less succesful versions.<span class="ot">[^gwwc_gg-8]</span></span>
<span id="cb65-674"><a href="#cb65-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-675"><a href="#cb65-675" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-8]: </span>This also may lead FB to particularly combine certain</span>
<span id="cb65-676"><a href="#cb65-676" aria-hidden="true" tabindex="-1"></a>    message presentations more with certain video presentations. However</span>
<span id="cb65-677"><a href="#cb65-677" aria-hidden="true" tabindex="-1"></a>    we cannot check this in our current setup: it is confounded with</span>
<span id="cb65-678"><a href="#cb65-678" aria-hidden="true" tabindex="-1"></a>    'audience profile' (at least in the data we can observe).</span>
<span id="cb65-679"><a href="#cb65-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-680"><a href="#cb65-680" aria-hidden="true" tabindex="-1"></a>As shown in the fold below, the set of text treatments varied across</span>
<span id="cb65-681"><a href="#cb65-681" aria-hidden="true" tabindex="-1"></a>campaigns:</span>
<span id="cb65-682"><a href="#cb65-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-683"><a href="#cb65-683" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-684"><a href="#cb65-684" aria-hidden="true" tabindex="-1"></a><span class="fu">## Text treatments by campaign</span></span>
<span id="cb65-685"><a href="#cb65-685" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-686"><a href="#cb65-686" aria-hidden="true" tabindex="-1"></a>Below, we present the text treatments *as shares of each campaign's</span>
<span id="cb65-687"><a href="#cb65-687" aria-hidden="true" tabindex="-1"></a>unique impressions*. We see that the text treatments varied as shares of</span>
<span id="cb65-688"><a href="#cb65-688" aria-hidden="true" tabindex="-1"></a>the treatments in each campaign. Some texts were swapped for other texts</span>
<span id="cb65-689"><a href="#cb65-689" aria-hidden="true" tabindex="-1"></a>in later campaigns. But even among campaigns that used the same overall</span>
<span id="cb65-690"><a href="#cb65-690" aria-hidden="true" tabindex="-1"></a>set of texts, there was some dramatic variation E.g., the '100x impact'</span>
<span id="cb65-691"><a href="#cb65-691" aria-hidden="true" tabindex="-1"></a>was favored heavily in the 'Factual V2' campaign, while the other</span>
<span id="cb65-692"><a href="#cb65-692" aria-hidden="true" tabindex="-1"></a>'Factual' campaigns used this much less frequently. This presumably</span>
<span id="cb65-693"><a href="#cb65-693" aria-hidden="true" tabindex="-1"></a>resulted from it performing better in the earliest hours of the Factual</span>
<span id="cb65-694"><a href="#cb65-694" aria-hidden="true" tabindex="-1"></a>V2 trial, and Facebook's algorithm thus favoring it.<span class="ot">[^gwwc_gg-9]</span></span>
<span id="cb65-695"><a href="#cb65-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-698"><a href="#cb65-698" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-699"><a href="#cb65-699" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-700"><a href="#cb65-700" aria-hidden="true" tabindex="-1"></a>  reach_text_campaign <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-701"><a href="#cb65-701" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(campaign_name, text_treat, reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-702"><a href="#cb65-702" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-703"><a href="#cb65-703" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-704"><a href="#cb65-704" aria-hidden="true" tabindex="-1"></a> <span class="fu">tabyl</span>(campaign_name, text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb65-705"><a href="#cb65-705" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_percentages</span>(<span class="st">"row"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-706"><a href="#cb65-706" aria-hidden="true" tabindex="-1"></a>     <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="fu">c</span>(<span class="st">"col"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb65-707"><a href="#cb65-707" aria-hidden="true" tabindex="-1"></a>    <span class="fu">adorn_pct_formatting</span>(<span class="at">digits =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-708"><a href="#cb65-708" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Text treatments as shares of unique impressions by campaign"</span>, <span class="at">digits=</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-709"><a href="#cb65-709" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb65-710"><a href="#cb65-710" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-711"><a href="#cb65-711" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-712"><a href="#cb65-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-713"><a href="#cb65-713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-714"><a href="#cb65-714" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-715"><a href="#cb65-715" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-716"><a href="#cb65-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-717"><a href="#cb65-717" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-9]: </span>We suspect Facebook's algorithm uses some version of</span>
<span id="cb65-718"><a href="#cb65-718" aria-hidden="true" tabindex="-1"></a>    [Thompson</span>
<span id="cb65-719"><a href="#cb65-719" aria-hidden="true" tabindex="-1"></a>    sampling](https://en.wikipedia.org/wiki/Thompson_sampling#:~:text=Thompson%20sampling%2C%20named%20after%20William,to%20a%20randomly%20drawn%20belief)</span>
<span id="cb65-720"><a href="#cb65-720" aria-hidden="true" tabindex="-1"></a>    to optimize along the explore/exploit frontier.</span>
<span id="cb65-721"><a href="#cb65-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-722"><a href="#cb65-722" aria-hidden="true" tabindex="-1"></a><span class="fu">### Demographics {.unnumbered}</span></span>
<span id="cb65-723"><a href="#cb65-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-726"><a href="#cb65-726" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-727"><a href="#cb65-727" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-728"><a href="#cb65-728" aria-hidden="true" tabindex="-1"></a>  reach_age_gender <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-729"><a href="#cb65-729" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(age, gender, reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-730"><a href="#cb65-730" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-731"><a href="#cb65-731" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-732"><a href="#cb65-732" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(age, gender) <span class="sc">%&gt;%</span></span>
<span id="cb65-733"><a href="#cb65-733" aria-hidden="true" tabindex="-1"></a>       <span class="fu">adorn_opts</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb65-734"><a href="#cb65-734" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Unique impressions: shares by Age and Gender"</span>, <span class="at">digits=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-735"><a href="#cb65-735" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable_styling</span>()</span>
<span id="cb65-736"><a href="#cb65-736" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-737"><a href="#cb65-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-738"><a href="#cb65-738" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-739"><a href="#cb65-739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-740"><a href="#cb65-740" aria-hidden="true" tabindex="-1"></a>As can be clearly seen above, within all age groups, the ads were</span>
<span id="cb65-741"><a href="#cb65-741" aria-hidden="true" tabindex="-1"></a>disproportionally shown to women. Relative to the [overall Facebook</span>
<span id="cb65-742"><a href="#cb65-742" aria-hidden="true" tabindex="-1"></a>population](https://www.statista.com/statistics/187549/facebook-distribution-of-users-age-group-usa/#:~:text=As%20of%20June%202022%2C%2023.5,13%20to%2017%20years%20old)</span>
<span id="cb65-743"><a href="#cb65-743" aria-hidden="true" tabindex="-1"></a>our data skews very slightly younger.<span class="ot">[^gwwc_gg-10]</span></span>
<span id="cb65-744"><a href="#cb65-744" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-745"><a href="#cb65-745" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-10]: </span>But we essentially excluded the 13-17 age group,</span>
<span id="cb65-746"><a href="#cb65-746" aria-hidden="true" tabindex="-1"></a>    completely excluding it in later.</span>
<span id="cb65-747"><a href="#cb65-747" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-748"><a href="#cb65-748" aria-hidden="true" tabindex="-1"></a><span class="in">````{=html}</span></span>
<span id="cb65-749"><a href="#cb65-749" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;!-- </span></span>
<span id="cb65-750"><a href="#cb65-750" aria-hidden="true" tabindex="-1"></a><span class="in">```{r statista}</span></span>
<span id="cb65-751"><a href="#cb65-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-752"><a href="#cb65-752" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::include_url("https://www.statista.com/statistics/187549/facebook-distribution-of-users-age-group-usa/#:~:text=As%20of%20June%202022%2C%2023.5,13%20to%2017%20years%20old")</span></span>
<span id="cb65-753"><a href="#cb65-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-754"><a href="#cb65-754" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-755"><a href="#cb65-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-756"><a href="#cb65-756" aria-hidden="true" tabindex="-1"></a><span class="in">--&gt;</span></span>
<span id="cb65-757"><a href="#cb65-757" aria-hidden="true" tabindex="-1"></a><span class="in">````</span></span>
<span id="cb65-758"><a href="#cb65-758" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-759"><a href="#cb65-759" aria-hidden="true" tabindex="-1"></a><span class="fu">### Outcomes: overview {.unnumbered}</span></span>
<span id="cb65-760"><a href="#cb65-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-761"><a href="#cb65-761" aria-hidden="true" tabindex="-1"></a>Below, we present the dates of each campaign, along with start dates and</span>
<span id="cb65-762"><a href="#cb65-762" aria-hidden="true" tabindex="-1"></a>results:</span>
<span id="cb65-763"><a href="#cb65-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-764"><a href="#cb65-764" aria-hidden="true" tabindex="-1"></a>::: column-body-outset</span>
<span id="cb65-765"><a href="#cb65-765" aria-hidden="true" tabindex="-1"></a><span class="in">```{r campaign_date_outcomes}</span></span>
<span id="cb65-766"><a href="#cb65-766" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-767"><a href="#cb65-767" aria-hidden="true" tabindex="-1"></a>base_results_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb65-768"><a href="#cb65-768" aria-hidden="true" tabindex="-1"></a>    df <span class="sc">%&gt;%</span></span>
<span id="cb65-769"><a href="#cb65-769" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">summarize</span>(</span>
<span id="cb65-770"><a href="#cb65-770" aria-hidden="true" tabindex="-1"></a>  <span class="at">Cost =</span> <span class="fu">sum</span>(<span class="fu">round</span>(amount_spent_usd,<span class="dv">0</span>)),</span>
<span id="cb65-771"><a href="#cb65-771" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">reach</span><span class="st">`</span><span class="ot">=</span><span class="fu">sum</span>(reach),</span>
<span id="cb65-772"><a href="#cb65-772" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span><span class="ot">=</span><span class="fu">sum</span>(link_clicks, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb65-773"><a href="#cb65-773" aria-hidden="true" tabindex="-1"></a>      <span class="at">Results=</span><span class="fu">sum</span>(results, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb65-774"><a href="#cb65-774" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">$/ impr.</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Cost<span class="sc">/</span>reach,<span class="dv">3</span>),</span>
<span id="cb65-775"><a href="#cb65-775" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">$/ click</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Cost<span class="sc">/</span> <span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>,<span class="dv">1</span>),</span>
<span id="cb65-776"><a href="#cb65-776" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Cost<span class="sc">/</span>Results,<span class="dv">1</span>),</span>
<span id="cb65-777"><a href="#cb65-777" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Results/ 1k impr.</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(Results<span class="sc">*</span><span class="dv">1000</span><span class="sc">/</span>reach,<span class="dv">1</span>)</span>
<span id="cb65-778"><a href="#cb65-778" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-779"><a href="#cb65-779" aria-hidden="true" tabindex="-1"></a>     }</span>
<span id="cb65-780"><a href="#cb65-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-781"><a href="#cb65-781" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-782"><a href="#cb65-782" aria-hidden="true" tabindex="-1"></a>  campaign_date_outcomes <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-783"><a href="#cb65-783" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(campaign_name, starts, ends) <span class="sc">%&gt;%</span></span>
<span id="cb65-784"><a href="#cb65-784" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="st">'Campaign'</span> <span class="ot">=</span> campaign_name) <span class="sc">%&gt;%</span></span>
<span id="cb65-785"><a href="#cb65-785" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">200</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-786"><a href="#cb65-786" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb65-787"><a href="#cb65-787" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(starts) <span class="sc">%&gt;%</span></span>
<span id="cb65-788"><a href="#cb65-788" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Campaign and start date"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-789"><a href="#cb65-789" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>() <span class="sc">%&gt;%</span></span>
<span id="cb65-790"><a href="#cb65-790" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_footnote</span>(<span class="st">"'False start' campaign dates with less than 200 reach are excluded"</span>)</span>
<span id="cb65-791"><a href="#cb65-791" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-792"><a href="#cb65-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-793"><a href="#cb65-793" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-794"><a href="#cb65-794" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-795"><a href="#cb65-795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-796"><a href="#cb65-796" aria-hidden="true" tabindex="-1"></a>The results varied substantially by campaign, but this could be</span>
<span id="cb65-797"><a href="#cb65-797" aria-hidden="true" tabindex="-1"></a>attributed to a range of factors, including different sets of videos and</span>
<span id="cb65-798"><a href="#cb65-798" aria-hidden="true" tabindex="-1"></a>texts in each campaign, different *versions* of videos presented on</span>
<span id="cb65-799"><a href="#cb65-799" aria-hidden="true" tabindex="-1"></a>these dates, and changes in audience filters. As these campaigns were</span>
<span id="cb65-800"><a href="#cb65-800" aria-hidden="true" tabindex="-1"></a>administered on different dates, there may also be uncontrolled</span>
<span id="cb65-801"><a href="#cb65-801" aria-hidden="true" tabindex="-1"></a>differences in the population seeing our ads.</span>
<span id="cb65-802"><a href="#cb65-802" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-803"><a href="#cb65-803" aria-hidden="true" tabindex="-1"></a><span class="fu">### Outcomes for the most comparable trials and A/B tests {.unnumbered}</span></span>
<span id="cb65-804"><a href="#cb65-804" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-805"><a href="#cb65-805" aria-hidden="true" tabindex="-1"></a>The campaigns run on the same dates are the most comparable, and in some</span>
<span id="cb65-806"><a href="#cb65-806" aria-hidden="true" tabindex="-1"></a>cases, were explicitly set up as A/B tests.</span>
<span id="cb65-807"><a href="#cb65-807" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-808"><a href="#cb65-808" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-809"><a href="#cb65-809" aria-hidden="true" tabindex="-1"></a><span class="fu">## A/B trial setups</span></span>
<span id="cb65-810"><a href="#cb65-810" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-811"><a href="#cb65-811" aria-hidden="true" tabindex="-1"></a>Test 1 (Nov 30, 2021 -- Dec 8, 2021) displayed either the long factual</span>
<span id="cb65-812"><a href="#cb65-812" aria-hidden="true" tabindex="-1"></a>video or a cause focus video. In the cause focus condition,</span>
<span id="cb65-813"><a href="#cb65-813" aria-hidden="true" tabindex="-1"></a>cause-specific audiences for animal rights, climate change, and poverty</span>
<span id="cb65-814"><a href="#cb65-814" aria-hidden="true" tabindex="-1"></a>(based on their behavior on Facebook) were shown the relevant cause</span>
<span id="cb65-815"><a href="#cb65-815" aria-hidden="true" tabindex="-1"></a>video.</span>
<span id="cb65-816"><a href="#cb65-816" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-817"><a href="#cb65-817" aria-hidden="true" tabindex="-1"></a>(Note: the 'Only 3% research' and '100x impact' messages were not shown</span>
<span id="cb65-818"><a href="#cb65-818" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-819"><a href="#cb65-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-820"><a href="#cb65-820" aria-hidden="true" tabindex="-1"></a>Test 2 (Dec 8 - 20, 2021) was the same as Test 1 but used the short</span>
<span id="cb65-821"><a href="#cb65-821" aria-hidden="true" tabindex="-1"></a>factual video instead of the cause-focus videos.</span>
<span id="cb65-822"><a href="#cb65-822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-823"><a href="#cb65-823" aria-hidden="true" tabindex="-1"></a>Test 3 (Dec 23, 2021 - Jan 4, 2022) was the same as Test 2 but had a new</span>
<span id="cb65-824"><a href="#cb65-824" aria-hidden="true" tabindex="-1"></a>version of the videos (with Luke just holding up signs with the words).</span>
<span id="cb65-825"><a href="#cb65-825" aria-hidden="true" tabindex="-1"></a>This test was also restricted to 18-35 year olds.</span>
<span id="cb65-826"><a href="#cb65-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-827"><a href="#cb65-827" aria-hidden="true" tabindex="-1"></a>Test 4: The brand video was displayed in a separate branded campaign</span>
<span id="cb65-828"><a href="#cb65-828" aria-hidden="true" tabindex="-1"></a>which was tested against another campaign that allowed the algorithm to</span>
<span id="cb65-829"><a href="#cb65-829" aria-hidden="true" tabindex="-1"></a>optimize between the short factual and cause-focus videos (although not</span>
<span id="cb65-830"><a href="#cb65-830" aria-hidden="true" tabindex="-1"></a>allowing each cause-specific audience to see the ads for other cause</span>
<span id="cb65-831"><a href="#cb65-831" aria-hidden="true" tabindex="-1"></a>areas).</span>
<span id="cb65-832"><a href="#cb65-832" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-833"><a href="#cb65-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-834"><a href="#cb65-834" aria-hidden="true" tabindex="-1"></a>As noted, some campaigns were set up explicitly as A/B trials. Below, we</span>
<span id="cb65-835"><a href="#cb65-835" aria-hidden="true" tabindex="-1"></a>focus specifically on the comparable groups in each.<span class="ot">[^gwwc_gg-11]</span></span>
<span id="cb65-836"><a href="#cb65-836" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-837"><a href="#cb65-837" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-11]: </span>Todo: present or link at least something here about the</span>
<span id="cb65-838"><a href="#cb65-838" aria-hidden="true" tabindex="-1"></a>    likely dispersion/CI's for these. We should have a sense of 'how</span>
<span id="cb65-839"><a href="#cb65-839" aria-hidden="true" tabindex="-1"></a>    strong' these differences are. A minor challenge: we run the models</span>
<span id="cb65-840"><a href="#cb65-840" aria-hidden="true" tabindex="-1"></a>    and simulations later, so this would make this Quarto less of a</span>
<span id="cb65-841"><a href="#cb65-841" aria-hidden="true" tabindex="-1"></a>    'transparent pipeline'.</span>
<span id="cb65-842"><a href="#cb65-842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-843"><a href="#cb65-843" aria-hidden="true" tabindex="-1"></a><span class="in">```{r campaign_date_outcomes_comp_1_2}</span></span>
<span id="cb65-844"><a href="#cb65-844" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-845"><a href="#cb65-845" aria-hidden="true" tabindex="-1"></a>  campaign_date_outcomes_comp_1_2 <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-846"><a href="#cb65-846" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">&lt;=</span> <span class="st">"2021-12-08"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-847"><a href="#cb65-847" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_det</span>(text_treat, <span class="st">"100x impact|Overwhelming|Only 3% research|Cause list"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb65-848"><a href="#cb65-848" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience <span class="sc">==</span> <span class="st">"Philanthropy"</span> <span class="sc">|</span> audience <span class="sc">==</span><span class="st">"Lookalikes"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-849"><a href="#cb65-849" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme, audience) <span class="sc">%&gt;%</span></span>
<span id="cb65-850"><a href="#cb65-850" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-851"><a href="#cb65-851" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb65-852"><a href="#cb65-852" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-853"><a href="#cb65-853" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(audience, <span class="sc">-</span><span class="st">`</span><span class="at">Results/ 1k impr.</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-854"><a href="#cb65-854" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"'Comparable' Parts of Tests 1 &amp; 2: reach, impressions, clicks, results"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-855"><a href="#cb65-855" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>() </span>
<span id="cb65-856"><a href="#cb65-856" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-857"><a href="#cb65-857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-858"><a href="#cb65-858" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-859"><a href="#cb65-859" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-860"><a href="#cb65-860" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-861"><a href="#cb65-861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-862"><a href="#cb65-862" aria-hidden="true" tabindex="-1"></a>The table above is limited to the campaigns starting on or before</span>
<span id="cb65-863"><a href="#cb65-863" aria-hidden="true" tabindex="-1"></a>2021-12-08: the 'tests 1 and 2'. It is limited to Philanthropy and</span>
<span id="cb65-864"><a href="#cb65-864" aria-hidden="true" tabindex="-1"></a>Lookalike audiences, the only audiences that saw all videos. It is</span>
<span id="cb65-865"><a href="#cb65-865" aria-hidden="true" tabindex="-1"></a>limited to text (message) treatments that were shown across all these</span>
<span id="cb65-866"><a href="#cb65-866" aria-hidden="true" tabindex="-1"></a>campaigns ("6000+ people", "Bigger difference", and "Learn"). Note the</span>
<span id="cb65-867"><a href="#cb65-867" aria-hidden="true" tabindex="-1"></a>extremely poor performance of the 'Factual long' message. The Factual</span>
<span id="cb65-868"><a href="#cb65-868" aria-hidden="true" tabindex="-1"></a>short message slightly outperformed the Cause-led messages</span>
<span id="cb65-869"><a href="#cb65-869" aria-hidden="true" tabindex="-1"></a>overall.<span class="ot">[^gwwc_gg-12]</span> The Lookalike audience somewhat overperformed the</span>
<span id="cb65-870"><a href="#cb65-870" aria-hidden="true" tabindex="-1"></a>Philanthropy audience, particularly with the cause-led videos.</span>
<span id="cb65-871"><a href="#cb65-871" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-872"><a href="#cb65-872" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-12]: </span>But recall we cannot distinguish which cause message they</span>
<span id="cb65-873"><a href="#cb65-873" aria-hidden="true" tabindex="-1"></a>    were shown for this slice of the data.</span>
<span id="cb65-874"><a href="#cb65-874" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-875"><a href="#cb65-875" aria-hidden="true" tabindex="-1"></a>Next we consider "Test 3", starting on 2021-12-23. As noted, this had a</span>
<span id="cb65-876"><a href="#cb65-876" aria-hidden="true" tabindex="-1"></a>new version of the videos, and new age restrictions</span>
<span id="cb65-877"><a href="#cb65-877" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-878"><a href="#cb65-878" aria-hidden="true" tabindex="-1"></a><span class="in">```{r campaign_date_outcomes_comp_3}</span></span>
<span id="cb65-879"><a href="#cb65-879" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-880"><a href="#cb65-880" aria-hidden="true" tabindex="-1"></a>  campaign_date_outcomes_comp_3 <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-881"><a href="#cb65-881" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">==</span> <span class="st">"2021-12-23"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-882"><a href="#cb65-882" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_det</span>(text_treat, <span class="st">"100x impact|Overwhelming|Only 3% research|Cause list"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb65-883"><a href="#cb65-883" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience <span class="sc">==</span> <span class="st">"Philanthropy"</span> <span class="sc">|</span> audience <span class="sc">==</span><span class="st">"Lookalikes"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-884"><a href="#cb65-884" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme, audience) <span class="sc">%&gt;%</span></span>
<span id="cb65-885"><a href="#cb65-885" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-886"><a href="#cb65-886" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb65-887"><a href="#cb65-887" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-888"><a href="#cb65-888" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(audience, <span class="sc">-</span><span class="st">`</span><span class="at">Results/ 1k impr.</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-889"><a href="#cb65-889" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"'Comparable' Parts of Tests 3"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-890"><a href="#cb65-890" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>() </span>
<span id="cb65-891"><a href="#cb65-891" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-892"><a href="#cb65-892" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-893"><a href="#cb65-893" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-894"><a href="#cb65-894" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-895"><a href="#cb65-895" aria-hidden="true" tabindex="-1"></a>This has the same filters as the previous table: only Philanthropy and</span>
<span id="cb65-896"><a href="#cb65-896" aria-hidden="true" tabindex="-1"></a>Lookalike audiences<span class="ot">[^gwwc_gg-13]</span> and only those text treatments shown to</span>
<span id="cb65-897"><a href="#cb65-897" aria-hidden="true" tabindex="-1"></a>all. Here, at first pass, both audiences, and both sets of video</span>
<span id="cb65-898"><a href="#cb65-898" aria-hidden="true" tabindex="-1"></a>treatment themes seem to perform roughly the same on a results-per-cost</span>
<span id="cb65-899"><a href="#cb65-899" aria-hidden="true" tabindex="-1"></a>basis.<span class="ot">[^gwwc_gg-14]</span></span>
<span id="cb65-900"><a href="#cb65-900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-901"><a href="#cb65-901" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-13]: </span>Here we could have included the cause audiences and it</span>
<span id="cb65-902"><a href="#cb65-902" aria-hidden="true" tabindex="-1"></a>    would have been somewhat comparable, but we leave them out for</span>
<span id="cb65-903"><a href="#cb65-903" aria-hidden="true" tabindex="-1"></a>    simplicity</span>
<span id="cb65-904"><a href="#cb65-904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-905"><a href="#cb65-905" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-14]: </span>But on a results per impression, the lookalikes seem do</span>
<span id="cb65-906"><a href="#cb65-906" aria-hidden="true" tabindex="-1"></a>    substantially better, and the cause-led treatments do better among</span>
<span id="cb65-907"><a href="#cb65-907" aria-hidden="true" tabindex="-1"></a>    the Philanthropy audience.</span>
<span id="cb65-908"><a href="#cb65-908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-909"><a href="#cb65-909" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Focus: Test 4, videos and audiences {.unnumbered}</span></span>
<span id="cb65-910"><a href="#cb65-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-911"><a href="#cb65-911" aria-hidden="true" tabindex="-1"></a>Finally, we focus on test 4, which incorporated the branded video. Here</span>
<span id="cb65-912"><a href="#cb65-912" aria-hidden="true" tabindex="-1"></a>all text treatments could be paired with each of the videos, and each</span>
<span id="cb65-913"><a href="#cb65-913" aria-hidden="true" tabindex="-1"></a>were given to each audience. Thus, we can 'include a lot' and this table</span>
<span id="cb65-914"><a href="#cb65-914" aria-hidden="true" tabindex="-1"></a>is large (thus the 'datatables' format, allowing sorting and</span>
<span id="cb65-915"><a href="#cb65-915" aria-hidden="true" tabindex="-1"></a>filtering).<span class="ot">[^gwwc_gg-15]</span></span>
<span id="cb65-916"><a href="#cb65-916" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-917"><a href="#cb65-917" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-15]: </span>We can also use the data that includes information on the</span>
<span id="cb65-918"><a href="#cb65-918" aria-hidden="true" tabindex="-1"></a>    video all audiences saw here, because we don't need to filter on</span>
<span id="cb65-919"><a href="#cb65-919" aria-hidden="true" tabindex="-1"></a>    message.</span>
<span id="cb65-920"><a href="#cb65-920" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-921"><a href="#cb65-921" aria-hidden="true" tabindex="-1"></a><span class="in">```{r campaign_date_outcomes_comp_4_vid}</span></span>
<span id="cb65-922"><a href="#cb65-922" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-923"><a href="#cb65-923" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-924"><a href="#cb65-924" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_vid <span class="ot">&lt;-</span>  gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb65-925"><a href="#cb65-925" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">==</span> <span class="st">"2022-01-07"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-926"><a href="#cb65-926" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme, audience) <span class="sc">%&gt;%</span></span>
<span id="cb65-927"><a href="#cb65-927" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-928"><a href="#cb65-928" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb65-929"><a href="#cb65-929" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-930"><a href="#cb65-930" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(audience, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-931"><a href="#cb65-931" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(audience, <span class="fu">everything</span>())</span>
<span id="cb65-932"><a href="#cb65-932" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-933"><a href="#cb65-933" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_vid <span class="sc">%&gt;%</span> </span>
<span id="cb65-934"><a href="#cb65-934" aria-hidden="true" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Test 4 (roughly comparable); blank cells indicate NA/no results"</span>, <span class="at">filter=</span><span class="st">"top"</span>,  <span class="at">rownames=</span> <span class="cn">FALSE</span>) </span>
<span id="cb65-935"><a href="#cb65-935" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-936"><a href="#cb65-936" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-937"><a href="#cb65-937" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-938"><a href="#cb65-938" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-939"><a href="#cb65-939" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb65-940"><a href="#cb65-940" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-941"><a href="#cb65-941" aria-hidden="true" tabindex="-1"></a>**Within each audience**<span class="ot">[^gwwc_gg-16]</span></span>
<span id="cb65-942"><a href="#cb65-942" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-943"><a href="#cb65-943" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-16]: </span>Developers note: all of this description is hard-coded.</span>
<span id="cb65-944"><a href="#cb65-944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-945"><a href="#cb65-945" aria-hidden="true" tabindex="-1"></a>For the Philanthropy audience, the Climate and Poverty videos and the</span>
<span id="cb65-946"><a href="#cb65-946" aria-hidden="true" tabindex="-1"></a>Factual Short videos did about equally well -- about 8-9 USD per result.</span>
<span id="cb65-947"><a href="#cb65-947" aria-hidden="true" tabindex="-1"></a>The Branded video did slightly worse. The Animal video performed very</span>
<span id="cb65-948"><a href="#cb65-948" aria-hidden="true" tabindex="-1"></a>poorly on this audience!</span>
<span id="cb65-949"><a href="#cb65-949" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-950"><a href="#cb65-950" aria-hidden="true" tabindex="-1"></a>For the General audience, the Climate video did best, achieving a result</span>
<span id="cb65-951"><a href="#cb65-951" aria-hidden="true" tabindex="-1"></a>at close to 6 dollars. The Animal and Factual videos did somewhat worse,</span>
<span id="cb65-952"><a href="#cb65-952" aria-hidden="true" tabindex="-1"></a>and the Poverty and Brand videos did substantially worse on a results</span>
<span id="cb65-953"><a href="#cb65-953" aria-hidden="true" tabindex="-1"></a>per cost basis.</span>
<span id="cb65-954"><a href="#cb65-954" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-955"><a href="#cb65-955" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-956"><a href="#cb65-956" aria-hidden="true" tabindex="-1"></a><span class="fu">## Format note</span></span>
<span id="cb65-957"><a href="#cb65-957" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-958"><a href="#cb65-958" aria-hidden="true" tabindex="-1"></a>The table above is presented with the <span class="in">`Datatables`</span> package/function.</span>
<span id="cb65-959"><a href="#cb65-959" aria-hidden="true" tabindex="-1"></a>This allows sorting, filtering, etc. We can present more tables in this</span>
<span id="cb65-960"><a href="#cb65-960" aria-hidden="true" tabindex="-1"></a>format if it is preferable.</span>
<span id="cb65-961"><a href="#cb65-961" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-962"><a href="#cb65-962" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-963"><a href="#cb65-963" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb65-964"><a href="#cb65-964" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-965"><a href="#cb65-965" aria-hidden="true" tabindex="-1"></a>**Factual short versus Branded videos**</span>
<span id="cb65-966"><a href="#cb65-966" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-967"><a href="#cb65-967" aria-hidden="true" tabindex="-1"></a>The cost per result for the Factual Short video was fairly constant</span>
<span id="cb65-968"><a href="#cb65-968" aria-hidden="true" tabindex="-1"></a>across audiences (except the Lookalikes, who performed very poorly with</span>
<span id="cb65-969"><a href="#cb65-969" aria-hidden="true" tabindex="-1"></a>this video). The Branded video performed adequately on the Lookalikes</span>
<span id="cb65-970"><a href="#cb65-970" aria-hidden="true" tabindex="-1"></a>and Philanthropy audiences, but extremely poorly on the General and</span>
<span id="cb65-971"><a href="#cb65-971" aria-hidden="true" tabindex="-1"></a>cause audiences.</span>
<span id="cb65-972"><a href="#cb65-972" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-973"><a href="#cb65-973" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb65-974"><a href="#cb65-974" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-975"><a href="#cb65-975" aria-hidden="true" tabindex="-1"></a>**Cause videos**</span>
<span id="cb65-976"><a href="#cb65-976" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-977"><a href="#cb65-977" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Animals video: did approximately equally well (about 2 results per</span>
<span id="cb65-978"><a href="#cb65-978" aria-hidden="true" tabindex="-1"></a>    1k impressions and 9-11 dollars per result) on all audiences except</span>
<span id="cb65-979"><a href="#cb65-979" aria-hidden="true" tabindex="-1"></a>    the Philanthropy audience.</span>
<span id="cb65-980"><a href="#cb65-980" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-981"><a href="#cb65-981" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Climate video: Surprisingly poor performance for the climate</span>
<span id="cb65-982"><a href="#cb65-982" aria-hidden="true" tabindex="-1"></a>    audience (but performed well with theGeneral audience, and OK with</span>
<span id="cb65-983"><a href="#cb65-983" aria-hidden="true" tabindex="-1"></a>    the Philanthropy and Lookalike audiences</span>
<span id="cb65-984"><a href="#cb65-984" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-985"><a href="#cb65-985" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Poverty video: This video apparently had poor performance overall,</span>
<span id="cb65-986"><a href="#cb65-986" aria-hidden="true" tabindex="-1"></a>    leading FB's algorithm to largely drop it. It seems to have not</span>
<span id="cb65-987"><a href="#cb65-987" aria-hidden="true" tabindex="-1"></a>    appealed to any audience except the Philanthropy audience, where it</span>
<span id="cb65-988"><a href="#cb65-988" aria-hidden="true" tabindex="-1"></a>    did marginally OK.</span>
<span id="cb65-989"><a href="#cb65-989" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-990"><a href="#cb65-990" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb65-991"><a href="#cb65-991" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-992"><a href="#cb65-992" aria-hidden="true" tabindex="-1"></a>**Sorting by '\$/results overall'**</span>
<span id="cb65-993"><a href="#cb65-993" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-994"><a href="#cb65-994" aria-hidden="true" tabindex="-1"></a>The best audience-video combinations were:</span>
<span id="cb65-995"><a href="#cb65-995" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-998"><a href="#cb65-998" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-999"><a href="#cb65-999" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_vid <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">$/ result</span><span class="st">`</span><span class="sc">&lt;=</span><span class="fl">9.1</span>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(audience, video_theme, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1000"><a href="#cb65-1000" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1001"><a href="#cb65-1001" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.kable</span>() <span class="sc">%&gt;%</span> <span class="fu">.kable_styling</span>()</span>
<span id="cb65-1002"><a href="#cb65-1002" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1003"><a href="#cb65-1003" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1004"><a href="#cb65-1004" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1005"><a href="#cb65-1005" aria-hidden="true" tabindex="-1"></a>... each of which cost at or below 9 dollars per result</span>
<span id="cb65-1006"><a href="#cb65-1006" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1007"><a href="#cb65-1007" aria-hidden="true" tabindex="-1"></a>The worst audience-video combinations were:</span>
<span id="cb65-1008"><a href="#cb65-1008" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1011"><a href="#cb65-1011" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-1012"><a href="#cb65-1012" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_vid <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">$/ result</span><span class="st">`</span><span class="sc">&gt;</span><span class="dv">20</span> <span class="sc">|</span>  <span class="fu">is.na</span>(<span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) ) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(audience, video_theme, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1013"><a href="#cb65-1013" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1014"><a href="#cb65-1014" aria-hidden="true" tabindex="-1"></a><span class="fu">.kable</span>() <span class="sc">%&gt;%</span> <span class="fu">.kable_styling</span>()</span>
<span id="cb65-1015"><a href="#cb65-1015" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1016"><a href="#cb65-1016" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1017"><a href="#cb65-1017" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1018"><a href="#cb65-1018" aria-hidden="true" tabindex="-1"></a>... each of which cost over 20 dollars per result (or had no results,</span>
<span id="cb65-1019"><a href="#cb65-1019" aria-hidden="true" tabindex="-1"></a>suggesting even higher costs).<span class="ot">[^gwwc_gg-17]</span></span>
<span id="cb65-1020"><a href="#cb65-1020" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1021"><a href="#cb65-1021" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-17]: </span>In some cases these had few observations, which we</span>
<span id="cb65-1022"><a href="#cb65-1022" aria-hidden="true" tabindex="-1"></a>    believe was because Facebook's algorithm largely 'gave up on these'</span>
<span id="cb65-1023"><a href="#cb65-1023" aria-hidden="true" tabindex="-1"></a>    videos for this audience because of very poor performance.</span>
<span id="cb65-1024"><a href="#cb65-1024" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1025"><a href="#cb65-1025" aria-hidden="true" tabindex="-1"></a>**Comparing audiences in Test 4**</span>
<span id="cb65-1026"><a href="#cb65-1026" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1029"><a href="#cb65-1029" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-1030"><a href="#cb65-1030" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1031"><a href="#cb65-1031" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1032"><a href="#cb65-1032" aria-hidden="true" tabindex="-1"></a>Here the General and Philanthropy audiences performed about equally</span>
<span id="cb65-1033"><a href="#cb65-1033" aria-hidden="true" tabindex="-1"></a>well, while the cause audiences performed somewhat worse, particularly</span>
<span id="cb65-1034"><a href="#cb65-1034" aria-hidden="true" tabindex="-1"></a>the Poverty audience.</span>
<span id="cb65-1035"><a href="#cb65-1035" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1036"><a href="#cb65-1036" aria-hidden="true" tabindex="-1"></a>::: column-body-outset</span>
<span id="cb65-1037"><a href="#cb65-1037" aria-hidden="true" tabindex="-1"></a><span class="in">```{r campaign_date_outcomes_comp_4_aud_vt}</span></span>
<span id="cb65-1038"><a href="#cb65-1038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1039"><a href="#cb65-1039" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1040"><a href="#cb65-1040" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_aud <span class="ot">&lt;-</span>  gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb65-1041"><a href="#cb65-1041" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">==</span> <span class="st">"2022-01-07"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1042"><a href="#cb65-1042" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(audience) <span class="sc">%&gt;%</span></span>
<span id="cb65-1043"><a href="#cb65-1043" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1044"><a href="#cb65-1044" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb65-1045"><a href="#cb65-1045" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"All"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1046"><a href="#cb65-1046" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1047"><a href="#cb65-1047" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(audience, <span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1048"><a href="#cb65-1048" aria-hidden="true" tabindex="-1"></a>      <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>)</span>
<span id="cb65-1049"><a href="#cb65-1049" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1050"><a href="#cb65-1050" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1051"><a href="#cb65-1051" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1052"><a href="#cb65-1052" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_aud_vt <span class="ot">&lt;-</span>  gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb65-1053"><a href="#cb65-1053" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">if_else</span>(<span class="fu">str_det</span>(video_theme, <span class="st">"Factual|factual"</span>), <span class="st">"Non-cause"</span>, <span class="st">"Cause"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1054"><a href="#cb65-1054" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">==</span> <span class="st">"2022-01-07"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1055"><a href="#cb65-1055" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, audience) <span class="sc">%&gt;%</span></span>
<span id="cb65-1056"><a href="#cb65-1056" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1057"><a href="#cb65-1057" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb65-1058"><a href="#cb65-1058" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1059"><a href="#cb65-1059" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1060"><a href="#cb65-1060" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(audience, <span class="fu">everything</span>())</span>
<span id="cb65-1061"><a href="#cb65-1061" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1062"><a href="#cb65-1062" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_aud_vt_all <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(campaign_date_outcomes_comp_4_aud, campaign_date_outcomes_comp_4_aud_vt)</span>
<span id="cb65-1063"><a href="#cb65-1063" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1064"><a href="#cb65-1064" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_aud_vt_all <span class="sc">%&gt;%</span> </span>
<span id="cb65-1065"><a href="#cb65-1065" aria-hidden="true" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Test 4 by audience and video type"</span>, <span class="at">filter=</span><span class="st">"top"</span>,  <span class="at">rownames=</span> <span class="cn">FALSE</span>) </span>
<span id="cb65-1066"><a href="#cb65-1066" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1067"><a href="#cb65-1067" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1068"><a href="#cb65-1068" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-1069"><a href="#cb65-1069" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1070"><a href="#cb65-1070" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb65-1071"><a href="#cb65-1071" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1072"><a href="#cb65-1072" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Focus: Test 4, Texts and audiences {.unnumbered}</span></span>
<span id="cb65-1073"><a href="#cb65-1073" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1074"><a href="#cb65-1074" aria-hidden="true" tabindex="-1"></a><span class="in">```{r campaign_date_outcomes_comp_4_text_pool}</span></span>
<span id="cb65-1075"><a href="#cb65-1075" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1076"><a href="#cb65-1076" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_text_pool <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-1077"><a href="#cb65-1077" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">==</span> <span class="st">"2022-01-07"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1078"><a href="#cb65-1078" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb65-1079"><a href="#cb65-1079" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1080"><a href="#cb65-1080" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb65-1081"><a href="#cb65-1081" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1082"><a href="#cb65-1082" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) </span>
<span id="cb65-1083"><a href="#cb65-1083" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1084"><a href="#cb65-1084" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_text_pool <span class="sc">%&gt;%</span> </span>
<span id="cb65-1085"><a href="#cb65-1085" aria-hidden="true" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Tests 4: Performance by text; blank cells indicate NA/no results"</span>) </span>
<span id="cb65-1086"><a href="#cb65-1086" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1087"><a href="#cb65-1087" aria-hidden="true" tabindex="-1"></a>worst_to_best <span class="ot">&lt;-</span> campaign_date_outcomes_comp_4_text_pool[[<span class="dv">5</span>,<span class="dv">5</span>]]<span class="sc">/</span>campaign_date_outcomes_comp_4_text_pool[[<span class="dv">1</span>,<span class="dv">5</span>]]</span>
<span id="cb65-1088"><a href="#cb65-1088" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1089"><a href="#cb65-1089" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1090"><a href="#cb65-1090" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1091"><a href="#cb65-1091" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1092"><a href="#cb65-1092" aria-hidden="true" tabindex="-1"></a>Above, pooling across all audiences (except Retargeting) and weighted</span>
<span id="cb65-1093"><a href="#cb65-1093" aria-hidden="true" tabindex="-1"></a>towards 'those people in each audience who got each message', we see the</span>
<span id="cb65-1094"><a href="#cb65-1094" aria-hidden="true" tabindex="-1"></a>"<span class="in">`r campaign_date_outcomes_comp_4_text_pool %&gt;% .[[1,1]]`</span>" message</span>
<span id="cb65-1095"><a href="#cb65-1095" aria-hidden="true" tabindex="-1"></a>performed best per dollar, closely followed by the</span>
<span id="cb65-1096"><a href="#cb65-1096" aria-hidden="true" tabindex="-1"></a>"<span class="in">`r campaign_date_outcomes_comp_4_text_pool %&gt;% .[[2,1]]`</span>" and</span>
<span id="cb65-1097"><a href="#cb65-1097" aria-hidden="true" tabindex="-1"></a>"<span class="in">`r campaign_date_outcomes_comp_4_text_pool %&gt;% .[[3,1]]`</span>" messages.</span>
<span id="cb65-1098"><a href="#cb65-1098" aria-hidden="true" tabindex="-1"></a>"<span class="in">`r campaign_date_outcomes_comp_4_text_pool %&gt;% .[[4,1]]`</span>" did</span>
<span id="cb65-1099"><a href="#cb65-1099" aria-hidden="true" tabindex="-1"></a>substantially worse, and</span>
<span id="cb65-1100"><a href="#cb65-1100" aria-hidden="true" tabindex="-1"></a>"<span class="in">`r campaign_date_outcomes_comp_4_text_pool %&gt;% .[[5,1]]`</span>" the worst,</span>
<span id="cb65-1101"><a href="#cb65-1101" aria-hidden="true" tabindex="-1"></a>costing <span class="in">`r op(worst_to_best)`</span> times as much as the best message.</span>
<span id="cb65-1102"><a href="#cb65-1102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1103"><a href="#cb65-1103" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb65-1104"><a href="#cb65-1104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1105"><a href="#cb65-1105" aria-hidden="true" tabindex="-1"></a>**Next, we consider these messages by audience, for this trial.**</span>
<span id="cb65-1106"><a href="#cb65-1106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1107"><a href="#cb65-1107" aria-hidden="true" tabindex="-1"></a>::: column-body-outset</span>
<span id="cb65-1108"><a href="#cb65-1108" aria-hidden="true" tabindex="-1"></a><span class="in">```{r campaign_date_outcomes_comp_4_text}</span></span>
<span id="cb65-1109"><a href="#cb65-1109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1110"><a href="#cb65-1110" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_text <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-1111"><a href="#cb65-1111" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(starts<span class="sc">==</span> <span class="st">"2022-01-07"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1112"><a href="#cb65-1112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(text_treat, audience) <span class="sc">%&gt;%</span></span>
<span id="cb65-1113"><a href="#cb65-1113" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1114"><a href="#cb65-1114" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb65-1115"><a href="#cb65-1115" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1116"><a href="#cb65-1116" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(audience, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1117"><a href="#cb65-1117" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(audience, <span class="fu">everything</span>())</span>
<span id="cb65-1118"><a href="#cb65-1118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1119"><a href="#cb65-1119" aria-hidden="true" tabindex="-1"></a>campaign_date_outcomes_comp_4_text <span class="sc">%&gt;%</span> </span>
<span id="cb65-1120"><a href="#cb65-1120" aria-hidden="true" tabindex="-1"></a>        DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Tests 4: Performance by audience and text; blank cells indicate NA/no results"</span>, <span class="at">filter=</span><span class="st">"top"</span>,  <span class="at">rownames=</span> <span class="cn">FALSE</span>) </span>
<span id="cb65-1121"><a href="#cb65-1121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1122"><a href="#cb65-1122" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1123"><a href="#cb65-1123" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-1124"><a href="#cb65-1124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1125"><a href="#cb65-1125" aria-hidden="true" tabindex="-1"></a>Some messages show strong heterogeneity across audiences, while others</span>
<span id="cb65-1126"><a href="#cb65-1126" aria-hidden="true" tabindex="-1"></a>were fairly consistent. The "Only 3% " message does well on the Animal</span>
<span id="cb65-1127"><a href="#cb65-1127" aria-hidden="true" tabindex="-1"></a>and Philanthropy audiences, OK on the General audience, but does very</span>
<span id="cb65-1128"><a href="#cb65-1128" aria-hidden="true" tabindex="-1"></a>poorly on the other audiences. The second best overall message, "100x</span>
<span id="cb65-1129"><a href="#cb65-1129" aria-hidden="true" tabindex="-1"></a>impact" does so/so on all audiences. "Learn" shows some variation, doing</span>
<span id="cb65-1130"><a href="#cb65-1130" aria-hidden="true" tabindex="-1"></a>pretty well on Poverty and Lookalike audiences, OK on Animal audiences,</span>
<span id="cb65-1131"><a href="#cb65-1131" aria-hidden="true" tabindex="-1"></a>but poorly on the General, Philanthropy and Climate audiences. The</span>
<span id="cb65-1132"><a href="#cb65-1132" aria-hidden="true" tabindex="-1"></a>"6000+ people" and "Bigger Difference" messages perform poorly on nearly</span>
<span id="cb65-1133"><a href="#cb65-1133" aria-hidden="true" tabindex="-1"></a>all audiences, doing at best-OK on a few audiences. (Use the above</span>
<span id="cb65-1134"><a href="#cb65-1134" aria-hidden="true" tabindex="-1"></a>'filter' functions to make these comparisons clear.)</span>
<span id="cb65-1135"><a href="#cb65-1135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1136"><a href="#cb65-1136" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Other 'outcome by group' comparisons across several trials {.unnumbered}</span></span>
<span id="cb65-1137"><a href="#cb65-1137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1138"><a href="#cb65-1138" aria-hidden="true" tabindex="-1"></a>Next, we show the results by age and gender. As our age filters changed</span>
<span id="cb65-1139"><a href="#cb65-1139" aria-hidden="true" tabindex="-1"></a>over time, we do this first for the earlier trials, when all age groups</span>
<span id="cb65-1140"><a href="#cb65-1140" aria-hidden="true" tabindex="-1"></a>were included.</span>
<span id="cb65-1141"><a href="#cb65-1141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1142"><a href="#cb65-1142" aria-hidden="true" tabindex="-1"></a><span class="in">```{r age_gender_outcomes}</span></span>
<span id="cb65-1143"><a href="#cb65-1143" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-1144"><a href="#cb65-1144" aria-hidden="true" tabindex="-1"></a>  age_outcomes_pre_12_09 <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-1145"><a href="#cb65-1145" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb65-1146"><a href="#cb65-1146" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">500</span>, starts<span class="sc">&lt;=</span> <span class="st">"2021-12-08"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1147"><a href="#cb65-1147" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb65-1148"><a href="#cb65-1148" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Age: Campaigns starting on or before Dec 8 2021"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1149"><a href="#cb65-1149" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb65-1150"><a href="#cb65-1150" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1151"><a href="#cb65-1151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1152"><a href="#cb65-1152" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1153"><a href="#cb65-1153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1154"><a href="#cb65-1154" aria-hidden="true" tabindex="-1"></a>While <span class="ot">[^gwwc_gg-18]</span> older age groups yield more results per impression,</span>
<span id="cb65-1155"><a href="#cb65-1155" aria-hidden="true" tabindex="-1"></a>they are also more expensive. This approximately balances out, although</span>
<span id="cb65-1156"><a href="#cb65-1156" aria-hidden="true" tabindex="-1"></a>the age 18-24 group is particularly costly per result.</span>
<span id="cb65-1157"><a href="#cb65-1157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1158"><a href="#cb65-1158" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-18]: </span>this text is 'hard-coded' on 4 Aug 2022 ... if data</span>
<span id="cb65-1159"><a href="#cb65-1159" aria-hidden="true" tabindex="-1"></a>    changes we need to change the text</span>
<span id="cb65-1160"><a href="#cb65-1160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1161"><a href="#cb65-1161" aria-hidden="true" tabindex="-1"></a>In later trials we only targeted the younger age groups; the costs per</span>
<span id="cb65-1162"><a href="#cb65-1162" aria-hidden="true" tabindex="-1"></a>result were similar to earlier trials , and fairly close among the</span>
<span id="cb65-1163"><a href="#cb65-1163" aria-hidden="true" tabindex="-1"></a>younger age groups (see fold).</span>
<span id="cb65-1164"><a href="#cb65-1164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1165"><a href="#cb65-1165" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-1166"><a href="#cb65-1166" aria-hidden="true" tabindex="-1"></a><span class="fu">## By age, later trials</span></span>
<span id="cb65-1167"><a href="#cb65-1167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1168"><a href="#cb65-1168" aria-hidden="true" tabindex="-1"></a><span class="in">```{r age_outcomes_post_12_09}</span></span>
<span id="cb65-1169"><a href="#cb65-1169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1170"><a href="#cb65-1170" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-1171"><a href="#cb65-1171" aria-hidden="true" tabindex="-1"></a>  age_outcomes_post_12_09 <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-1172"><a href="#cb65-1172" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb65-1173"><a href="#cb65-1173" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(reach<span class="sc">&gt;</span><span class="dv">500</span>, starts <span class="sc">&gt;</span> <span class="st">"2021-12-08"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1174"><a href="#cb65-1174" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb65-1175"><a href="#cb65-1175" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Age: Campaigns starting on or after Dec 23 2021"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1176"><a href="#cb65-1176" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb65-1177"><a href="#cb65-1177" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1178"><a href="#cb65-1178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1179"><a href="#cb65-1179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1180"><a href="#cb65-1180" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1181"><a href="#cb65-1181" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-1182"><a href="#cb65-1182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1183"><a href="#cb65-1183" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-1184"><a href="#cb65-1184" aria-hidden="true" tabindex="-1"></a><span class="fu">## Note on change in table style</span></span>
<span id="cb65-1185"><a href="#cb65-1185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1186"><a href="#cb65-1186" aria-hidden="true" tabindex="-1"></a>The tables above make it clear how the relevant 'per dollar' and 'per</span>
<span id="cb65-1187"><a href="#cb65-1187" aria-hidden="true" tabindex="-1"></a>unique impression results are calculated. In the following tables we</span>
<span id="cb65-1188"><a href="#cb65-1188" aria-hidden="true" tabindex="-1"></a>present slightly fewer columns, for readability.</span>
<span id="cb65-1189"><a href="#cb65-1189" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-1190"><a href="#cb65-1190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1191"><a href="#cb65-1191" aria-hidden="true" tabindex="-1"></a>Women (or those identifying as female) gave their emails at a somewhat</span>
<span id="cb65-1192"><a href="#cb65-1192" aria-hidden="true" tabindex="-1"></a>higher rate overall, but their (unique) impressions were a bit more</span>
<span id="cb65-1193"><a href="#cb65-1193" aria-hidden="true" tabindex="-1"></a>costly. Thus, 'cost per result' roughly balanced out. Nonetheless, this</span>
<span id="cb65-1194"><a href="#cb65-1194" aria-hidden="true" tabindex="-1"></a>might be somewhat informative for other contexts; wher costs are equal,</span>
<span id="cb65-1195"><a href="#cb65-1195" aria-hidden="true" tabindex="-1"></a>women might be a particularly promising audience.</span>
<span id="cb65-1196"><a href="#cb65-1196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1199"><a href="#cb65-1199" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-1200"><a href="#cb65-1200" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-1201"><a href="#cb65-1201" aria-hidden="true" tabindex="-1"></a>  gender_outcomes <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-1202"><a href="#cb65-1202" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(gender) <span class="sc">%&gt;%</span></span>
<span id="cb65-1203"><a href="#cb65-1203" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() <span class="sc">%&gt;%</span></span>
<span id="cb65-1204"><a href="#cb65-1204" aria-hidden="true" tabindex="-1"></a> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1205"><a href="#cb65-1205" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Gender"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1206"><a href="#cb65-1206" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb65-1207"><a href="#cb65-1207" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1208"><a href="#cb65-1208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1209"><a href="#cb65-1209" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1210"><a href="#cb65-1210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1211"><a href="#cb65-1211" aria-hidden="true" tabindex="-1"></a>Next we describe the outcomes by our video treatments, focusing on the</span>
<span id="cb65-1212"><a href="#cb65-1212" aria-hidden="true" tabindex="-1"></a>philanthropy-interested audience only, for comparability.</span>
<span id="cb65-1213"><a href="#cb65-1213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1214"><a href="#cb65-1214" aria-hidden="true" tabindex="-1"></a><span class="in">```{r audience_outcomes}</span></span>
<span id="cb65-1215"><a href="#cb65-1215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1216"><a href="#cb65-1216" aria-hidden="true" tabindex="-1"></a>video_outcomes_phil_0 <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb65-1217"><a href="#cb65-1217" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">==</span><span class="st">"Philanthropy"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1218"><a href="#cb65-1218" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb65-1219"><a href="#cb65-1219" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() </span>
<span id="cb65-1220"><a href="#cb65-1220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1221"><a href="#cb65-1221" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-1222"><a href="#cb65-1222" aria-hidden="true" tabindex="-1"></a>video_outcomes_phil <span class="ot">&lt;-</span> video_outcomes_phil_0 <span class="sc">%&gt;%</span> </span>
<span id="cb65-1223"><a href="#cb65-1223" aria-hidden="true" tabindex="-1"></a>     dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1224"><a href="#cb65-1224" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(video_theme) <span class="sc">%&gt;%</span></span>
<span id="cb65-1225"><a href="#cb65-1225" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by Video theme for 'Philanthropy' audience"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1226"><a href="#cb65-1226" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb65-1227"><a href="#cb65-1227" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1228"><a href="#cb65-1228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1229"><a href="#cb65-1229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1230"><a href="#cb65-1230" aria-hidden="true" tabindex="-1"></a>bot_table <span class="ot">&lt;-</span> <span class="cf">function</span>(df,  outvar, outcol) {</span>
<span id="cb65-1231"><a href="#cb65-1231" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb65-1232"><a href="#cb65-1232" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>({{outvar}}) <span class="sc">%&gt;%</span></span>
<span id="cb65-1233"><a href="#cb65-1233" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>({{outcol}}) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1234"><a href="#cb65-1234" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_if</span>(is.factor, as.character) <span class="sc">%&gt;%</span></span>
<span id="cb65-1235"><a href="#cb65-1235" aria-hidden="true" tabindex="-1"></a>    .[[<span class="dv">1</span>,<span class="dv">1</span>]] </span>
<span id="cb65-1236"><a href="#cb65-1236" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb65-1237"><a href="#cb65-1237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1238"><a href="#cb65-1238" aria-hidden="true" tabindex="-1"></a>top_table <span class="ot">&lt;-</span> <span class="cf">function</span>(df, outcol, outvar) {</span>
<span id="cb65-1239"><a href="#cb65-1239" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb65-1240"><a href="#cb65-1240" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="sc">-</span>{{outvar}}) <span class="sc">%&gt;%</span></span>
<span id="cb65-1241"><a href="#cb65-1241" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>({{outcol}}) <span class="sc">%&gt;%</span></span>
<span id="cb65-1242"><a href="#cb65-1242" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_if</span>(is.factor, as.character) <span class="sc">%&gt;%</span></span>
<span id="cb65-1243"><a href="#cb65-1243" aria-hidden="true" tabindex="-1"></a>    .[[<span class="dv">1</span>,<span class="dv">1</span>]]</span>
<span id="cb65-1244"><a href="#cb65-1244" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb65-1245"><a href="#cb65-1245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1246"><a href="#cb65-1246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1247"><a href="#cb65-1247" aria-hidden="true" tabindex="-1"></a><span class="co"># { ov &lt;- {{outvar}}</span></span>
<span id="cb65-1248"><a href="#cb65-1248" aria-hidden="true" tabindex="-1"></a><span class="co"># ifelse(reverse,</span></span>
<span id="cb65-1249"><a href="#cb65-1249" aria-hidden="true" tabindex="-1"></a><span class="co">#          dplyr::arrange(ov),</span></span>
<span id="cb65-1250"><a href="#cb65-1250" aria-hidden="true" tabindex="-1"></a><span class="co">#    dplyr::arrange(-ov)</span></span>
<span id="cb65-1251"><a href="#cb65-1251" aria-hidden="true" tabindex="-1"></a><span class="co">#   )} %&gt;% </span></span>
<span id="cb65-1252"><a href="#cb65-1252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1253"><a href="#cb65-1253" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb65-1254"><a href="#cb65-1254" aria-hidden="true" tabindex="-1"></a><span class="co">#   dplyr::arrange({{outvar}}),</span></span>
<span id="cb65-1255"><a href="#cb65-1255" aria-hidden="true" tabindex="-1"></a> <span class="co">#         dplyr::arrange(-{{outvar}}))} %&gt;% </span></span>
<span id="cb65-1256"><a href="#cb65-1256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1257"><a href="#cb65-1257" aria-hidden="true" tabindex="-1"></a>top_vid_phil <span class="ot">&lt;-</span> video_outcomes_phil_0 <span class="sc">%&gt;%</span> <span class="fu">bot_table</span>( <span class="at">outvar=</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>, <span class="at">outcol=</span>video_theme)</span>
<span id="cb65-1258"><a href="#cb65-1258" aria-hidden="true" tabindex="-1"></a>bot_vid_phil <span class="ot">&lt;-</span> video_outcomes_phil_0 <span class="sc">%&gt;%</span> <span class="fu">top_table</span>( <span class="at">outvar=</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>, <span class="at">outcol=</span>video_theme)</span>
<span id="cb65-1259"><a href="#cb65-1259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1260"><a href="#cb65-1260" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1261"><a href="#cb65-1261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1262"><a href="#cb65-1262" aria-hidden="true" tabindex="-1"></a>The <span class="in">`r top_vid_phil`</span> video performed particularly well on the</span>
<span id="cb65-1263"><a href="#cb65-1263" aria-hidden="true" tabindex="-1"></a>philanthropy-interested audience, while "<span class="in">`r bot_vid_phil`</span>" performed the</span>
<span id="cb65-1264"><a href="#cb65-1264" aria-hidden="true" tabindex="-1"></a>worst.<span class="ot">[^gwwc_gg-19]</span></span>
<span id="cb65-1265"><a href="#cb65-1265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1266"><a href="#cb65-1266" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-19]: </span>Tech note: the video names in the previous sentence are</span>
<span id="cb65-1267"><a href="#cb65-1267" aria-hidden="true" tabindex="-1"></a>    soft-coded, i.e., inline code; see the previous chunk where we</span>
<span id="cb65-1268"><a href="#cb65-1268" aria-hidden="true" tabindex="-1"></a>    identify the <span class="in">`top_vid_phil`</span> and <span class="in">`bot_vid_phil`</span>.</span>
<span id="cb65-1269"><a href="#cb65-1269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1270"><a href="#cb65-1270" aria-hidden="true" tabindex="-1"></a>Next, we compare the text treatments for the later campaigns only. The</span>
<span id="cb65-1271"><a href="#cb65-1271" aria-hidden="true" tabindex="-1"></a>earlier and later campaigns had a slightly different set of texts;</span>
<span id="cb65-1272"><a href="#cb65-1272" aria-hidden="true" tabindex="-1"></a>combining across these indeed risks confounding multiple dimensions.</span>
<span id="cb65-1273"><a href="#cb65-1273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1276"><a href="#cb65-1276" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-1277"><a href="#cb65-1277" aria-hidden="true" tabindex="-1"></a>outcomes_by_text <span class="ot">&lt;-</span> gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-1278"><a href="#cb65-1278" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(campaign_name, <span class="st">"factual|branded"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb65-1279"><a href="#cb65-1279" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(text_treat) <span class="sc">%&gt;%</span></span>
<span id="cb65-1280"><a href="#cb65-1280" aria-hidden="true" tabindex="-1"></a>    <span class="fu">base_results_sum</span>() </span>
<span id="cb65-1281"><a href="#cb65-1281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1282"><a href="#cb65-1282" aria-hidden="true" tabindex="-1"></a>outcomes_by_text <span class="sc">%&gt;%</span>   </span>
<span id="cb65-1283"><a href="#cb65-1283" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1284"><a href="#cb65-1284" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable</span>(<span class="at">caption =</span> <span class="st">"Results by text; later campaigns"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1285"><a href="#cb65-1285" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.kable_styling</span>()</span>
<span id="cb65-1286"><a href="#cb65-1286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1287"><a href="#cb65-1287" aria-hidden="true" tabindex="-1"></a>top_text_later <span class="ot">&lt;-</span> outcomes_by_text <span class="sc">%&gt;%</span> <span class="fu">bot_table</span>( <span class="at">outvar=</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>, <span class="at">outcol=</span>text_treat)</span>
<span id="cb65-1288"><a href="#cb65-1288" aria-hidden="true" tabindex="-1"></a>bot_text_later <span class="ot">&lt;-</span> outcomes_by_text <span class="sc">%&gt;%</span> <span class="fu">top_table</span>( <span class="at">outvar=</span><span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>, <span class="at">outcol=</span>text_treat)</span>
<span id="cb65-1289"><a href="#cb65-1289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1290"><a href="#cb65-1290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1291"><a href="#cb65-1291" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1292"><a href="#cb65-1292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1293"><a href="#cb65-1293" aria-hidden="true" tabindex="-1"></a>The "<span class="in">`r top_text_later`</span>" message performed particularly well on a</span>
<span id="cb65-1294"><a href="#cb65-1294" aria-hidden="true" tabindex="-1"></a>cost-per-result basis, while <span class="in">`r bot_text_later`</span> performed the worst.</span>
<span id="cb65-1295"><a href="#cb65-1295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1296"><a href="#cb65-1296" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb65-1297"><a href="#cb65-1297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1298"><a href="#cb65-1298" aria-hidden="true" tabindex="-1"></a>Finally, we consider results by audience, focusing on the non-cause and</span>
<span id="cb65-1299"><a href="#cb65-1299" aria-hidden="true" tabindex="-1"></a>cause treatments separately, for comparability.</span>
<span id="cb65-1300"><a href="#cb65-1300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1301"><a href="#cb65-1301" aria-hidden="true" tabindex="-1"></a>::: column-body-outset</span>
<span id="cb65-1304"><a href="#cb65-1304" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-1305"><a href="#cb65-1305" aria-hidden="true" tabindex="-1"></a>audience_outcomes_all <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb65-1306"><a href="#cb65-1306" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span> <span class="sc">&amp;</span> audience<span class="sc">!=</span><span class="st">"General audience"</span>)  <span class="sc">%&gt;%</span> <span class="co">#latter filter because they were only in the final trial</span></span>
<span id="cb65-1307"><a href="#cb65-1307" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"All"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1308"><a href="#cb65-1308" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, audience) <span class="sc">%&gt;%</span></span>
<span id="cb65-1309"><a href="#cb65-1309" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb65-1310"><a href="#cb65-1310" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1311"><a href="#cb65-1311" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>)</span>
<span id="cb65-1312"><a href="#cb65-1312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1313"><a href="#cb65-1313" aria-hidden="true" tabindex="-1"></a>audience_outcomes_vt <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb65-1314"><a href="#cb65-1314" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span> <span class="sc">&amp;</span> audience<span class="sc">!=</span><span class="st">"General audience"</span>)  <span class="sc">%&gt;%</span> <span class="co">#latter filter because they were only in the final trial</span></span>
<span id="cb65-1315"><a href="#cb65-1315" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">if_else</span>(<span class="fu">str_det</span>(video_theme, <span class="st">"Factual|factual"</span>), <span class="st">"Non-cause"</span>, <span class="st">"Cause"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1316"><a href="#cb65-1316" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, audience) <span class="sc">%&gt;%</span></span>
<span id="cb65-1317"><a href="#cb65-1317" aria-hidden="true" tabindex="-1"></a>    base_results_sum <span class="sc">%&gt;%</span></span>
<span id="cb65-1318"><a href="#cb65-1318" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Cost, <span class="sc">-</span><span class="st">`</span><span class="at">Results</span><span class="st">`</span>, <span class="sc">-</span><span class="st">`</span><span class="at">Link clicks</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-1319"><a href="#cb65-1319" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Video type</span><span class="st">`</span>, <span class="st">`</span><span class="at">$/ result</span><span class="st">`</span>)</span>
<span id="cb65-1320"><a href="#cb65-1320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1321"><a href="#cb65-1321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1322"><a href="#cb65-1322" aria-hidden="true" tabindex="-1"></a>audience_outcomes_vt_all <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(audience_outcomes_all, audience_outcomes_vt)</span>
<span id="cb65-1323"><a href="#cb65-1323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1324"><a href="#cb65-1324" aria-hidden="true" tabindex="-1"></a>audience_outcomes_vt_all <span class="sc">%&gt;%</span></span>
<span id="cb65-1325"><a href="#cb65-1325" aria-hidden="true" tabindex="-1"></a>    DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Results by audience; cause vs non-cause (and overall)"</span>,  <span class="at">filter=</span><span class="st">"top"</span>,  <span class="at">rownames=</span> <span class="cn">FALSE</span>)</span>
<span id="cb65-1326"><a href="#cb65-1326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1327"><a href="#cb65-1327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1328"><a href="#cb65-1328" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1329"><a href="#cb65-1329" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-1330"><a href="#cb65-1330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1331"><a href="#cb65-1331" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-1332"><a href="#cb65-1332" aria-hidden="true" tabindex="-1"></a><span class="fu">## Important caveat: bias from divergent delivery here</span></span>
<span id="cb65-1333"><a href="#cb65-1333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1334"><a href="#cb65-1334" aria-hidden="true" tabindex="-1"></a>The above table is somewhat misleading because of the [divergent</span>
<span id="cb65-1335"><a href="#cb65-1335" aria-hidden="true" tabindex="-1"></a>delivery](https://effective-giving-marketing.gitbook.io/untitled/methodological-discussion/splits-randomization/facebook-split-testing-etc#facebook-trials-divergent-delivery-greater-than-limited-inference)</span>
<span id="cb65-1336"><a href="#cb65-1336" aria-hidden="true" tabindex="-1"></a>issue. Here, the Global Poverty audience seemed to have done well with</span>
<span id="cb65-1337"><a href="#cb65-1337" aria-hidden="true" tabindex="-1"></a>videos targeting their oewn cause. However, in each campaign Facebook</span>
<span id="cb65-1338"><a href="#cb65-1338" aria-hidden="true" tabindex="-1"></a>serves videos less to audiences when they perform poorly on these</span>
<span id="cb65-1339"><a href="#cb65-1339" aria-hidden="true" tabindex="-1"></a>videos. And in the most comparable (4th) campaign, this combination did</span>
<span id="cb65-1340"><a href="#cb65-1340" aria-hidden="true" tabindex="-1"></a>so poorly that FB seems to have not administered it much, which makes it</span>
<span id="cb65-1341"><a href="#cb65-1341" aria-hidden="true" tabindex="-1"></a>not count towards the overall total!</span>
<span id="cb65-1342"><a href="#cb65-1342" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-1343"><a href="#cb65-1343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1344"><a href="#cb65-1344" aria-hidden="true" tabindex="-1"></a><span class="fu">## Modeling and inference: Bayesian Logistic regressions and CIs</span></span>
<span id="cb65-1345"><a href="#cb65-1345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1346"><a href="#cb65-1346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1347"><a href="#cb65-1347" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-1348"><a href="#cb65-1348" aria-hidden="true" tabindex="-1"></a><span class="fu">## See discussion of this and other modeling and simulation approaches,  </span></span>
<span id="cb65-1349"><a href="#cb65-1349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1350"><a href="#cb65-1350" aria-hidden="true" tabindex="-1"></a>Moved to separate file <span class="in">`modeling_fb_discussion.qmd`</span>, publicly hosted <span class="co">[</span><span class="ot">here</span><span class="co">](https://modeling-fb-gwwc-discussion.netlify.app/)</span>]</span>
<span id="cb65-1351"><a href="#cb65-1351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1352"><a href="#cb65-1352" aria-hidden="true" tabindex="-1"></a>::: </span>
<span id="cb65-1353"><a href="#cb65-1353" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-20]: </span>This comes from Jamie's work in <span class="in">`fb ad analysis.R`</span></span>
<span id="cb65-1354"><a href="#cb65-1354" aria-hidden="true" tabindex="-1"></a>    [google drive</span>
<span id="cb65-1355"><a href="#cb65-1355" aria-hidden="true" tabindex="-1"></a>    link](https://drive.google.com/file/d/1t_dySvC-GIQcSY2hJw7rfofuv15Qlg0s/view?usp=sharing)</span>
<span id="cb65-1356"><a href="#cb65-1356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1357"><a href="#cb65-1357" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb65-1358"><a href="#cb65-1358" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: packages</span></span>
<span id="cb65-1359"><a href="#cb65-1359" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Load tidy Bayes packages"</span></span>
<span id="cb65-1360"><a href="#cb65-1360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1361"><a href="#cb65-1361" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb65-1362"><a href="#cb65-1362" aria-hidden="true" tabindex="-1"></a><span class="co">#p_load(brms, install=FALSE)</span></span>
<span id="cb65-1363"><a href="#cb65-1363" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(brms)</span>
<span id="cb65-1364"><a href="#cb65-1364" aria-hidden="true" tabindex="-1"></a><span class="co">#p_load(tidybayes, install=FALSE)</span></span>
<span id="cb65-1365"><a href="#cb65-1365" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidybayes) <span class="co">#integrate Bayesian modeling into a 'tidy data + ggplot' workflow</span></span>
<span id="cb65-1366"><a href="#cb65-1366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1367"><a href="#cb65-1367" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1368"><a href="#cb65-1368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1371"><a href="#cb65-1371" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-1372"><a href="#cb65-1372" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: sum_results_collapse</span></span>
<span id="cb65-1373"><a href="#cb65-1373" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Summing outcomes by breakdowns of interest, for use in Bayesian modeling"</span></span>
<span id="cb65-1374"><a href="#cb65-1374" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb65-1375"><a href="#cb65-1375" aria-hidden="true" tabindex="-1"></a>sum_results <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb65-1376"><a href="#cb65-1376" aria-hidden="true" tabindex="-1"></a>    df <span class="sc">%&gt;%</span></span>
<span id="cb65-1377"><a href="#cb65-1377" aria-hidden="true" tabindex="-1"></a>     <span class="fu">summarise</span>(</span>
<span id="cb65-1378"><a href="#cb65-1378" aria-hidden="true" tabindex="-1"></a>    <span class="at">results =</span> <span class="fu">sum</span>(results, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb65-1379"><a href="#cb65-1379" aria-hidden="true" tabindex="-1"></a>    <span class="at">spend =</span> <span class="fu">sum</span>(amount_spent_usd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb65-1380"><a href="#cb65-1380" aria-hidden="true" tabindex="-1"></a>    <span class="at">clicks =</span> <span class="fu">sum</span>(link_clicks, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb65-1381"><a href="#cb65-1381" aria-hidden="true" tabindex="-1"></a>    <span class="at">impressions =</span> <span class="fu">sum</span>(impressions, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb65-1382"><a href="#cb65-1382" aria-hidden="true" tabindex="-1"></a>    <span class="at">reach =</span> <span class="fu">sum</span>(reach, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb65-1383"><a href="#cb65-1383" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb65-1384"><a href="#cb65-1384" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb65-1385"><a href="#cb65-1385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1386"><a href="#cb65-1386" aria-hidden="true" tabindex="-1"></a><span class="co"># collapse into the categories of interest</span></span>
<span id="cb65-1387"><a href="#cb65-1387" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns_col <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb65-1388"><a href="#cb65-1388" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(video_theme, audience) <span class="sc">%&gt;%</span></span>
<span id="cb65-1389"><a href="#cb65-1389" aria-hidden="true" tabindex="-1"></a>  <span class="co">#group_by(video_theme, audience, starts) %&gt;%</span></span>
<span id="cb65-1390"><a href="#cb65-1390" aria-hidden="true" tabindex="-1"></a>sum_results</span>
<span id="cb65-1391"><a href="#cb65-1391" aria-hidden="true" tabindex="-1"></a><span class="co">#%&gt;%   mutate(starts = as.factor(starts))</span></span>
<span id="cb65-1392"><a href="#cb65-1392" aria-hidden="true" tabindex="-1"></a><span class="co">#rem: we are just summing outcomes, so no weights are needed here</span></span>
<span id="cb65-1393"><a href="#cb65-1393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1394"><a href="#cb65-1394" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns_col_mix <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb65-1395"><a href="#cb65-1395" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(video_theme, audience, starts) <span class="sc">%&gt;%</span></span>
<span id="cb65-1396"><a href="#cb65-1396" aria-hidden="true" tabindex="-1"></a>  <span class="co">#group_by(video_theme, audience, starts) %&gt;%</span></span>
<span id="cb65-1397"><a href="#cb65-1397" aria-hidden="true" tabindex="-1"></a>sum_results</span>
<span id="cb65-1398"><a href="#cb65-1398" aria-hidden="true" tabindex="-1"></a><span class="co">#%&gt;%   mutate(starts = as.factor(starts))</span></span>
<span id="cb65-1399"><a href="#cb65-1399" aria-hidden="true" tabindex="-1"></a><span class="co">#rem: we are just summing outcomes, so no weights are needed here</span></span>
<span id="cb65-1400"><a href="#cb65-1400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1401"><a href="#cb65-1401" aria-hidden="true" tabindex="-1"></a><span class="co"># collapse into the categories of interest</span></span>
<span id="cb65-1402"><a href="#cb65-1402" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_text_col <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-1403"><a href="#cb65-1403" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-1404"><a href="#cb65-1404" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(text_treat, audience) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1405"><a href="#cb65-1405" aria-hidden="true" tabindex="-1"></a>sum_results</span>
<span id="cb65-1406"><a href="#cb65-1406" aria-hidden="true" tabindex="-1"></a><span class="co">#%&gt;%   mutate(starts = as.factor(starts))</span></span>
<span id="cb65-1407"><a href="#cb65-1407" aria-hidden="true" tabindex="-1"></a><span class="co">#rem: we are just summing outcomes, so no weights are needed here</span></span>
<span id="cb65-1408"><a href="#cb65-1408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1409"><a href="#cb65-1409" aria-hidden="true" tabindex="-1"></a>gg_campaign_by_text_only <span class="ot">&lt;-</span>  gg_campaign_by_ad_by_text_age_gender <span class="sc">%&gt;%</span></span>
<span id="cb65-1410"><a href="#cb65-1410" aria-hidden="true" tabindex="-1"></a>   <span class="fu">uncount</span>(<span class="at">weights =</span> .<span class="sc">$</span>reach) <span class="sc">%&gt;%</span></span>
<span id="cb65-1411"><a href="#cb65-1411" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(text_treat) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1412"><a href="#cb65-1412" aria-hidden="true" tabindex="-1"></a>sum_results</span>
<span id="cb65-1413"><a href="#cb65-1413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1414"><a href="#cb65-1414" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns_col_mix <span class="ot">&lt;-</span> gg_video_breakdowns <span class="sc">%&gt;%</span></span>
<span id="cb65-1415"><a href="#cb65-1415" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(video_theme, audience, starts) <span class="sc">%&gt;%</span></span>
<span id="cb65-1416"><a href="#cb65-1416" aria-hidden="true" tabindex="-1"></a>  <span class="co">#group_by(video_theme, audience, starts) %&gt;%</span></span>
<span id="cb65-1417"><a href="#cb65-1417" aria-hidden="true" tabindex="-1"></a>sum_results</span>
<span id="cb65-1418"><a href="#cb65-1418" aria-hidden="true" tabindex="-1"></a><span class="co">#%&gt;%   mutate(starts = as.factor(starts))</span></span>
<span id="cb65-1419"><a href="#cb65-1419" aria-hidden="true" tabindex="-1"></a><span class="co">#rem: we are just summing outcomes, so no weights are needed here</span></span>
<span id="cb65-1420"><a href="#cb65-1420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1421"><a href="#cb65-1421" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1422"><a href="#cb65-1422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1423"><a href="#cb65-1423" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-1424"><a href="#cb65-1424" aria-hidden="true" tabindex="-1"></a><span class="fu">## Examples of these summed breakdowns, to be used in Bayesian modeling</span></span>
<span id="cb65-1425"><a href="#cb65-1425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1428"><a href="#cb65-1428" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-1429"><a href="#cb65-1429" aria-hidden="true" tabindex="-1"></a>gg_video_breakdowns_col <span class="sc">%&gt;%</span> </span>
<span id="cb65-1430"><a href="#cb65-1430" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">spend =</span> <span class="fu">round</span>(spend,<span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1431"><a href="#cb65-1431" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>()</span>
<span id="cb65-1432"><a href="#cb65-1432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1433"><a href="#cb65-1433" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1434"><a href="#cb65-1434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1435"><a href="#cb65-1435" aria-hidden="true" tabindex="-1"></a>::: </span>
<span id="cb65-1436"><a href="#cb65-1436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1437"><a href="#cb65-1437" aria-hidden="true" tabindex="-1"></a>Next, we compute and set minimally-informative priors for the click-rates model.</span>
<span id="cb65-1438"><a href="#cb65-1438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1441"><a href="#cb65-1441" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-1442"><a href="#cb65-1442" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: priors_clicks</span></span>
<span id="cb65-1443"><a href="#cb65-1443" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Priors for click rate models"</span></span>
<span id="cb65-1444"><a href="#cb65-1444" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb65-1445"><a href="#cb65-1445" aria-hidden="true" tabindex="-1"></a><span class="co">#helper function to 'make priors'</span></span>
<span id="cb65-1446"><a href="#cb65-1446" aria-hidden="true" tabindex="-1"></a>make_prior_normal <span class="ot">&lt;-</span> <span class="cf">function</span>(mean, sd, ...) {</span>
<span id="cb65-1447"><a href="#cb65-1447" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prior_string</span>(<span class="fu">paste0</span>(<span class="st">"normal("</span>, mean, <span class="st">","</span>, sd, <span class="st">")"</span>), ...)</span>
<span id="cb65-1448"><a href="#cb65-1448" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb65-1449"><a href="#cb65-1449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1450"><a href="#cb65-1450" aria-hidden="true" tabindex="-1"></a>prior_click_per_reach <span class="ot">&lt;-</span> <span class="fl">0.028</span> <span class="co">#based on outside/prior data; see discussion below</span></span>
<span id="cb65-1451"><a href="#cb65-1451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1452"><a href="#cb65-1452" aria-hidden="true" tabindex="-1"></a>prior_intercept_click <span class="ot">&lt;-</span>  <span class="fu">logit</span>(prior_click_per_reach)</span>
<span id="cb65-1453"><a href="#cb65-1453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1454"><a href="#cb65-1454" aria-hidden="true" tabindex="-1"></a>prior_intercept_click_ub <span class="ot">&lt;-</span> <span class="fl">0.15</span> <span class="co">#a 15% click rate seemed the highest conceivable</span></span>
<span id="cb65-1455"><a href="#cb65-1455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1456"><a href="#cb65-1456" aria-hidden="true" tabindex="-1"></a>se_prior_click <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_intercept_click_ub) <span class="sc">-</span> prior_intercept_click)<span class="sc">/</span><span class="fl">1.96</span> <span class="co">#see discussion below</span></span>
<span id="cb65-1457"><a href="#cb65-1457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1458"><a href="#cb65-1458" aria-hidden="true" tabindex="-1"></a>prior_slope_click_ub <span class="ot">&lt;-</span> <span class="fl">0.25</span> <span class="co">#the strongest reasonably-likely impact of a particular add is to increase click rates by 25 percentage points </span></span>
<span id="cb65-1459"><a href="#cb65-1459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1460"><a href="#cb65-1460" aria-hidden="true" tabindex="-1"></a>se_prior_slope_click <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_slope_click_ub) <span class="sc">-</span> prior_intercept_click)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb65-1461"><a href="#cb65-1461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1462"><a href="#cb65-1462" aria-hidden="true" tabindex="-1"></a>prior_click <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb65-1463"><a href="#cb65-1463" aria-hidden="true" tabindex="-1"></a>  <span class="fu">make_prior_normal</span>(prior_intercept_click, se_prior_click, <span class="at">class =</span> <span class="st">"Intercept"</span>),</span>
<span id="cb65-1464"><a href="#cb65-1464" aria-hidden="true" tabindex="-1"></a><span class="fu">make_prior_normal</span>(<span class="dv">0</span>, se_prior_slope_click, <span class="at">class =</span> <span class="st">"b"</span>)</span>
<span id="cb65-1465"><a href="#cb65-1465" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1466"><a href="#cb65-1466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1467"><a href="#cb65-1467" aria-hidden="true" tabindex="-1"></a><span class="co">#DR @Jamie: This is a log ratio of probabilities, iirc. Why are we assuming it is normally distributed? </span></span>
<span id="cb65-1468"><a href="#cb65-1468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1469"><a href="#cb65-1469" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1470"><a href="#cb65-1470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1471"><a href="#cb65-1471" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-1472"><a href="#cb65-1472" aria-hidden="true" tabindex="-1"></a><span class="fu">## Determining appropriate priors for click rates - intercept</span></span>
<span id="cb65-1473"><a href="#cb65-1473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1474"><a href="#cb65-1474" aria-hidden="true" tabindex="-1"></a>In the code chunk just above, we define the priors which we use below.</span>
<span id="cb65-1475"><a href="#cb65-1475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1476"><a href="#cb65-1476" aria-hidden="true" tabindex="-1"></a>Where did this come from? It is somewhat ad-hoc, but it is unlikely to</span>
<span id="cb65-1477"><a href="#cb65-1477" aria-hidden="true" tabindex="-1"></a>matter much. Given our very large dataset, we don't expect our results</span>
<span id="cb65-1478"><a href="#cb65-1478" aria-hidden="true" tabindex="-1"></a>to be very sensitive to the priors.</span>
<span id="cb65-1479"><a href="#cb65-1479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1480"><a href="#cb65-1480" aria-hidden="true" tabindex="-1"></a>A <span class="in">`r op(prior_click_per_reach*100)`</span>% click rate (as a share of 'reach')</span>
<span id="cb65-1481"><a href="#cb65-1481" aria-hidden="true" tabindex="-1"></a>seemed like a reasonable mean. This is approximately the rate GWWC saw</span>
<span id="cb65-1482"><a href="#cb65-1482" aria-hidden="true" tabindex="-1"></a>in all of its trials before February 2021, when this trial started.</span>
<span id="cb65-1483"><a href="#cb65-1483" aria-hidden="true" tabindex="-1"></a><span class="in">`logit(prior_click_per_reach)`</span> gives us the intercept associated with</span>
<span id="cb65-1484"><a href="#cb65-1484" aria-hidden="true" tabindex="-1"></a>this prior expected outcome rate.</span>
<span id="cb65-1485"><a href="#cb65-1485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1486"><a href="#cb65-1486" aria-hidden="true" tabindex="-1"></a>The prior on the standard error for the intercept is not based on any</span>
<span id="cb65-1487"><a href="#cb65-1487" aria-hidden="true" tabindex="-1"></a>previous data. We considered 'what baseline rate would we consider to be</span>
<span id="cb65-1488"><a href="#cb65-1488" aria-hidden="true" tabindex="-1"></a>extremely unlikely?', and set the standard deviations to be about half</span>
<span id="cb65-1489"><a href="#cb65-1489" aria-hidden="true" tabindex="-1"></a>of this (recalling that 95% of the area of a normal distribution is</span>
<span id="cb65-1490"><a href="#cb65-1490" aria-hidden="true" tabindex="-1"></a>within 1.96 sd's of the mean). In the positive direction, a rate of 15%</span>
<span id="cb65-1491"><a href="#cb65-1491" aria-hidden="true" tabindex="-1"></a>or more would be very surprising. This would yield a logit intercept of</span>
<span id="cb65-1492"><a href="#cb65-1492" aria-hidden="true" tabindex="-1"></a><span class="in">`logit(prior_intercept_click_ub)`</span> = <span class="in">`r logit(prior_intercept_click_ub)`</span>.</span>
<span id="cb65-1493"><a href="#cb65-1493" aria-hidden="true" tabindex="-1"></a>Differencing this from the prior mean and dividing by two yields our</span>
<span id="cb65-1494"><a href="#cb65-1494" aria-hidden="true" tabindex="-1"></a>chosen prior intercept standard error: <span class="in">`r op(se_prior_click)`</span>; note this</span>
<span id="cb65-1495"><a href="#cb65-1495" aria-hidden="true" tabindex="-1"></a>gives a 95 percent lower-bound of a</span>
<span id="cb65-1496"><a href="#cb65-1496" aria-hidden="true" tabindex="-1"></a><span class="in">`r op(plogis(prior_intercept_click - 1.96*se_prior_click)*100)`</span>% click</span>
<span id="cb65-1497"><a href="#cb65-1497" aria-hidden="true" tabindex="-1"></a>rate.</span>
<span id="cb65-1498"><a href="#cb65-1498" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-1499"><a href="#cb65-1499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1500"><a href="#cb65-1500" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-1501"><a href="#cb65-1501" aria-hidden="true" tabindex="-1"></a><span class="fu">## Determining appropriate priors for click rates - coefficients</span></span>
<span id="cb65-1502"><a href="#cb65-1502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1503"><a href="#cb65-1503" aria-hidden="true" tabindex="-1"></a>In determining priors for the slopes (adjustments for different groups),</span>
<span id="cb65-1504"><a href="#cb65-1504" aria-hidden="true" tabindex="-1"></a>we start with a mean expected slope of 0; this is consistent with a sort</span>
<span id="cb65-1505"><a href="#cb65-1505" aria-hidden="true" tabindex="-1"></a>of 'unbiased' prior, not loading the dice in either direction, and also</span>
<span id="cb65-1506"><a href="#cb65-1506" aria-hidden="true" tabindex="-1"></a>most adaptable to a range of groups we might consider. We again</span>
<span id="cb65-1507"><a href="#cb65-1507" aria-hidden="true" tabindex="-1"></a>considered 'what mean click rates would be very surprising'. A click</span>
<span id="cb65-1508"><a href="#cb65-1508" aria-hidden="true" tabindex="-1"></a>rate of 25% of more for any targeted subgroup or treatment would be very</span>
<span id="cb65-1509"><a href="#cb65-1509" aria-hidden="true" tabindex="-1"></a>unexpected -- this seems conservative. By similar calculations above,</span>
<span id="cb65-1510"><a href="#cb65-1510" aria-hidden="true" tabindex="-1"></a>this yields <span class="in">`se_prior_slope_click`</span> = <span class="in">`r se_prior_slope_click`</span>.</span>
<span id="cb65-1511"><a href="#cb65-1511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1512"><a href="#cb65-1512" aria-hidden="true" tabindex="-1"></a>Could we instead do this considering reasonable 'proportional</span>
<span id="cb65-1513"><a href="#cb65-1513" aria-hidden="true" tabindex="-1"></a>differences in rates'? We will consider this for future work (possible</span>
<span id="cb65-1514"><a href="#cb65-1514" aria-hidden="true" tabindex="-1"></a>challenge: it may interact with the intercepts).</span>
<span id="cb65-1515"><a href="#cb65-1515" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-1516"><a href="#cb65-1516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1517"><a href="#cb65-1517" aria-hidden="true" tabindex="-1"></a>Next, we compute and set minimally informative priors for the *results*</span>
<span id="cb65-1518"><a href="#cb65-1518" aria-hidden="true" tabindex="-1"></a>model.</span>
<span id="cb65-1519"><a href="#cb65-1519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1520"><a href="#cb65-1520" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb65-1521"><a href="#cb65-1521" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: priors_results</span></span>
<span id="cb65-1522"><a href="#cb65-1522" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Priors: results model"</span></span>
<span id="cb65-1523"><a href="#cb65-1523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1524"><a href="#cb65-1524" aria-hidden="true" tabindex="-1"></a>prior_results_per_click <span class="ot">&lt;-</span> <span class="fl">0.20</span></span>
<span id="cb65-1525"><a href="#cb65-1525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1526"><a href="#cb65-1526" aria-hidden="true" tabindex="-1"></a>prior_intercept_results <span class="ot">&lt;-</span>  <span class="fu">logit</span>(prior_results_per_click)</span>
<span id="cb65-1527"><a href="#cb65-1527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1528"><a href="#cb65-1528" aria-hidden="true" tabindex="-1"></a>prior_intercept_results_ub <span class="ot">&lt;-</span> <span class="fl">0.75</span></span>
<span id="cb65-1529"><a href="#cb65-1529" aria-hidden="true" tabindex="-1"></a>se_prior_results <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_intercept_results_ub) <span class="sc">-</span> prior_intercept_results)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb65-1530"><a href="#cb65-1530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1531"><a href="#cb65-1531" aria-hidden="true" tabindex="-1"></a>prior_slope_results_ub <span class="ot">&lt;-</span> <span class="fl">0.85</span></span>
<span id="cb65-1532"><a href="#cb65-1532" aria-hidden="true" tabindex="-1"></a>se_prior_slope_results <span class="ot">&lt;-</span> (<span class="fu">logit</span>(prior_slope_results_ub) <span class="sc">-</span> prior_intercept_results)<span class="sc">/</span><span class="fl">1.96</span></span>
<span id="cb65-1533"><a href="#cb65-1533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1534"><a href="#cb65-1534" aria-hidden="true" tabindex="-1"></a>prior_results <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb65-1535"><a href="#cb65-1535" aria-hidden="true" tabindex="-1"></a>  <span class="fu">make_prior_normal</span>(prior_intercept_results, se_prior_results, <span class="at">class =</span> <span class="st">"Intercept"</span>),</span>
<span id="cb65-1536"><a href="#cb65-1536" aria-hidden="true" tabindex="-1"></a><span class="fu">make_prior_normal</span>(<span class="dv">0</span>, se_prior_slope_results, <span class="at">class =</span> <span class="st">"b"</span>)</span>
<span id="cb65-1537"><a href="#cb65-1537" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1538"><a href="#cb65-1538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1539"><a href="#cb65-1539" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1540"><a href="#cb65-1540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1541"><a href="#cb65-1541" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-1542"><a href="#cb65-1542" aria-hidden="true" tabindex="-1"></a><span class="fu">## Determining appropriate priors for results (per click)</span></span>
<span id="cb65-1543"><a href="#cb65-1543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1544"><a href="#cb65-1544" aria-hidden="true" tabindex="-1"></a>See the above discussion folds on priors for clicks for our general</span>
<span id="cb65-1545"><a href="#cb65-1545" aria-hidden="true" tabindex="-1"></a>approach.</span>
<span id="cb65-1546"><a href="#cb65-1546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1547"><a href="#cb65-1547" aria-hidden="true" tabindex="-1"></a>For results per click (RpC), we had very little data or experience to go</span>
<span id="cb65-1548"><a href="#cb65-1548" aria-hidden="true" tabindex="-1"></a>on. The little prior data GWWC had on results per click were from very</span>
<span id="cb65-1549"><a href="#cb65-1549" aria-hidden="true" tabindex="-1"></a>different contexts, e.g., RSVPs for attending events rather than simply</span>
<span id="cb65-1550"><a href="#cb65-1550" aria-hidden="true" tabindex="-1"></a>leaving an email. In those cases results per click are (as we expect,</span>
<span id="cb65-1551"><a href="#cb65-1551" aria-hidden="true" tabindex="-1"></a>are results per click for Facebook ads are in general). However, here</span>
<span id="cb65-1552"><a href="#cb65-1552" aria-hidden="true" tabindex="-1"></a>people are clicking on a call to action like 'Download the Effective</span>
<span id="cb65-1553"><a href="#cb65-1553" aria-hidden="true" tabindex="-1"></a>Giving Guide', directing them to a site where they merely need to leave</span>
<span id="cb65-1554"><a href="#cb65-1554" aria-hidden="true" tabindex="-1"></a>their email to download this guide. Thus, if the clicks are intentional,</span>
<span id="cb65-1555"><a href="#cb65-1555" aria-hidden="true" tabindex="-1"></a>a much higher rate of 'result' seems reasonable. Thus we compromised on</span>
<span id="cb65-1556"><a href="#cb65-1556" aria-hidden="true" tabindex="-1"></a>a <span class="in">`r prior_results_per_click*100`</span>% 'results per click' rate as our</span>
<span id="cb65-1557"><a href="#cb65-1557" aria-hidden="true" tabindex="-1"></a>overall prior mean.</span>
<span id="cb65-1558"><a href="#cb65-1558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1559"><a href="#cb65-1559" aria-hidden="true" tabindex="-1"></a>We would be 'very surprised' (seems 5% likely or less) with an RpC of</span>
<span id="cb65-1560"><a href="#cb65-1560" aria-hidden="true" tabindex="-1"></a>over <span class="in">`r prior_intercept_results_ub*100`</span>% overall or</span>
<span id="cb65-1561"><a href="#cb65-1561" aria-hidden="true" tabindex="-1"></a><span class="in">`r prior_slope_results_ub*100`</span>% for any subgroup -- we derive the</span>
<span id="cb65-1562"><a href="#cb65-1562" aria-hidden="true" tabindex="-1"></a>standard errors of the intercept and slope from these, as for clicks.</span>
<span id="cb65-1563"><a href="#cb65-1563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1564"><a href="#cb65-1564" aria-hidden="true" tabindex="-1"></a>(Note: this implies a 95% CI lower-bound of a</span>
<span id="cb65-1565"><a href="#cb65-1565" aria-hidden="true" tabindex="-1"></a><span class="in">`r op(plogis(prior_intercept_results - 1.96*se_prior_results)*100)`</span>%</span>
<span id="cb65-1566"><a href="#cb65-1566" aria-hidden="true" tabindex="-1"></a>overall RpC rate.)</span>
<span id="cb65-1567"><a href="#cb65-1567" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-1568"><a href="#cb65-1568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1569"><a href="#cb65-1569" aria-hidden="true" tabindex="-1"></a><span class="fu">### Estimating the models {.unnumbered}</span></span>
<span id="cb65-1570"><a href="#cb65-1570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1571"><a href="#cb65-1571" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb65-1572"><a href="#cb65-1572" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb65-1573"><a href="#cb65-1573" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: bayes_model_formulas</span></span>
<span id="cb65-1574"><a href="#cb65-1574" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Creating formulas for Bayes models (I try to automate)"</span></span>
<span id="cb65-1575"><a href="#cb65-1575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1576"><a href="#cb65-1576" aria-hidden="true" tabindex="-1"></a>clicks_per_reach_video_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"clicks | trials(reach) ~ video_theme + audience + video_theme:audience"</span>) <span class="co">#DR: I guess trials(reach) indicates a particular transformation of the outcome to suit the logistic equation.  video_theme:audience is specifying a type of interaction term</span></span>
<span id="cb65-1577"><a href="#cb65-1577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1578"><a href="#cb65-1578" aria-hidden="true" tabindex="-1"></a><span class="co"># +  starts</span></span>
<span id="cb65-1579"><a href="#cb65-1579" aria-hidden="true" tabindex="-1"></a>results_per_click_video_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"results | trials(clicks) ~ video_theme*audience"</span>) <span class="co">#todo: use same interaction notation or explain</span></span>
<span id="cb65-1580"><a href="#cb65-1580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1581"><a href="#cb65-1581" aria-hidden="true" tabindex="-1"></a><span class="co">#  For comparison: a one-step model </span></span>
<span id="cb65-1582"><a href="#cb65-1582" aria-hidden="true" tabindex="-1"></a>results_per_reach_video_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"results | trials(reach) ~ video_theme + audience + (video_theme|audience)"</span>)</span>
<span id="cb65-1583"><a href="#cb65-1583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1584"><a href="#cb65-1584" aria-hidden="true" tabindex="-1"></a><span class="co">#including messages</span></span>
<span id="cb65-1585"><a href="#cb65-1585" aria-hidden="true" tabindex="-1"></a>clicks_per_reach_text_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"clicks | trials(reach) ~ text_treat + audience + text_treat:audience"</span>)</span>
<span id="cb65-1586"><a href="#cb65-1586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1587"><a href="#cb65-1587" aria-hidden="true" tabindex="-1"></a><span class="co"># +  starts</span></span>
<span id="cb65-1588"><a href="#cb65-1588" aria-hidden="true" tabindex="-1"></a>results_per_click_text_aud <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(<span class="st">"results | trials(clicks) ~ text_treat + audience + text_treat:audience"</span>)</span>
<span id="cb65-1589"><a href="#cb65-1589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1590"><a href="#cb65-1590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1591"><a href="#cb65-1591" aria-hidden="true" tabindex="-1"></a><span class="co">#  Fuller, mixed model (todo)</span></span>
<span id="cb65-1592"><a href="#cb65-1592" aria-hidden="true" tabindex="-1"></a><span class="co"># results_per_reach_video_aud_mix &lt;- as.formula("results | trials(reach) ~ (1|starts) + video_theme + audience + (video_theme | audience) + (video_theme:audience)")</span></span>
<span id="cb65-1593"><a href="#cb65-1593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1594"><a href="#cb65-1594" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1595"><a href="#cb65-1595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1596"><a href="#cb65-1596" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb65-1597"><a href="#cb65-1597" aria-hidden="true" tabindex="-1"></a><span class="co"># label: bayes_estimates_vid</span></span>
<span id="cb65-1598"><a href="#cb65-1598" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Estimating models using brm, focus on video treatment dimension"</span></span>
<span id="cb65-1599"><a href="#cb65-1599" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb65-1600"><a href="#cb65-1600" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb65-1601"><a href="#cb65-1601" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb65-1602"><a href="#cb65-1602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1603"><a href="#cb65-1603" aria-hidden="true" tabindex="-1"></a><span class="do">## passing a list</span></span>
<span id="cb65-1604"><a href="#cb65-1604" aria-hidden="true" tabindex="-1"></a><span class="co">#arg.list &lt;- list(init = 0, chains = 4, cores = 4, iter = 2500, warmup = 500, backend = "cmdstanr", seed = 1010, silent=2,  refresh = 0) </span></span>
<span id="cb65-1605"><a href="#cb65-1605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1606"><a href="#cb65-1606" aria-hidden="true" tabindex="-1"></a><span class="co">#note 'do.call' was the start of an attempt to automate</span></span>
<span id="cb65-1607"><a href="#cb65-1607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1608"><a href="#cb65-1608" aria-hidden="true" tabindex="-1"></a>clicks_logit_vid <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb65-1609"><a href="#cb65-1609" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_video_breakdowns_col, </span>
<span id="cb65-1610"><a href="#cb65-1610" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> clicks_per_reach_video_aud,</span>
<span id="cb65-1611"><a href="#cb65-1611" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>), </span>
<span id="cb65-1612"><a href="#cb65-1612" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb65-1613"><a href="#cb65-1613" aria-hidden="true" tabindex="-1"></a>                   <span class="at">prior =</span> prior_click),</span>
<span id="cb65-1614"><a href="#cb65-1614" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,</span>
<span id="cb65-1615"><a href="#cb65-1615" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"clicks_logit_vid.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span></span>
<span id="cb65-1616"><a href="#cb65-1616" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb65-1617"><a href="#cb65-1617" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1618"><a href="#cb65-1618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1619"><a href="#cb65-1619" aria-hidden="true" tabindex="-1"></a>results_logit_vid <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb65-1620"><a href="#cb65-1620" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_video_breakdowns_col, </span>
<span id="cb65-1621"><a href="#cb65-1621" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> results_per_click_video_aud,</span>
<span id="cb65-1622"><a href="#cb65-1622" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb65-1623"><a href="#cb65-1623" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb65-1624"><a href="#cb65-1624" aria-hidden="true" tabindex="-1"></a>                  <span class="at">prior =</span> prior_results),</span>
<span id="cb65-1625"><a href="#cb65-1625" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,                   </span>
<span id="cb65-1626"><a href="#cb65-1626" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)), </span>
<span id="cb65-1627"><a href="#cb65-1627" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"results_logit_vid.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span>)</span>
<span id="cb65-1628"><a href="#cb65-1628" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1629"><a href="#cb65-1629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1630"><a href="#cb65-1630" aria-hidden="true" tabindex="-1"></a>results_per_reach_logit_vid <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb65-1631"><a href="#cb65-1631" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_video_breakdowns_col, </span>
<span id="cb65-1632"><a href="#cb65-1632" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> results_per_reach_video_aud,</span>
<span id="cb65-1633"><a href="#cb65-1633" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb65-1634"><a href="#cb65-1634" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb65-1635"><a href="#cb65-1635" aria-hidden="true" tabindex="-1"></a>                  <span class="at">prior =</span> prior_results),</span>
<span id="cb65-1636"><a href="#cb65-1636" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,                   </span>
<span id="cb65-1637"><a href="#cb65-1637" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)), </span>
<span id="cb65-1638"><a href="#cb65-1638" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"results_per_reach_logit_vid.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span>)</span>
<span id="cb65-1639"><a href="#cb65-1639" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1640"><a href="#cb65-1640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1641"><a href="#cb65-1641" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1642"><a href="#cb65-1642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1643"><a href="#cb65-1643" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb65-1644"><a href="#cb65-1644" aria-hidden="true" tabindex="-1"></a><span class="co"># label: bayes_estimates_text</span></span>
<span id="cb65-1645"><a href="#cb65-1645" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Estimating models using brm, focus on text treatment dimension"</span></span>
<span id="cb65-1646"><a href="#cb65-1646" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb65-1647"><a href="#cb65-1647" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb65-1648"><a href="#cb65-1648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1649"><a href="#cb65-1649" aria-hidden="true" tabindex="-1"></a><span class="co">#for texts:</span></span>
<span id="cb65-1650"><a href="#cb65-1650" aria-hidden="true" tabindex="-1"></a>clicks_logit_text <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb65-1651"><a href="#cb65-1651" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_campaign_by_text_col, </span>
<span id="cb65-1652"><a href="#cb65-1652" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> clicks_per_reach_text_aud,</span>
<span id="cb65-1653"><a href="#cb65-1653" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb65-1654"><a href="#cb65-1654" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb65-1655"><a href="#cb65-1655" aria-hidden="true" tabindex="-1"></a>                   <span class="at">prior =</span> prior_click),</span>
<span id="cb65-1656"><a href="#cb65-1656" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,                   </span>
<span id="cb65-1657"><a href="#cb65-1657" aria-hidden="true" tabindex="-1"></a>   <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)), </span>
<span id="cb65-1658"><a href="#cb65-1658" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"clicks_logit_text.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span>)</span>
<span id="cb65-1659"><a href="#cb65-1659" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1660"><a href="#cb65-1660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1661"><a href="#cb65-1661" aria-hidden="true" tabindex="-1"></a>results_logit_text <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb65-1662"><a href="#cb65-1662" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_campaign_by_text_col, </span>
<span id="cb65-1663"><a href="#cb65-1663" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> results_per_click_text_aud,</span>
<span id="cb65-1664"><a href="#cb65-1664" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb65-1665"><a href="#cb65-1665" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb65-1666"><a href="#cb65-1666" aria-hidden="true" tabindex="-1"></a>                  <span class="at">prior =</span> prior_results),</span>
<span id="cb65-1667"><a href="#cb65-1667" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,                   </span>
<span id="cb65-1668"><a href="#cb65-1668" aria-hidden="true" tabindex="-1"></a>   <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)), </span>
<span id="cb65-1669"><a href="#cb65-1669" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"results_logit_text.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span>)</span>
<span id="cb65-1670"><a href="#cb65-1670" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1671"><a href="#cb65-1671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1672"><a href="#cb65-1672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1673"><a href="#cb65-1673" aria-hidden="true" tabindex="-1"></a><span class="co">#for texts only:</span></span>
<span id="cb65-1674"><a href="#cb65-1674" aria-hidden="true" tabindex="-1"></a>clicks_logit_text_only <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb65-1675"><a href="#cb65-1675" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_campaign_by_text_only, </span>
<span id="cb65-1676"><a href="#cb65-1676" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> clicks <span class="sc">|</span> <span class="fu">trials</span>(reach) <span class="sc">~</span> text_treat,</span>
<span id="cb65-1677"><a href="#cb65-1677" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb65-1678"><a href="#cb65-1678" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb65-1679"><a href="#cb65-1679" aria-hidden="true" tabindex="-1"></a>                   <span class="at">prior =</span> prior_click),</span>
<span id="cb65-1680"><a href="#cb65-1680" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,                   </span>
<span id="cb65-1681"><a href="#cb65-1681" aria-hidden="true" tabindex="-1"></a>   <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)), </span>
<span id="cb65-1682"><a href="#cb65-1682" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"clicks_logit_text_only.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span>)</span>
<span id="cb65-1683"><a href="#cb65-1683" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1684"><a href="#cb65-1684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1685"><a href="#cb65-1685" aria-hidden="true" tabindex="-1"></a>results_logit_text_only <span class="ot">&lt;-</span>  <span class="fu">do.call</span>(<span class="st">"brm"</span>, <span class="fu">c</span>(<span class="fu">list</span>(</span>
<span id="cb65-1686"><a href="#cb65-1686" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> gg_campaign_by_text_only, </span>
<span id="cb65-1687"><a href="#cb65-1687" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> results <span class="sc">|</span> <span class="fu">trials</span>(clicks) <span class="sc">~</span> text_treat,</span>
<span id="cb65-1688"><a href="#cb65-1688" aria-hidden="true" tabindex="-1"></a>                  <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>),</span>
<span id="cb65-1689"><a href="#cb65-1689" aria-hidden="true" tabindex="-1"></a>                  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">adapt_delta =</span> <span class="fl">0.99</span>, <span class="at">max_treedepth =</span> <span class="dv">15</span>),</span>
<span id="cb65-1690"><a href="#cb65-1690" aria-hidden="true" tabindex="-1"></a>                  <span class="at">prior =</span> prior_results),</span>
<span id="cb65-1691"><a href="#cb65-1691" aria-hidden="true" tabindex="-1"></a>                  <span class="at">init =</span> <span class="dv">0</span>, <span class="at">chains =</span> <span class="dv">4</span>, <span class="at">cores =</span> <span class="dv">4</span>, <span class="at">iter =</span> <span class="dv">2500</span>, <span class="at">warmup =</span> <span class="dv">500</span>, <span class="at">backend =</span> <span class="st">"cmdstanr"</span>, <span class="at">seed =</span> <span class="dv">1010</span>, <span class="at">silent=</span><span class="dv">2</span>,  <span class="at">refresh =</span> <span class="dv">0</span>,                   </span>
<span id="cb65-1692"><a href="#cb65-1692" aria-hidden="true" tabindex="-1"></a>   <span class="fu">list</span>(<span class="at">threads =</span> <span class="fu">threading</span>(<span class="dv">8</span>)), </span>
<span id="cb65-1693"><a href="#cb65-1693" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"results_logit_text_only.rds"</span>, <span class="at">file_refit =</span> <span class="st">"on_change"</span>)</span>
<span id="cb65-1694"><a href="#cb65-1694" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1695"><a href="#cb65-1695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1696"><a href="#cb65-1696" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1697"><a href="#cb65-1697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1698"><a href="#cb65-1698" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb65-1699"><a href="#cb65-1699" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;!-- </span></span>
<span id="cb65-1700"><a href="#cb65-1700" aria-hidden="true" tabindex="-1"></a><span class="in">### (TODO) Summarize the model results/coefficients in clean tables here</span></span>
<span id="cb65-1701"><a href="#cb65-1701" aria-hidden="true" tabindex="-1"></a><span class="in">--&gt;</span></span>
<span id="cb65-1702"><a href="#cb65-1702" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1703"><a href="#cb65-1703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1704"><a href="#cb65-1704" aria-hidden="true" tabindex="-1"></a><span class="fu">### Forest plots {.unnumbered}</span></span>
<span id="cb65-1705"><a href="#cb65-1705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1708"><a href="#cb65-1708" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-1709"><a href="#cb65-1709" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: full_crossing_vid</span></span>
<span id="cb65-1710"><a href="#cb65-1710" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "full crossing, posterior expectations"</span></span>
<span id="cb65-1711"><a href="#cb65-1711" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1712"><a href="#cb65-1712" aria-hidden="true" tabindex="-1"></a><span class="co"># posterior expectations:</span></span>
<span id="cb65-1713"><a href="#cb65-1713" aria-hidden="true" tabindex="-1"></a>full_crossing <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb65-1714"><a href="#cb65-1714" aria-hidden="true" tabindex="-1"></a>  <span class="st">"video_theme"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_video_breakdowns_col<span class="sc">$</span>video_theme),</span>
<span id="cb65-1715"><a href="#cb65-1715" aria-hidden="true" tabindex="-1"></a>  <span class="st">"audience"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_video_breakdowns_col<span class="sc">$</span>audience)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1716"><a href="#cb65-1716" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reach =</span> <span class="dv">1</span>, <span class="co">#it is estimating the number of clicks based on the reach</span></span>
<span id="cb65-1717"><a href="#cb65-1717" aria-hidden="true" tabindex="-1"></a>         <span class="at">clicks =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1718"><a href="#cb65-1718" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="sc">!</span>(audience<span class="sc">==</span><span class="st">"Animal"</span> <span class="sc">&amp;</span> (video_theme <span class="sc">==</span> <span class="st">"Climate"</span> <span class="sc">|</span> video_theme <span class="sc">==</span> <span class="st">"Poverty"</span>)))  <span class="sc">%&gt;%</span></span>
<span id="cb65-1719"><a href="#cb65-1719" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(audience<span class="sc">==</span><span class="st">"Climate"</span> <span class="sc">&amp;</span> (video_theme <span class="sc">==</span> <span class="st">"Animal"</span> <span class="sc">|</span> video_theme <span class="sc">==</span> <span class="st">"Poverty"</span>)))  <span class="sc">%&gt;%</span></span>
<span id="cb65-1720"><a href="#cb65-1720" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>(audience<span class="sc">==</span><span class="st">"Global Poverty"</span> <span class="sc">&amp;</span> (video_theme <span class="sc">==</span> <span class="st">"Animal"</span> <span class="sc">|</span> video_theme <span class="sc">==</span> <span class="st">"Climate"</span>))) <span class="co">#remove combinations where we don't have data ... at least for now</span></span>
<span id="cb65-1721"><a href="#cb65-1721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1722"><a href="#cb65-1722" aria-hidden="true" tabindex="-1"></a><span class="co"># setting reach and clicks = 1 will give us proportion of conversions (because it makes a prediction for total outcomes per unit )</span></span>
<span id="cb65-1723"><a href="#cb65-1723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1724"><a href="#cb65-1724" aria-hidden="true" tabindex="-1"></a>click_post <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(clicks_logit_vid, <span class="at">newdata =</span> full_crossing) <span class="co">#ndraws = 1000, </span></span>
<span id="cb65-1725"><a href="#cb65-1725" aria-hidden="true" tabindex="-1"></a>results_post <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(results_logit_vid, full_crossing)</span>
<span id="cb65-1726"><a href="#cb65-1726" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1727"><a href="#cb65-1727" aria-hidden="true" tabindex="-1"></a>combined_post <span class="ot">&lt;-</span> click_post <span class="sc">*</span> results_post <span class="co">#DR: multiplying the predicted probabilities of click and conversion here?</span></span>
<span id="cb65-1728"><a href="#cb65-1728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1729"><a href="#cb65-1729" aria-hidden="true" tabindex="-1"></a>results_per_reach_post <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(results_per_reach_logit_vid, full_crossing)</span>
<span id="cb65-1730"><a href="#cb65-1730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1731"><a href="#cb65-1731" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1732"><a href="#cb65-1732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1733"><a href="#cb65-1733" aria-hidden="true" tabindex="-1"></a><span class="in">```{r tib_post_vid}</span></span>
<span id="cb65-1734"><a href="#cb65-1734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1735"><a href="#cb65-1735" aria-hidden="true" tabindex="-1"></a><span class="co">#make tibbles of the stuff above, put it together s</span></span>
<span id="cb65-1736"><a href="#cb65-1736" aria-hidden="true" tabindex="-1"></a>post_tib_clean <span class="ot">&lt;-</span> <span class="cf">function</span>(df, name) {</span>
<span id="cb65-1737"><a href="#cb65-1737" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb65-1738"><a href="#cb65-1738" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb65-1739"><a href="#cb65-1739" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb65-1740"><a href="#cb65-1740" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"identifier"</span>,</span>
<span id="cb65-1741"><a href="#cb65-1741" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"probability"</span>) </span>
<span id="cb65-1742"><a href="#cb65-1742" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb65-1743"><a href="#cb65-1743" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">level =</span> name,</span>
<span id="cb65-1744"><a href="#cb65-1744" aria-hidden="true" tabindex="-1"></a>       <span class="at">theme =</span> <span class="fu">rep</span>(full_crossing<span class="sc">$</span>video_theme, <span class="fu">dim</span>(data)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing)[<span class="dv">1</span>]),</span>
<span id="cb65-1745"><a href="#cb65-1745" aria-hidden="true" tabindex="-1"></a>       <span class="at">audience =</span> <span class="fu">rep</span>(full_crossing<span class="sc">$</span>audience,  <span class="fu">dim</span>(data)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing)[<span class="dv">1</span>])</span>
<span id="cb65-1746"><a href="#cb65-1746" aria-hidden="true" tabindex="-1"></a>       <span class="co">#     starts = rep(full_crossing$starts, 1000) #DR: I think I want starts (start date as a factor) in the model, because the audience may be systematically different on those days, and other things change we leave out here. However, I don't want to see it in the graphs. How to do that? </span></span>
<span id="cb65-1747"><a href="#cb65-1747" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb65-1748"><a href="#cb65-1748" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data)</span>
<span id="cb65-1749"><a href="#cb65-1749" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb65-1750"><a href="#cb65-1750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1751"><a href="#cb65-1751" aria-hidden="true" tabindex="-1"></a><span class="co"># make tibbles</span></span>
<span id="cb65-1752"><a href="#cb65-1752" aria-hidden="true" tabindex="-1"></a>tib_click_post <span class="ot">&lt;-</span> click_post <span class="sc">%&gt;%</span> </span>
<span id="cb65-1753"><a href="#cb65-1753" aria-hidden="true" tabindex="-1"></a>  <span class="fu">post_tib_clean</span>( <span class="st">"1. Reach to clicks"</span>)</span>
<span id="cb65-1754"><a href="#cb65-1754" aria-hidden="true" tabindex="-1"></a>tib_result_post <span class="ot">&lt;-</span> results_post  <span class="sc">%&gt;%</span></span>
<span id="cb65-1755"><a href="#cb65-1755" aria-hidden="true" tabindex="-1"></a>    <span class="fu">post_tib_clean</span>(<span class="st">"2. Clicks to signups"</span>)</span>
<span id="cb65-1756"><a href="#cb65-1756" aria-hidden="true" tabindex="-1"></a>tib_combined_post <span class="ot">&lt;-</span> combined_post <span class="sc">%&gt;%</span></span>
<span id="cb65-1757"><a href="#cb65-1757" aria-hidden="true" tabindex="-1"></a>      <span class="fu">post_tib_clean</span>(<span class="st">"3. Total"</span>) </span>
<span id="cb65-1758"><a href="#cb65-1758" aria-hidden="true" tabindex="-1"></a>full_post <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(tib_click_post,</span>
<span id="cb65-1759"><a href="#cb65-1759" aria-hidden="true" tabindex="-1"></a>                       tib_result_post,</span>
<span id="cb65-1760"><a href="#cb65-1760" aria-hidden="true" tabindex="-1"></a>                       tib_combined_post)</span>
<span id="cb65-1761"><a href="#cb65-1761" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1762"><a href="#cb65-1762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1763"><a href="#cb65-1763" aria-hidden="true" tabindex="-1"></a><span class="in">```{r full_crossing_text}</span></span>
<span id="cb65-1764"><a href="#cb65-1764" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1765"><a href="#cb65-1765" aria-hidden="true" tabindex="-1"></a>post_tib_clean_text <span class="ot">&lt;-</span> <span class="cf">function</span>(df, name) {</span>
<span id="cb65-1766"><a href="#cb65-1766" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb65-1767"><a href="#cb65-1767" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb65-1768"><a href="#cb65-1768" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb65-1769"><a href="#cb65-1769" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"identifier"</span>,</span>
<span id="cb65-1770"><a href="#cb65-1770" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"probability"</span>) </span>
<span id="cb65-1771"><a href="#cb65-1771" aria-hidden="true" tabindex="-1"></a>  data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb65-1772"><a href="#cb65-1772" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">level =</span> name)</span>
<span id="cb65-1773"><a href="#cb65-1773" aria-hidden="true" tabindex="-1"></a>       <span class="co">#     starts = rep(full_crossing$starts, 1000) #DR: I think I want starts (start date as a factor) in the model, because the audience may be systematically different on those days, and other things change we leave out here. However, I don't want to see it in the graphs. How to do that? </span></span>
<span id="cb65-1774"><a href="#cb65-1774" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data)</span>
<span id="cb65-1775"><a href="#cb65-1775" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb65-1776"><a href="#cb65-1776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1777"><a href="#cb65-1777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1778"><a href="#cb65-1778" aria-hidden="true" tabindex="-1"></a><span class="co"># posterior expectations:</span></span>
<span id="cb65-1779"><a href="#cb65-1779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1780"><a href="#cb65-1780" aria-hidden="true" tabindex="-1"></a>full_crossing_text <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb65-1781"><a href="#cb65-1781" aria-hidden="true" tabindex="-1"></a>  <span class="st">"text_treat"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_campaign_by_text_col<span class="sc">$</span>text_treat),</span>
<span id="cb65-1782"><a href="#cb65-1782" aria-hidden="true" tabindex="-1"></a>  <span class="st">"audience"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_campaign_by_text_col<span class="sc">$</span>audience)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1783"><a href="#cb65-1783" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reach =</span> <span class="dv">1</span>, <span class="co">#it is estimating the number of clicks based on the reach</span></span>
<span id="cb65-1784"><a href="#cb65-1784" aria-hidden="true" tabindex="-1"></a>         <span class="at">clicks =</span> <span class="dv">1</span>) </span>
<span id="cb65-1785"><a href="#cb65-1785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1786"><a href="#cb65-1786" aria-hidden="true" tabindex="-1"></a>full_crossing_text_only <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(</span>
<span id="cb65-1787"><a href="#cb65-1787" aria-hidden="true" tabindex="-1"></a>  <span class="st">"text_treat"</span> <span class="ot">=</span> <span class="fu">unique</span>(gg_campaign_by_text_col<span class="sc">$</span>text_treat)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1788"><a href="#cb65-1788" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reach =</span> <span class="dv">1</span>, <span class="co">#it is estimating the number of clicks based on the reach</span></span>
<span id="cb65-1789"><a href="#cb65-1789" aria-hidden="true" tabindex="-1"></a>         <span class="at">clicks =</span> <span class="dv">1</span>)</span>
<span id="cb65-1790"><a href="#cb65-1790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1791"><a href="#cb65-1791" aria-hidden="true" tabindex="-1"></a>click_post_text <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(clicks_logit_text, <span class="at">newdata =</span> full_crossing_text) <span class="co">#ndraws = 1000, </span></span>
<span id="cb65-1792"><a href="#cb65-1792" aria-hidden="true" tabindex="-1"></a>results_post_text <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(results_logit_text, full_crossing_text)</span>
<span id="cb65-1793"><a href="#cb65-1793" aria-hidden="true" tabindex="-1"></a>combined_post_text <span class="ot">&lt;-</span> click_post_text <span class="sc">*</span> results_post_text </span>
<span id="cb65-1794"><a href="#cb65-1794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1795"><a href="#cb65-1795" aria-hidden="true" tabindex="-1"></a>text_audience_reps <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb65-1796"><a href="#cb65-1796" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb65-1797"><a href="#cb65-1797" aria-hidden="true" tabindex="-1"></a> <span class="fu">mutate</span>(</span>
<span id="cb65-1798"><a href="#cb65-1798" aria-hidden="true" tabindex="-1"></a>         <span class="at">text_treat =</span> <span class="fu">rep</span>(full_crossing_text<span class="sc">$</span>text_treat, <span class="fu">dim</span>(tib_click_post_text)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing_text)[<span class="dv">1</span>]),</span>
<span id="cb65-1799"><a href="#cb65-1799" aria-hidden="true" tabindex="-1"></a>       <span class="at">audience =</span> <span class="fu">rep</span>(full_crossing_text<span class="sc">$</span>audience,  <span class="fu">dim</span>(tib_click_post_text)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing_text)[<span class="dv">1</span>])</span>
<span id="cb65-1800"><a href="#cb65-1800" aria-hidden="true" tabindex="-1"></a>)}</span>
<span id="cb65-1801"><a href="#cb65-1801" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb65-1802"><a href="#cb65-1802" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1803"><a href="#cb65-1803" aria-hidden="true" tabindex="-1"></a><span class="co"># make tibbles</span></span>
<span id="cb65-1804"><a href="#cb65-1804" aria-hidden="true" tabindex="-1"></a>tib_click_post_text <span class="ot">&lt;-</span> click_post_text <span class="sc">%&gt;%</span> </span>
<span id="cb65-1805"><a href="#cb65-1805" aria-hidden="true" tabindex="-1"></a>  <span class="fu">post_tib_clean_text</span>( <span class="st">"1. Reach to clicks"</span>) </span>
<span id="cb65-1806"><a href="#cb65-1806" aria-hidden="true" tabindex="-1"></a>tib_click_post_text <span class="sc">%&lt;&gt;%</span>  text_audience_reps</span>
<span id="cb65-1807"><a href="#cb65-1807" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1808"><a href="#cb65-1808" aria-hidden="true" tabindex="-1"></a>tib_result_post_text <span class="ot">&lt;-</span> results_post_text  <span class="sc">%&gt;%</span></span>
<span id="cb65-1809"><a href="#cb65-1809" aria-hidden="true" tabindex="-1"></a>    <span class="fu">post_tib_clean_text</span>(<span class="st">"2. Clicks to signups"</span>)</span>
<span id="cb65-1810"><a href="#cb65-1810" aria-hidden="true" tabindex="-1"></a>tib_result_post_text <span class="sc">%&lt;&gt;%</span> text_audience_reps</span>
<span id="cb65-1811"><a href="#cb65-1811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1812"><a href="#cb65-1812" aria-hidden="true" tabindex="-1"></a>tib_combined_post_text <span class="ot">&lt;-</span> combined_post_text <span class="sc">%&gt;%</span></span>
<span id="cb65-1813"><a href="#cb65-1813" aria-hidden="true" tabindex="-1"></a>      <span class="fu">post_tib_clean_text</span>(<span class="st">"3. Total"</span>) </span>
<span id="cb65-1814"><a href="#cb65-1814" aria-hidden="true" tabindex="-1"></a>tib_combined_post_text <span class="sc">%&lt;&gt;%</span> text_audience_reps</span>
<span id="cb65-1815"><a href="#cb65-1815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1816"><a href="#cb65-1816" aria-hidden="true" tabindex="-1"></a>full_post_text <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(tib_click_post_text,</span>
<span id="cb65-1817"><a href="#cb65-1817" aria-hidden="true" tabindex="-1"></a>                       tib_result_post_text,</span>
<span id="cb65-1818"><a href="#cb65-1818" aria-hidden="true" tabindex="-1"></a>                       tib_combined_post_text)</span>
<span id="cb65-1819"><a href="#cb65-1819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1820"><a href="#cb65-1820" aria-hidden="true" tabindex="-1"></a><span class="co">#for text only, 1 variable model</span></span>
<span id="cb65-1821"><a href="#cb65-1821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1822"><a href="#cb65-1822" aria-hidden="true" tabindex="-1"></a>click_post_text_only <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(clicks_logit_text_only, <span class="at">newdata =</span> full_crossing_text_only) <span class="co">#ndraws = 1000, </span></span>
<span id="cb65-1823"><a href="#cb65-1823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1824"><a href="#cb65-1824" aria-hidden="true" tabindex="-1"></a>results_post_text_only <span class="ot">&lt;-</span> <span class="fu">posterior_epred</span>(results_logit_text_only, full_crossing_text_only)</span>
<span id="cb65-1825"><a href="#cb65-1825" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1826"><a href="#cb65-1826" aria-hidden="true" tabindex="-1"></a>combined_post_text_only <span class="ot">&lt;-</span> click_post_text_only <span class="sc">*</span> results_post_text_only</span>
<span id="cb65-1827"><a href="#cb65-1827" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1828"><a href="#cb65-1828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1829"><a href="#cb65-1829" aria-hidden="true" tabindex="-1"></a><span class="co"># make tibbles</span></span>
<span id="cb65-1830"><a href="#cb65-1830" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1831"><a href="#cb65-1831" aria-hidden="true" tabindex="-1"></a>text_only_reps <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb65-1832"><a href="#cb65-1832" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb65-1833"><a href="#cb65-1833" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">text_treat =</span> <span class="fu">rep</span>(full_crossing_text_only<span class="sc">$</span>text_treat, <span class="fu">dim</span>(tib_click_post_text_only)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">dim</span>(full_crossing_text_only)[<span class="dv">1</span>]))</span>
<span id="cb65-1834"><a href="#cb65-1834" aria-hidden="true" tabindex="-1"></a>}          </span>
<span id="cb65-1835"><a href="#cb65-1835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1836"><a href="#cb65-1836" aria-hidden="true" tabindex="-1"></a>tib_click_post_text_only <span class="ot">&lt;-</span> click_post_text_only <span class="sc">%&gt;%</span> </span>
<span id="cb65-1837"><a href="#cb65-1837" aria-hidden="true" tabindex="-1"></a>  <span class="fu">post_tib_clean_text</span>( <span class="st">"1. Reach to clicks"</span>)</span>
<span id="cb65-1838"><a href="#cb65-1838" aria-hidden="true" tabindex="-1"></a>tib_click_post_text_only <span class="sc">%&lt;&gt;%</span>   text_only_reps</span>
<span id="cb65-1839"><a href="#cb65-1839" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1840"><a href="#cb65-1840" aria-hidden="true" tabindex="-1"></a>tib_results_post_text_only <span class="ot">&lt;-</span> results_post_text_only  <span class="sc">%&gt;%</span></span>
<span id="cb65-1841"><a href="#cb65-1841" aria-hidden="true" tabindex="-1"></a>    <span class="fu">post_tib_clean_text</span>(<span class="st">"2. Clicks to signups"</span>)</span>
<span id="cb65-1842"><a href="#cb65-1842" aria-hidden="true" tabindex="-1"></a>tib_results_post_text_only <span class="sc">%&lt;&gt;%</span>  text_only_reps</span>
<span id="cb65-1843"><a href="#cb65-1843" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1844"><a href="#cb65-1844" aria-hidden="true" tabindex="-1"></a>tib_combined_post_text_only <span class="ot">&lt;-</span> combined_post_text_only <span class="sc">%&gt;%</span></span>
<span id="cb65-1845"><a href="#cb65-1845" aria-hidden="true" tabindex="-1"></a>      <span class="fu">post_tib_clean_text</span>(<span class="st">"3. Total"</span>) </span>
<span id="cb65-1846"><a href="#cb65-1846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1847"><a href="#cb65-1847" aria-hidden="true" tabindex="-1"></a>tib_combined_post_text_only <span class="sc">%&lt;&gt;%</span>  text_only_reps</span>
<span id="cb65-1848"><a href="#cb65-1848" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1849"><a href="#cb65-1849" aria-hidden="true" tabindex="-1"></a>full_post_text_only <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(tib_click_post_text_only,</span>
<span id="cb65-1850"><a href="#cb65-1850" aria-hidden="true" tabindex="-1"></a>                       tib_results_post_text_only,</span>
<span id="cb65-1851"><a href="#cb65-1851" aria-hidden="true" tabindex="-1"></a>                       tib_combined_post_text_only)</span>
<span id="cb65-1852"><a href="#cb65-1852" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1853"><a href="#cb65-1853" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1854"><a href="#cb65-1854" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1855"><a href="#cb65-1855" aria-hidden="true" tabindex="-1"></a><span class="in">```{r post_summary}</span></span>
<span id="cb65-1856"><a href="#cb65-1856" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1857"><a href="#cb65-1857" aria-hidden="true" tabindex="-1"></a>hdi <span class="ot">&lt;-</span> HDInterval<span class="sc">::</span>hdi</span>
<span id="cb65-1858"><a href="#cb65-1858" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1859"><a href="#cb65-1859" aria-hidden="true" tabindex="-1"></a>CI_choice_narrow <span class="ot">&lt;-</span> <span class="fl">0.6</span></span>
<span id="cb65-1860"><a href="#cb65-1860" aria-hidden="true" tabindex="-1"></a>CI_choice_wide <span class="ot">&lt;-</span> <span class="fl">0.9</span></span>
<span id="cb65-1861"><a href="#cb65-1861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1862"><a href="#cb65-1862" aria-hidden="true" tabindex="-1"></a>sum_mean_hdi <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb65-1863"><a href="#cb65-1863" aria-hidden="true" tabindex="-1"></a>    df, </span>
<span id="cb65-1864"><a href="#cb65-1864" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> probability, <span class="at">scaleme=</span><span class="dv">100</span>, <span class="at">CI_choice_n=</span>CI_choice_narrow, <span class="at">CI_choice_w =</span> CI_choice_wide) {</span>
<span id="cb65-1865"><a href="#cb65-1865" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb65-1866"><a href="#cb65-1866" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb65-1867"><a href="#cb65-1867" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean =</span> <span class="fu">mean</span>({{var}}) <span class="sc">*</span> scaleme,</span>
<span id="cb65-1868"><a href="#cb65-1868" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb65-1869"><a href="#cb65-1869" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb65-1870"><a href="#cb65-1870" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_w)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb65-1871"><a href="#cb65-1871" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_w)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb65-1872"><a href="#cb65-1872" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower_eti =</span> <span class="fu">quantile</span>({{var}}, (<span class="dv">1</span><span class="sc">-</span>CI_choice_w)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb65-1873"><a href="#cb65-1873" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper_eti =</span> <span class="fu">quantile</span>({{var}}, <span class="dv">1</span><span class="sc">-</span>(<span class="dv">1</span><span class="sc">-</span>CI_choice_w)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb65-1874"><a href="#cb65-1874" aria-hidden="true" tabindex="-1"></a>      <span class="at">check =</span> <span class="fu">length</span>(<span class="fu">hdi</span>({{var}}))</span>
<span id="cb65-1875"><a href="#cb65-1875" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb65-1876"><a href="#cb65-1876" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb65-1877"><a href="#cb65-1877" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1878"><a href="#cb65-1878" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1879"><a href="#cb65-1879" aria-hidden="true" tabindex="-1"></a>mutate_mean_hdi <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb65-1880"><a href="#cb65-1880" aria-hidden="true" tabindex="-1"></a>    df, </span>
<span id="cb65-1881"><a href="#cb65-1881" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> probability, <span class="at">scaleme=</span><span class="dv">100</span>, <span class="at">CI_choice_n=</span>CI_choice_narrow, <span class="at">CI_choice_w =</span> CI_choice_wide) {</span>
<span id="cb65-1882"><a href="#cb65-1882" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb65-1883"><a href="#cb65-1883" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb65-1884"><a href="#cb65-1884" aria-hidden="true" tabindex="-1"></a>      <span class="at">mean =</span> <span class="fu">mean</span>({{var}}) <span class="sc">*</span> scaleme,</span>
<span id="cb65-1885"><a href="#cb65-1885" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb65-1886"><a href="#cb65-1886" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_n =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_n)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb65-1887"><a href="#cb65-1887" aria-hidden="true" tabindex="-1"></a>              <span class="at">lower_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_wide)[<span class="dv">1</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb65-1888"><a href="#cb65-1888" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper_w =</span> <span class="fu">hdi</span>({{var}}, <span class="at">credMass =</span> CI_choice_wide)[<span class="dv">2</span>] <span class="sc">*</span> scaleme,</span>
<span id="cb65-1889"><a href="#cb65-1889" aria-hidden="true" tabindex="-1"></a>          <span class="at">lower_eti =</span> <span class="fu">quantile</span>({{var}}, (<span class="dv">1</span><span class="sc">-</span>CI_choice_wide)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb65-1890"><a href="#cb65-1890" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper_eti =</span> <span class="fu">quantile</span>({{var}}, <span class="dv">1</span><span class="sc">-</span>(<span class="dv">1</span><span class="sc">-</span>CI_choice_wide)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">*</span> scaleme,</span>
<span id="cb65-1891"><a href="#cb65-1891" aria-hidden="true" tabindex="-1"></a>      <span class="at">check =</span> <span class="fu">length</span>(<span class="fu">hdi</span>({{var}}))</span>
<span id="cb65-1892"><a href="#cb65-1892" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb65-1893"><a href="#cb65-1893" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb65-1894"><a href="#cb65-1894" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1895"><a href="#cb65-1895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1896"><a href="#cb65-1896" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1897"><a href="#cb65-1897" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1898"><a href="#cb65-1898" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Results by audience {.unnumbered}</span></span>
<span id="cb65-1899"><a href="#cb65-1899" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1900"><a href="#cb65-1900" aria-hidden="true" tabindex="-1"></a>We ran two Bayesian Logit models. <span class="ot">[^gwwc_gg-21]</span> Results come from a</span>
<span id="cb65-1901"><a href="#cb65-1901" aria-hidden="true" tabindex="-1"></a>two-stage process: 1. some people who see the ad click on it. 2. Some of</span>
<span id="cb65-1902"><a href="#cb65-1902" aria-hidden="true" tabindex="-1"></a>those who click on the ad leave their email (asking for a Giving Guide).</span>
<span id="cb65-1903"><a href="#cb65-1903" aria-hidden="true" tabindex="-1"></a>We model clicks as a share of unique impressions ('reach') and results</span>
<span id="cb65-1904"><a href="#cb65-1904" aria-hidden="true" tabindex="-1"></a>as a share of clicks, allowing each to vary by video theme and by</span>
<span id="cb65-1905"><a href="#cb65-1905" aria-hidden="true" tabindex="-1"></a>audience. (Later: by text and by demographics.) The product of these</span>
<span id="cb65-1906"><a href="#cb65-1906" aria-hidden="true" tabindex="-1"></a>shares (probabilities) yields 'results as a share of impressions', the</span>
<span id="cb65-1907"><a href="#cb65-1907" aria-hidden="true" tabindex="-1"></a>main outcome of interest.</span>
<span id="cb65-1908"><a href="#cb65-1908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1909"><a href="#cb65-1909" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-21]: </span>TODO: tables summarizing these models themselvees</span>
<span id="cb65-1910"><a href="#cb65-1910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1911"><a href="#cb65-1911" aria-hidden="true" tabindex="-1"></a>Below, we plot the point means (aka 'coefficients') and 'highest density</span>
<span id="cb65-1912"><a href="#cb65-1912" aria-hidden="true" tabindex="-1"></a>intervals' (HDI) of our posterior beliefs for these. These models</span>
<span id="cb65-1913"><a href="#cb65-1913" aria-hidden="true" tabindex="-1"></a>consider the audience and video themes at the same time, the imbalance</span>
<span id="cb65-1914"><a href="#cb65-1914" aria-hidden="true" tabindex="-1"></a>between audiences and themes should probably not be a major biasing</span>
<span id="cb65-1915"><a href="#cb65-1915" aria-hidden="true" tabindex="-1"></a>factor.</span>
<span id="cb65-1916"><a href="#cb65-1916" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1917"><a href="#cb65-1917" aria-hidden="true" tabindex="-1"></a>*Caveats*:</span>
<span id="cb65-1918"><a href="#cb65-1918" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1919"><a href="#cb65-1919" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>The specific coefficients for the second stage ('clicks to results')</span>
<span id="cb65-1920"><a href="#cb65-1920" aria-hidden="true" tabindex="-1"></a>    should be taken lightly; as the audiences may be selected very</span>
<span id="cb65-1921"><a href="#cb65-1921" aria-hidden="true" tabindex="-1"></a>    differently 'conditional on click'; e.g., audiences that are 'easy</span>
<span id="cb65-1922"><a href="#cb65-1922" aria-hidden="true" tabindex="-1"></a>    to click' may by 'harder to convert to a result'.</span>
<span id="cb65-1923"><a href="#cb65-1923" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1924"><a href="#cb65-1924" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>The results presented below do not control for 'which text</span>
<span id="cb65-1925"><a href="#cb65-1925" aria-hidden="true" tabindex="-1"></a>    treatment' nor for 'which campaign'. (We can do the latter next, but</span>
<span id="cb65-1926"><a href="#cb65-1926" aria-hidden="true" tabindex="-1"></a>    we can only do the former with the other version of the data, which</span>
<span id="cb65-1927"><a href="#cb65-1927" aria-hidden="true" tabindex="-1"></a>    is then missing some detail on who saw which video)</span>
<span id="cb65-1928"><a href="#cb65-1928" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1929"><a href="#cb65-1929" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>The usual ['divergent delivery'</span>
<span id="cb65-1930"><a href="#cb65-1930" aria-hidden="true" tabindex="-1"></a>    issue](https://effective-giving-marketing.gitbook.io/untitled/methodological-discussion/splits-randomization/facebook-split-testing-etc)</span>
<span id="cb65-1931"><a href="#cb65-1931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1932"><a href="#cb65-1932" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb65-1933"><a href="#cb65-1933" aria-hidden="true" tabindex="-1"></a>**Important note:** the 'pooled' graphs (for individual audiences and</span>
<span id="cb65-1934"><a href="#cb65-1934" aria-hidden="true" tabindex="-1"></a>videos) in this section may not be correctly weighted across</span>
<span id="cb65-1935"><a href="#cb65-1935" aria-hidden="true" tabindex="-1"></a>subcategories. We need to reexamine this.</span>
<span id="cb65-1936"><a href="#cb65-1936" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-1937"><a href="#cb65-1937" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1938"><a href="#cb65-1938" aria-hidden="true" tabindex="-1"></a><span class="in">```{r aud_plots}</span></span>
<span id="cb65-1939"><a href="#cb65-1939" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1940"><a href="#cb65-1940" aria-hidden="true" tabindex="-1"></a>aud_plots <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb65-1941"><a href="#cb65-1941" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb65-1942"><a href="#cb65-1942" aria-hidden="true" tabindex="-1"></a>       <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb65-1943"><a href="#cb65-1943" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(level, audience) <span class="sc">%&gt;%</span> <span class="co">#, starts</span></span>
<span id="cb65-1944"><a href="#cb65-1944" aria-hidden="true" tabindex="-1"></a>    sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb65-1945"><a href="#cb65-1945" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">audience =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(audience), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1946"><a href="#cb65-1946" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb65-1947"><a href="#cb65-1947" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> audience), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb65-1948"><a href="#cb65-1948" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> audience),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb65-1949"><a href="#cb65-1949" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb65-1950"><a href="#cb65-1950" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span><span class="st">`</span><span class="at">mean</span><span class="st">`</span>, </span>
<span id="cb65-1951"><a href="#cb65-1951" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> audience))</span>
<span id="cb65-1952"><a href="#cb65-1952" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb65-1953"><a href="#cb65-1953" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1954"><a href="#cb65-1954" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-1955"><a href="#cb65-1955" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb65-1956"><a href="#cb65-1956" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb65-1957"><a href="#cb65-1957" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience (reach, clicks, signups)"</span>,</span>
<span id="cb65-1958"><a href="#cb65-1958" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb65-1959"><a href="#cb65-1959" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb65-1960"><a href="#cb65-1960" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1961"><a href="#cb65-1961" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1962"><a href="#cb65-1962" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-1963"><a href="#cb65-1963" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot_no_cause <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb65-1964"><a href="#cb65-1964" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_det</span>(theme, <span class="st">"Animal|Climate|Poverty"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb65-1965"><a href="#cb65-1965" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb65-1966"><a href="#cb65-1966" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience, no cause videos"</span>,</span>
<span id="cb65-1967"><a href="#cb65-1967" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb65-1968"><a href="#cb65-1968" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb65-1969"><a href="#cb65-1969" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1970"><a href="#cb65-1970" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1971"><a href="#cb65-1971" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-1972"><a href="#cb65-1972" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot_cause <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb65-1973"><a href="#cb65-1973" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(theme, <span class="st">"Animal|Climate|Poverty"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb65-1974"><a href="#cb65-1974" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb65-1975"><a href="#cb65-1975" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience, Cause videos only"</span>,</span>
<span id="cb65-1976"><a href="#cb65-1976" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb65-1977"><a href="#cb65-1977" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb65-1978"><a href="#cb65-1978" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-1979"><a href="#cb65-1979" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1980"><a href="#cb65-1980" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-1981"><a href="#cb65-1981" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1982"><a href="#cb65-1982" aria-hidden="true" tabindex="-1"></a>For the 'cause videos only' we see <span class="ot">[^gwwc_gg-22]</span> that the philanthropy</span>
<span id="cb65-1983"><a href="#cb65-1983" aria-hidden="true" tabindex="-1"></a>audience, across all causes, seems to perform at least as well as the</span>
<span id="cb65-1984"><a href="#cb65-1984" aria-hidden="true" tabindex="-1"></a>climate and 'global poverty' audiences (when the latter are presented</span>
<span id="cb65-1985"><a href="#cb65-1985" aria-hidden="true" tabindex="-1"></a>videos for the causes they are said to care about). However, the animal</span>
<span id="cb65-1986"><a href="#cb65-1986" aria-hidden="true" tabindex="-1"></a>audiences seems to perform substantially better.</span>
<span id="cb65-1987"><a href="#cb65-1987" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1988"><a href="#cb65-1988" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-22]: </span>todo: doublecheck after final estimates</span>
<span id="cb65-1989"><a href="#cb65-1989" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1990"><a href="#cb65-1990" aria-hidden="true" tabindex="-1"></a>For example, focusing on climate-cause videos (and removing</span>
<span id="cb65-1991"><a href="#cb65-1991" aria-hidden="true" tabindex="-1"></a>'lookalikes') below, we see that the philanthropy audience performs</span>
<span id="cb65-1992"><a href="#cb65-1992" aria-hidden="true" tabindex="-1"></a>substantially better than the climate audience.</span>
<span id="cb65-1993"><a href="#cb65-1993" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-1994"><a href="#cb65-1994" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reach_to_clicks_aud_plot_climate}</span></span>
<span id="cb65-1995"><a href="#cb65-1995" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-1996"><a href="#cb65-1996" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_aud_plot_climate <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb65-1997"><a href="#cb65-1997" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">str_det</span>(theme, <span class="st">"Climate"</span>))  <span class="sc">%&gt;%</span></span>
<span id="cb65-1998"><a href="#cb65-1998" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Lookalikes"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-1999"><a href="#cb65-1999" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aud_plots</span>() <span class="sc">+</span></span>
<span id="cb65-2000"><a href="#cb65-2000" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By audience, Climate videos only"</span>,</span>
<span id="cb65-2001"><a href="#cb65-2001" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb65-2002"><a href="#cb65-2002" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb65-2003"><a href="#cb65-2003" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-2004"><a href="#cb65-2004" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2005"><a href="#cb65-2005" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2006"><a href="#cb65-2006" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2007"><a href="#cb65-2007" aria-hidden="true" tabindex="-1"></a><span class="fu">### Results by Video {.unnumbered}</span></span>
<span id="cb65-2008"><a href="#cb65-2008" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2009"><a href="#cb65-2009" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-23]</span></span>
<span id="cb65-2010"><a href="#cb65-2010" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2011"><a href="#cb65-2011" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-23]: </span>Todo: fix weighting</span>
<span id="cb65-2012"><a href="#cb65-2012" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2015"><a href="#cb65-2015" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-2016"><a href="#cb65-2016" aria-hidden="true" tabindex="-1"></a>vid_plots <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb65-2017"><a href="#cb65-2017" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb65-2018"><a href="#cb65-2018" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(level, theme) <span class="sc">%&gt;%</span> <span class="co">#, starts</span></span>
<span id="cb65-2019"><a href="#cb65-2019" aria-hidden="true" tabindex="-1"></a>    sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb65-2020"><a href="#cb65-2020" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">theme =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(theme), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2021"><a href="#cb65-2021" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb65-2022"><a href="#cb65-2022" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> theme), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb65-2023"><a href="#cb65-2023" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> theme),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb65-2024"><a href="#cb65-2024" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb65-2025"><a href="#cb65-2025" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x=</span><span class="st">`</span><span class="at">mean</span><span class="st">`</span>, </span>
<span id="cb65-2026"><a href="#cb65-2026" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> theme))</span>
<span id="cb65-2027"><a href="#cb65-2027" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb65-2028"><a href="#cb65-2028" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2029"><a href="#cb65-2029" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-2030"><a href="#cb65-2030" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_vid_plot <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb65-2031"><a href="#cb65-2031" aria-hidden="true" tabindex="-1"></a>    <span class="fu">vid_plots</span>() <span class="sc">+</span></span>
<span id="cb65-2032"><a href="#cb65-2032" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By video theme (reach, clicks, signups)"</span>,</span>
<span id="cb65-2033"><a href="#cb65-2033" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb65-2034"><a href="#cb65-2034" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb65-2035"><a href="#cb65-2035" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-2036"><a href="#cb65-2036" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2037"><a href="#cb65-2037" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-2038"><a href="#cb65-2038" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_vid_plot_phil <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb65-2039"><a href="#cb65-2039" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(audience <span class="sc">==</span> <span class="st">"Philanthropy"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb65-2040"><a href="#cb65-2040" aria-hidden="true" tabindex="-1"></a>    <span class="fu">vid_plots</span>() <span class="sc">+</span></span>
<span id="cb65-2041"><a href="#cb65-2041" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"By theme, 'philanthropy' audience only"</span>,</span>
<span id="cb65-2042"><a href="#cb65-2042" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % 'converting' with 60% and 90% HDI"</span>)  <span class="sc">+</span></span>
<span id="cb65-2043"><a href="#cb65-2043" aria-hidden="true" tabindex="-1"></a>      <span class="fu">facet_grid</span>(<span class="sc">~</span>level, <span class="at">scales =</span> <span class="st">"free"</span>)</span>
<span id="cb65-2044"><a href="#cb65-2044" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-2045"><a href="#cb65-2045" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2046"><a href="#cb65-2046" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2047"><a href="#cb65-2047" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2048"><a href="#cb65-2048" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2049"><a href="#cb65-2049" aria-hidden="true" tabindex="-1"></a><span class="in">```{r full_plots}</span></span>
<span id="cb65-2050"><a href="#cb65-2050" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2051"><a href="#cb65-2051" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-2052"><a href="#cb65-2052" aria-hidden="true" tabindex="-1"></a>reach_to_clicks_plot <span class="ot">&lt;-</span>  full_post  <span class="sc">%&gt;%</span></span>
<span id="cb65-2053"><a href="#cb65-2053" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"1"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2054"><a href="#cb65-2054" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(theme, audience) <span class="sc">%&gt;%</span> <span class="co">#, starts</span></span>
<span id="cb65-2055"><a href="#cb65-2055" aria-hidden="true" tabindex="-1"></a>    sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb65-2056"><a href="#cb65-2056" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">theme =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(theme), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2057"><a href="#cb65-2057" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb65-2058"><a href="#cb65-2058" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb65-2059"><a href="#cb65-2059" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> theme), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb65-2060"><a href="#cb65-2060" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> theme),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb65-2061"><a href="#cb65-2061" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> theme)) <span class="sc">+</span></span>
<span id="cb65-2062"><a href="#cb65-2062" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">1.75</span>)) <span class="sc">+</span></span>
<span id="cb65-2063"><a href="#cb65-2063" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb65-2064"><a href="#cb65-2064" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Clicks by video theme and audience"</span>,</span>
<span id="cb65-2065"><a href="#cb65-2065" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % clicking with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb65-2066"><a href="#cb65-2066" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb65-2067"><a href="#cb65-2067" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-2068"><a href="#cb65-2068" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2069"><a href="#cb65-2069" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-2070"><a href="#cb65-2070" aria-hidden="true" tabindex="-1"></a>reach_to_results_plot <span class="ot">&lt;-</span>  full_post <span class="sc">%&gt;%</span> </span>
<span id="cb65-2071"><a href="#cb65-2071" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2072"><a href="#cb65-2072" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(theme, audience) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, </span></span>
<span id="cb65-2073"><a href="#cb65-2073" aria-hidden="true" tabindex="-1"></a>      sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb65-2074"><a href="#cb65-2074" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">theme =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(theme), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2075"><a href="#cb65-2075" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb65-2076"><a href="#cb65-2076" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb65-2077"><a href="#cb65-2077" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> theme), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb65-2078"><a href="#cb65-2078" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> theme),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> theme)) <span class="sc">+</span></span>
<span id="cb65-2079"><a href="#cb65-2079" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb65-2080"><a href="#cb65-2080" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb65-2081"><a href="#cb65-2081" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total), by audience by theme"</span>,</span>
<span id="cb65-2082"><a href="#cb65-2082" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb65-2083"><a href="#cb65-2083" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">factor</span>(audience, <span class="at">levels=</span>audience_levels), <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb65-2084"><a href="#cb65-2084" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-2085"><a href="#cb65-2085" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2086"><a href="#cb65-2086" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-2087"><a href="#cb65-2087" aria-hidden="true" tabindex="-1"></a>reach_to_results_plot_flip <span class="ot">&lt;-</span>  full_post <span class="sc">%&gt;%</span> </span>
<span id="cb65-2088"><a href="#cb65-2088" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2089"><a href="#cb65-2089" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(audience, theme) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, </span></span>
<span id="cb65-2090"><a href="#cb65-2090" aria-hidden="true" tabindex="-1"></a>      sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb65-2091"><a href="#cb65-2091" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">audience =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(audience), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2092"><a href="#cb65-2092" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb65-2093"><a href="#cb65-2093" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb65-2094"><a href="#cb65-2094" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> audience), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb65-2095"><a href="#cb65-2095" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> audience),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> audience)) <span class="sc">+</span></span>
<span id="cb65-2096"><a href="#cb65-2096" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb65-2097"><a href="#cb65-2097" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.8</span>)) <span class="sc">+</span></span>
<span id="cb65-2098"><a href="#cb65-2098" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total), by theme by audience"</span>,</span>
<span id="cb65-2099"><a href="#cb65-2099" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb65-2100"><a href="#cb65-2100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>theme, <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb65-2101"><a href="#cb65-2101" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-2102"><a href="#cb65-2102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2103"><a href="#cb65-2103" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2104"><a href="#cb65-2104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2105"><a href="#cb65-2105" aria-hidden="true" tabindex="-1"></a><span class="fu">### Results by text {.unnumbered}</span></span>
<span id="cb65-2106"><a href="#cb65-2106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2107"><a href="#cb65-2107" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reach_to_results_sum_text_only}</span></span>
<span id="cb65-2108"><a href="#cb65-2108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2109"><a href="#cb65-2109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2110"><a href="#cb65-2110" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text_only <span class="ot">&lt;-</span>  full_post_text_only <span class="sc">%&gt;%</span> </span>
<span id="cb65-2111"><a href="#cb65-2111" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2112"><a href="#cb65-2112" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(text_treat) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, conte</span></span>
<span id="cb65-2113"><a href="#cb65-2113" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sum_mean_hdi</span>( <span class="at">CI_choice_n=</span><span class="fl">0.90</span>, <span class="at">CI_choice_w =</span> <span class="fl">0.99</span>) <span class="sc">%&gt;%</span>         </span>
<span id="cb65-2114"><a href="#cb65-2114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text_treat =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(text_treat), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) </span>
<span id="cb65-2115"><a href="#cb65-2115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2116"><a href="#cb65-2116" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text_only  <span class="sc">%&gt;%</span></span>
<span id="cb65-2117"><a href="#cb65-2117" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Texts: mean performance by text, 0% and 99% HDI bounds"</span>, <span class="at">filter=</span><span class="st">"top"</span>,  <span class="at">rownames=</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-2118"><a href="#cb65-2118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(reach_to_results_sum_text_only), <span class="at">digits=</span><span class="dv">3</span>)</span>
<span id="cb65-2119"><a href="#cb65-2119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2120"><a href="#cb65-2120" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-2121"><a href="#cb65-2121" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text_only_plot <span class="ot">&lt;-</span> </span>
<span id="cb65-2122"><a href="#cb65-2122" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text_only <span class="sc">%&gt;%</span> </span>
<span id="cb65-2123"><a href="#cb65-2123" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb65-2124"><a href="#cb65-2124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> text_treat), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb65-2125"><a href="#cb65-2125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> text_treat),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> text_treat)) <span class="sc">+</span></span>
<span id="cb65-2126"><a href="#cb65-2126" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="fl">0.13</span>, .<span class="dv">45</span>)) <span class="sc">+</span></span>
<span id="cb65-2127"><a href="#cb65-2127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total), by text"</span>,</span>
<span id="cb65-2128"><a href="#cb65-2128" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 90% and 99% HDIs"</span>) </span>
<span id="cb65-2129"><a href="#cb65-2129" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-2130"><a href="#cb65-2130" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2131"><a href="#cb65-2131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2132"><a href="#cb65-2132" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reach_results_text}</span></span>
<span id="cb65-2133"><a href="#cb65-2133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2134"><a href="#cb65-2134" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text <span class="ot">&lt;-</span>  full_post_text <span class="sc">%&gt;%</span> </span>
<span id="cb65-2135"><a href="#cb65-2135" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2136"><a href="#cb65-2136" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(text_treat, audience) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, </span></span>
<span id="cb65-2137"><a href="#cb65-2137" aria-hidden="true" tabindex="-1"></a>      sum_mean_hdi <span class="sc">%&gt;%</span>         </span>
<span id="cb65-2138"><a href="#cb65-2138" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text_treat =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(text_treat), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2139"><a href="#cb65-2139" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  </span>
<span id="cb65-2140"><a href="#cb65-2140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2141"><a href="#cb65-2141" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text  <span class="sc">%&gt;%</span></span>
<span id="cb65-2142"><a href="#cb65-2142" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>(<span class="at">caption =</span> <span class="st">"Texts:  mean performance by audience, 60 and 90% HDI bounds"</span>, <span class="at">filter=</span><span class="st">"top"</span>,  <span class="at">rownames=</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb65-2143"><a href="#cb65-2143" aria-hidden="true" tabindex="-1"></a>    <span class="fu">formatRound</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(reach_to_results_sum_text_only), <span class="at">digits=</span><span class="dv">3</span>)</span>
<span id="cb65-2144"><a href="#cb65-2144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2145"><a href="#cb65-2145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2146"><a href="#cb65-2146" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-2147"><a href="#cb65-2147" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text_plot <span class="ot">&lt;-</span> </span>
<span id="cb65-2148"><a href="#cb65-2148" aria-hidden="true" tabindex="-1"></a>reach_to_results_sum_text <span class="sc">%&gt;%</span> </span>
<span id="cb65-2149"><a href="#cb65-2149" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb65-2150"><a href="#cb65-2150" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> text_treat), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb65-2151"><a href="#cb65-2151" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> text_treat),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> text_treat)) <span class="sc">+</span></span>
<span id="cb65-2152"><a href="#cb65-2152" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb65-2153"><a href="#cb65-2153" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb65-2154"><a href="#cb65-2154" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total), by audience by text"</span>,</span>
<span id="cb65-2155"><a href="#cb65-2155" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb65-2156"><a href="#cb65-2156" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">factor</span>(audience, <span class="at">levels=</span>audience_levels), <span class="at">scales =</span> <span class="st">"fixed"</span>) </span>
<span id="cb65-2157"><a href="#cb65-2157" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-2158"><a href="#cb65-2158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2159"><a href="#cb65-2159" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-2160"><a href="#cb65-2160" aria-hidden="true" tabindex="-1"></a>reach_to_results_plot_flip <span class="ot">&lt;-</span>  full_post_text <span class="sc">%&gt;%</span> </span>
<span id="cb65-2161"><a href="#cb65-2161" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"3"</span>, level)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2162"><a href="#cb65-2162" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(audience, text_treat) <span class="sc">%&gt;%</span> <span class="co">#, startslevel, </span></span>
<span id="cb65-2163"><a href="#cb65-2163" aria-hidden="true" tabindex="-1"></a>      sum_mean_hdi <span class="sc">%&gt;%</span> </span>
<span id="cb65-2164"><a href="#cb65-2164" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">audience =</span> <span class="fu">reorder</span>(<span class="fu">as.factor</span>(audience), <span class="st">`</span><span class="at">mean</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2165"><a href="#cb65-2165" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb65-2166"><a href="#cb65-2166" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb65-2167"><a href="#cb65-2167" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_n, <span class="at">xmax =</span> upper_n, <span class="at">y =</span> audience), <span class="at">height =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb65-2168"><a href="#cb65-2168" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> lower_w, <span class="at">xmax =</span> upper_w, <span class="at">y =</span> audience),  <span class="at">height=</span>.<span class="dv">25</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> audience)) <span class="sc">+</span></span>
<span id="cb65-2169"><a href="#cb65-2169" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>audience, <span class="at">scales =</span> <span class="st">"fixed"</span>) <span class="sc">+</span></span>
<span id="cb65-2170"><a href="#cb65-2170" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb65-2171"><a href="#cb65-2171" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Reach to results (total), by text by audience"</span>,</span>
<span id="cb65-2172"><a href="#cb65-2172" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estimated % results with 60% and 90% HDIs"</span>) <span class="sc">+</span></span>
<span id="cb65-2173"><a href="#cb65-2173" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>text_treat, <span class="at">scales =</span> <span class="st">"fixed"</span>)</span>
<span id="cb65-2174"><a href="#cb65-2174" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-2175"><a href="#cb65-2175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2176"><a href="#cb65-2176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2177"><a href="#cb65-2177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2178"><a href="#cb65-2178" aria-hidden="true" tabindex="-1"></a><span class="fu">### Outcomes by cost {.unnumbered}</span></span>
<span id="cb65-2179"><a href="#cb65-2179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2180"><a href="#cb65-2180" aria-hidden="true" tabindex="-1"></a>Note: We don't report on the 'text' treatment in this section (for now),</span>
<span id="cb65-2181"><a href="#cb65-2181" aria-hidden="true" tabindex="-1"></a>because the cost per unique impression was very similar across these</span>
<span id="cb65-2182"><a href="#cb65-2182" aria-hidden="true" tabindex="-1"></a>texts.</span>
<span id="cb65-2183"><a href="#cb65-2183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2186"><a href="#cb65-2186" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-2187"><a href="#cb65-2187" aria-hidden="true" tabindex="-1"></a><span class="co"># Joining spending and conversion ####</span></span>
<span id="cb65-2188"><a href="#cb65-2188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2189"><a href="#cb65-2189" aria-hidden="true" tabindex="-1"></a>cost_tibble <span class="ot">&lt;-</span> </span>
<span id="cb65-2190"><a href="#cb65-2190" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(tib_combined_post,</span>
<span id="cb65-2191"><a href="#cb65-2191" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(gg_video_breakdowns_col, <span class="at">theme=</span>video_theme)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2192"><a href="#cb65-2192" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb65-2193"><a href="#cb65-2193" aria-hidden="true" tabindex="-1"></a>    <span class="at">reach_per_dollar =</span> reach <span class="sc">/</span> spend,</span>
<span id="cb65-2194"><a href="#cb65-2194" aria-hidden="true" tabindex="-1"></a>    <span class="at">sign_per_dollar =</span> reach_per_dollar <span class="sc">*</span> probability,</span>
<span id="cb65-2195"><a href="#cb65-2195" aria-hidden="true" tabindex="-1"></a>    <span class="co">#NOTE this uses the simulated distribution of probabilities, not just averages! </span></span>
<span id="cb65-2196"><a href="#cb65-2196" aria-hidden="true" tabindex="-1"></a>    <span class="at">sign_per_100d =</span> <span class="dv">100</span><span class="sc">*</span>sign_per_dollar,</span>
<span id="cb65-2197"><a href="#cb65-2197" aria-hidden="true" tabindex="-1"></a>    <span class="at">cost_per_signup =</span> <span class="dv">1</span><span class="sc">/</span>sign_per_dollar</span>
<span id="cb65-2198"><a href="#cb65-2198" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2199"><a href="#cb65-2199" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(spend) <span class="sc">==</span> <span class="cn">FALSE</span>)  </span>
<span id="cb65-2200"><a href="#cb65-2200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2201"><a href="#cb65-2201" aria-hidden="true" tabindex="-1"></a>cost_summary <span class="ot">&lt;-</span> cost_tibble <span class="sc">%&gt;%</span> </span>
<span id="cb65-2202"><a href="#cb65-2202" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(theme, audience) <span class="sc">%&gt;%</span> </span>
<span id="cb65-2203"><a href="#cb65-2203" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum_mean_hdi</span>(<span class="at">var=</span> sign_per_100d, <span class="at">scaleme=</span><span class="dv">1</span>)</span>
<span id="cb65-2204"><a href="#cb65-2204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2205"><a href="#cb65-2205" aria-hidden="true" tabindex="-1"></a><span class="co">#dim(filter(cost_summary, check &gt; 2))[1] ... where HDI is not continuous, I guess... this doesn't happen here atm</span></span>
<span id="cb65-2206"><a href="#cb65-2206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2207"><a href="#cb65-2207" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2208"><a href="#cb65-2208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2209"><a href="#cb65-2209" aria-hidden="true" tabindex="-1"></a><span class="in">```{r sign_per_100d_plot_vid_by_aud}</span></span>
<span id="cb65-2210"><a href="#cb65-2210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2211"><a href="#cb65-2211" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-2212"><a href="#cb65-2212" aria-hidden="true" tabindex="-1"></a>  sign_per_100d_plot_vid_by_aud <span class="ot">&lt;-</span> cost_tibble <span class="sc">%&gt;%</span></span>
<span id="cb65-2213"><a href="#cb65-2213" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb65-2214"><a href="#cb65-2214" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb65-2215"><a href="#cb65-2215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb65-2216"><a href="#cb65-2216" aria-hidden="true" tabindex="-1"></a>  ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>(</span>
<span id="cb65-2217"><a href="#cb65-2217" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb65-2218"><a href="#cb65-2218" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> sign_per_100d, </span>
<span id="cb65-2219"><a href="#cb65-2219" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> theme</span>
<span id="cb65-2220"><a href="#cb65-2220" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb65-2221"><a href="#cb65-2221" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb65-2222"><a href="#cb65-2222" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> cost_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span>), </span>
<span id="cb65-2223"><a href="#cb65-2223" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> theme)) <span class="sc">+</span></span>
<span id="cb65-2224"><a href="#cb65-2224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Signups per $100: Comparing videos by audience"</span>,</span>
<span id="cb65-2225"><a href="#cb65-2225" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Density plots, means"</span>) <span class="sc">+</span></span>
<span id="cb65-2226"><a href="#cb65-2226" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">factor</span>(audience, <span class="at">levels =</span> audience_levels), <span class="at">scales =</span> <span class="st">"free_x"</span>  )</span>
<span id="cb65-2227"><a href="#cb65-2227" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-2228"><a href="#cb65-2228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2229"><a href="#cb65-2229" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb65-2230"><a href="#cb65-2230" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(filter(cost_tibble, upper_eti &lt; 100)) +</span></span>
<span id="cb65-2231"><a href="#cb65-2231" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_errorbarh(aes(xmin = lower_eti, xmax = upper_eti, y = audience)) +</span></span>
<span id="cb65-2232"><a href="#cb65-2232" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_point(aes(x = mean, y = audience)) +</span></span>
<span id="cb65-2233"><a href="#cb65-2233" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs(title = "Cost per signup ($)",</span></span>
<span id="cb65-2234"><a href="#cb65-2234" aria-hidden="true" tabindex="-1"></a><span class="co">#     x = "Estimated cost per signup (USD) with 95% ETI") +</span></span>
<span id="cb65-2235"><a href="#cb65-2235" aria-hidden="true" tabindex="-1"></a><span class="co">#   facet_wrap(~theme, scales = "free_x")</span></span>
<span id="cb65-2236"><a href="#cb65-2236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2237"><a href="#cb65-2237" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2238"><a href="#cb65-2238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2239"><a href="#cb65-2239" aria-hidden="true" tabindex="-1"></a>Above we consider the cost effectiveness of each video by audience.</span>
<span id="cb65-2240"><a href="#cb65-2240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2241"><a href="#cb65-2241" aria-hidden="true" tabindex="-1"></a>**'Factual short'**: <span class="ot">[^gwwc_gg-24]</span> This video seems to perform as good</span>
<span id="cb65-2242"><a href="#cb65-2242" aria-hidden="true" tabindex="-1"></a>or better than any other video for each of the cause audiences as well</span>
<span id="cb65-2243"><a href="#cb65-2243" aria-hidden="true" tabindex="-1"></a>as for the Lookalike audience (but see cav eat). It performs nearly as</span>
<span id="cb65-2244"><a href="#cb65-2244" aria-hidden="true" tabindex="-1"></a>good as other videos for the other audiences.</span>
<span id="cb65-2245"><a href="#cb65-2245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2246"><a href="#cb65-2246" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-24]: </span>Hard-coded, may need recoding after fixes</span>
<span id="cb65-2247"><a href="#cb65-2247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2248"><a href="#cb65-2248" aria-hidden="true" tabindex="-1"></a>**Climate video**: This seems to have performed best for the</span>
<span id="cb65-2249"><a href="#cb65-2249" aria-hidden="true" tabindex="-1"></a>Philanthropy and General audiences, although the distribution is</span>
<span id="cb65-2250"><a href="#cb65-2250" aria-hidden="true" tabindex="-1"></a>diffuse. Surprisingly, it does *not* perform best for the climate</span>
<span id="cb65-2251"><a href="#cb65-2251" aria-hidden="true" tabindex="-1"></a>audience.</span>
<span id="cb65-2252"><a href="#cb65-2252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2253"><a href="#cb65-2253" aria-hidden="true" tabindex="-1"></a>**Brand Video, Factual Long**: These seemed to have performed worst or</span>
<span id="cb65-2254"><a href="#cb65-2254" aria-hidden="true" tabindex="-1"></a>near-worst for most audiences. 'Factual long' seems to have clearly</span>
<span id="cb65-2255"><a href="#cb65-2255" aria-hidden="true" tabindex="-1"></a>performed worse than 'Factual short' version. (But see caveat below.)</span>
<span id="cb65-2256"><a href="#cb65-2256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2257"><a href="#cb65-2257" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb65-2258"><a href="#cb65-2258" aria-hidden="true" tabindex="-1"></a><span class="fu">## Caveat/todo -- Video/campaign date imbalance</span></span>
<span id="cb65-2259"><a href="#cb65-2259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2260"><a href="#cb65-2260" aria-hidden="true" tabindex="-1"></a>There is substantial imbalance in dates the administration of treatments</span>
<span id="cb65-2261"><a href="#cb65-2261" aria-hidden="true" tabindex="-1"></a>in the pooled data. E.g., the 'Factual short' video was the only one</span>
<span id="cb65-2262"><a href="#cb65-2262" aria-hidden="true" tabindex="-1"></a>shown for the 2021-12-08 trial, which may confound the above result. The</span>
<span id="cb65-2263"><a href="#cb65-2263" aria-hidden="true" tabindex="-1"></a>Brand Video was *only* shown in a single trial, where it was the only</span>
<span id="cb65-2264"><a href="#cb65-2264" aria-hidden="true" tabindex="-1"></a>video shown. The 'Factual long' video was dropped in later trials</span>
<span id="cb65-2265"><a href="#cb65-2265" aria-hidden="true" tabindex="-1"></a>(possibly after poor performance in an explicit A/B test). Again,</span>
<span id="cb65-2266"><a href="#cb65-2266" aria-hidden="true" tabindex="-1"></a>confounds are certainly possible. We may want to either remove trials</span>
<span id="cb65-2267"><a href="#cb65-2267" aria-hidden="true" tabindex="-1"></a>from dates that only ran a single trial (at a first pass), or include</span>
<span id="cb65-2268"><a href="#cb65-2268" aria-hidden="true" tabindex="-1"></a>start date/campaign into our modeling.</span>
<span id="cb65-2269"><a href="#cb65-2269" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb65-2270"><a href="#cb65-2270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2271"><a href="#cb65-2271" aria-hidden="true" tabindex="-1"></a><span class="in">```{r sign_per_100d_plot_aud_by_vid}</span></span>
<span id="cb65-2272"><a href="#cb65-2272" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb65-2273"><a href="#cb65-2273" aria-hidden="true" tabindex="-1"></a>  sign_per_100d_plot_aud_by_vid <span class="ot">&lt;-</span> cost_tibble <span class="sc">%&gt;%</span></span>
<span id="cb65-2274"><a href="#cb65-2274" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span> <span class="sc">&amp;</span> audience<span class="sc">!=</span><span class="st">"General audience"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb65-2275"><a href="#cb65-2275" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb65-2276"><a href="#cb65-2276" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb65-2277"><a href="#cb65-2277" aria-hidden="true" tabindex="-1"></a>  ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>(</span>
<span id="cb65-2278"><a href="#cb65-2278" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb65-2279"><a href="#cb65-2279" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> sign_per_100d, </span>
<span id="cb65-2280"><a href="#cb65-2280" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> audience</span>
<span id="cb65-2281"><a href="#cb65-2281" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb65-2282"><a href="#cb65-2282" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb65-2283"><a href="#cb65-2283" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> cost_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(audience<span class="sc">!=</span><span class="st">"Retargeting"</span> <span class="sc">&amp;</span> audience<span class="sc">!=</span><span class="st">"General audience"</span>), </span>
<span id="cb65-2284"><a href="#cb65-2284" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> mean, <span class="at">y =</span> audience)) <span class="sc">+</span></span>
<span id="cb65-2285"><a href="#cb65-2285" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Signups per $100: Comparing audiences for each video"</span>,</span>
<span id="cb65-2286"><a href="#cb65-2286" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Density plots, means"</span>) <span class="sc">+</span></span>
<span id="cb65-2287"><a href="#cb65-2287" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>theme, <span class="at">scales =</span> <span class="st">"free_x"</span>)</span>
<span id="cb65-2288"><a href="#cb65-2288" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-2289"><a href="#cb65-2289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2290"><a href="#cb65-2290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2291"><a href="#cb65-2291" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2292"><a href="#cb65-2292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2293"><a href="#cb65-2293" aria-hidden="true" tabindex="-1"></a>Flipping the previous plot, we compare the cost-effectiveness of each</span>
<span id="cb65-2294"><a href="#cb65-2294" aria-hidden="true" tabindex="-1"></a>audience for each video.<span class="ot">[^gwwc_gg-25]</span>, <span class="ot">[^gwwc_gg-26]</span></span>
<span id="cb65-2295"><a href="#cb65-2295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2296"><a href="#cb65-2296" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-25]: </span>Again hard-coding here...</span>
<span id="cb65-2297"><a href="#cb65-2297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2298"><a href="#cb65-2298" aria-hidden="true" tabindex="-1"></a><span class="ot">[^gwwc_gg-26]: </span>Note that the audience-imbalance caveat still applies. We</span>
<span id="cb65-2299"><a href="#cb65-2299" aria-hidden="true" tabindex="-1"></a>    removed the 'General Audience' here, as this was only used for the</span>
<span id="cb65-2300"><a href="#cb65-2300" aria-hidden="true" tabindex="-1"></a>    final trial, and this seems particularly non-comparable.</span>
<span id="cb65-2301"><a href="#cb65-2301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2302"><a href="#cb65-2302" aria-hidden="true" tabindex="-1"></a>The Lookalike audiences are relatively cost-effective for most videos,</span>
<span id="cb65-2303"><a href="#cb65-2303" aria-hidden="true" tabindex="-1"></a>although the Philanthropy audience seems to do better per dollar for the</span>
<span id="cb65-2304"><a href="#cb65-2304" aria-hidden="true" tabindex="-1"></a>Climate video.</span>
<span id="cb65-2305"><a href="#cb65-2305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2306"><a href="#cb65-2306" aria-hidden="true" tabindex="-1"></a>The cause audiences are relatively cost-effective for their 'own'</span>
<span id="cb65-2307"><a href="#cb65-2307" aria-hidden="true" tabindex="-1"></a>videos, but not overwhelmingly so. They seemed particularly</span>
<span id="cb65-2308"><a href="#cb65-2308" aria-hidden="true" tabindex="-1"></a>cost-ineffective for the Brand video.</span>
<span id="cb65-2309"><a href="#cb65-2309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2310"><a href="#cb65-2310" aria-hidden="true" tabindex="-1"></a><span class="in">````{=html}</span></span>
<span id="cb65-2311"><a href="#cb65-2311" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;!-- </span></span>
<span id="cb65-2312"><a href="#cb65-2312" aria-hidden="true" tabindex="-1"></a><span class="in">## WIP: Building a set of models from a list of inputs</span></span>
<span id="cb65-2313"><a href="#cb65-2313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2314"><a href="#cb65-2314" aria-hidden="true" tabindex="-1"></a><span class="in">NOTE 11 Aug 2022: adjusting this from another context - WIP</span></span>
<span id="cb65-2315"><a href="#cb65-2315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2316"><a href="#cb65-2316" aria-hidden="true" tabindex="-1"></a><span class="in">```{r targets, eval=FALSE}</span></span>
<span id="cb65-2317"><a href="#cb65-2317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2318"><a href="#cb65-2318" aria-hidden="true" tabindex="-1"></a><span class="in">#THE content belo </span></span>
<span id="cb65-2319"><a href="#cb65-2319" aria-hidden="true" tabindex="-1"></a><span class="in">#targets:</span></span>
<span id="cb65-2320"><a href="#cb65-2320" aria-hidden="true" tabindex="-1"></a><span class="in">bin_out &lt;- c("d_don_1k", "d_don_10pct")</span></span>
<span id="cb65-2321"><a href="#cb65-2321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2322"><a href="#cb65-2322" aria-hidden="true" tabindex="-1"></a><span class="in">num_out &lt;- c('donation_usd', 'don_av2_yr', 'l_don_usd', "l_don_av_2yr", "don_share_inc_imp_bc5k", "donation_plan_usd")</span></span>
<span id="cb65-2323"><a href="#cb65-2323" aria-hidden="true" tabindex="-1"></a><span class="in">targets &lt;- c(bin_out, num_out)</span></span>
<span id="cb65-2324"><a href="#cb65-2324" aria-hidden="true" tabindex="-1"></a><span class="in">targets_short &lt;- c("don_av2_yr", "don_share_inc_imp_bc5k", "d_don_1k")</span></span>
<span id="cb65-2325"><a href="#cb65-2325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2326"><a href="#cb65-2326" aria-hidden="true" tabindex="-1"></a><span class="in">#Note -- don_av2_yr is the right one for qpoisson as it already expresses things in exponents. l_don_av2_yr was the one to use in the loglinear model, which we are not emphasizing</span></span>
<span id="cb65-2327"><a href="#cb65-2327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2328"><a href="#cb65-2328" aria-hidden="true" tabindex="-1"></a><span class="in">targets_short_names &lt;- c("Log (Avg don +1)", "Don/Income", "Donated 1k+")</span></span>
<span id="cb65-2329"><a href="#cb65-2329" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2330"><a href="#cb65-2330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2331"><a href="#cb65-2331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2332"><a href="#cb65-2332" aria-hidden="true" tabindex="-1"></a><span class="in">```{r impute_norm_features, warning=FALSE}</span></span>
<span id="cb65-2333"><a href="#cb65-2333" aria-hidden="true" tabindex="-1"></a><span class="in">#imputing and normalization</span></span>
<span id="cb65-2334"><a href="#cb65-2334" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2335"><a href="#cb65-2335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2336"><a href="#cb65-2336" aria-hidden="true" tabindex="-1"></a><span class="in">```{r key_labels, eval=FALSE}</span></span>
<span id="cb65-2337"><a href="#cb65-2337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2338"><a href="#cb65-2338" aria-hidden="true" tabindex="-1"></a><span class="in">#labeling for model output</span></span>
<span id="cb65-2339"><a href="#cb65-2339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2340"><a href="#cb65-2340" aria-hidden="true" tabindex="-1"></a><span class="in">key_eas_all_labels &lt;- c( #note these are converted to a list with as.list before assigning them</span></span>
<span id="cb65-2341"><a href="#cb65-2341" aria-hidden="true" tabindex="-1"></a><span class="in">    donation_usd = "Donation (USD)",</span></span>
<span id="cb65-2342"><a href="#cb65-2342" aria-hidden="true" tabindex="-1"></a><span class="in">    l_don_usd = "Log Don. (USD)",</span></span>
<span id="cb65-2343"><a href="#cb65-2343" aria-hidden="true" tabindex="-1"></a><span class="in">    l_don_av_2yr = "Log Don. 'avg.'",</span></span>
<span id="cb65-2344"><a href="#cb65-2344" aria-hidden="true" tabindex="-1"></a><span class="in">    ln_age = "Log age",</span></span>
<span id="cb65-2345"><a href="#cb65-2345" aria-hidden="true" tabindex="-1"></a><span class="in">    don_av2_yr = "Don. 'avg'",</span></span>
<span id="cb65-2346"><a href="#cb65-2346" aria-hidden="true" tabindex="-1"></a><span class="in">    donation_plan_usd = "Don. plan (USD)")</span></span>
<span id="cb65-2347"><a href="#cb65-2347" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2348"><a href="#cb65-2348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2349"><a href="#cb65-2349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2350"><a href="#cb65-2350" aria-hidden="true" tabindex="-1"></a><span class="in">```{r features, eval = FALSE}</span></span>
<span id="cb65-2351"><a href="#cb65-2351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2352"><a href="#cb65-2352" aria-hidden="true" tabindex="-1"></a><span class="in">feat_list = list(</span></span>
<span id="cb65-2353"><a href="#cb65-2353" aria-hidden="true" tabindex="-1"></a><span class="in">  c(key_demog, feat_income_employ, controls),</span></span>
<span id="cb65-2354"><a href="#cb65-2354" aria-hidden="true" tabindex="-1"></a><span class="in">  c(key_demog, feat_income_employ, controls, robust_controls),</span></span>
<span id="cb65-2355"><a href="#cb65-2355" aria-hidden="true" tabindex="-1"></a><span class="in">  c(key_demog, feat_income_employ, feat_gwwc_etg, controls) )</span></span>
<span id="cb65-2356"><a href="#cb65-2356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2357"><a href="#cb65-2357" aria-hidden="true" tabindex="-1"></a><span class="in">feat_names = c("Baseline", "Robust controls",  "Base + EtG &amp; GWWC")</span></span>
<span id="cb65-2358"><a href="#cb65-2358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2359"><a href="#cb65-2359" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2360"><a href="#cb65-2360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2361"><a href="#cb65-2361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2362"><a href="#cb65-2362" aria-hidden="true" tabindex="-1"></a><span class="in">```{r vars_list, eval = FALSE}</span></span>
<span id="cb65-2363"><a href="#cb65-2363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2364"><a href="#cb65-2364" aria-hidden="true" tabindex="-1"></a><span class="in">rhs_vars_list &lt;- rep(feat_list, length(targets_short))</span></span>
<span id="cb65-2365"><a href="#cb65-2365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2366"><a href="#cb65-2366" aria-hidden="true" tabindex="-1"></a><span class="in">outcome_vars_list &lt;- rep(as.list(targets_short), each=length(feat_list))</span></span>
<span id="cb65-2367"><a href="#cb65-2367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2368"><a href="#cb65-2368" aria-hidden="true" tabindex="-1"></a><span class="in">dfs &lt;- rep(list(eas_all_s_rl_imp), length(outcome_vars_list))</span></span>
<span id="cb65-2369"><a href="#cb65-2369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2370"><a href="#cb65-2370" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2371"><a href="#cb65-2371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2372"><a href="#cb65-2372" aria-hidden="true" tabindex="-1"></a><span class="in">```{r model-prep-linear, warning=FALSE, eval = FALSE}</span></span>
<span id="cb65-2373"><a href="#cb65-2373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2374"><a href="#cb65-2374" aria-hidden="true" tabindex="-1"></a><span class="in">## Create dataframe for modeling</span></span>
<span id="cb65-2375"><a href="#cb65-2375" aria-hidden="true" tabindex="-1"></a><span class="in">(linear_models &lt;- make_model_df(rhs_vars_list, outcome_vars_list, dfs))</span></span>
<span id="cb65-2376"><a href="#cb65-2376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2377"><a href="#cb65-2377" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2378"><a href="#cb65-2378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2379"><a href="#cb65-2379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2380"><a href="#cb65-2380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2381"><a href="#cb65-2381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2382"><a href="#cb65-2382" aria-hidden="true" tabindex="-1"></a><span class="in">```{r fit_linear_models, eval=FALSE}</span></span>
<span id="cb65-2383"><a href="#cb65-2383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2384"><a href="#cb65-2384" aria-hidden="true" tabindex="-1"></a><span class="in">linear_models &lt;- linear_models %&gt;%</span></span>
<span id="cb65-2385"><a href="#cb65-2385" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb65-2386"><a href="#cb65-2386" aria-hidden="true" tabindex="-1"></a><span class="in">    lm_fit = fit_models(</span></span>
<span id="cb65-2387"><a href="#cb65-2387" aria-hidden="true" tabindex="-1"></a><span class="in">      linear_models, "formulas", "dfs", fun = fit_lm)</span></span>
<span id="cb65-2388"><a href="#cb65-2388" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb65-2389"><a href="#cb65-2389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2390"><a href="#cb65-2390" aria-hidden="true" tabindex="-1"></a><span class="in"># Extract coefficients, fitted and residuals</span></span>
<span id="cb65-2391"><a href="#cb65-2391" aria-hidden="true" tabindex="-1"></a><span class="in">model_feat_names &lt;- rep(c(feat_names), times= length(targets_short))</span></span>
<span id="cb65-2392"><a href="#cb65-2392" aria-hidden="true" tabindex="-1"></a><span class="in">model_oc_names &lt;- rep(c(targets_short_names), each= length(feat_names))</span></span>
<span id="cb65-2393"><a href="#cb65-2393" aria-hidden="true" tabindex="-1"></a><span class="in">model_names &lt;- paste(model_oc_names, model_feat_names, sep = ": ")</span></span>
<span id="cb65-2394"><a href="#cb65-2394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2395"><a href="#cb65-2395" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2396"><a href="#cb65-2396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2397"><a href="#cb65-2397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2398"><a href="#cb65-2398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2399"><a href="#cb65-2399" aria-hidden="true" tabindex="-1"></a><span class="in">```{r set_base_levels}</span></span>
<span id="cb65-2400"><a href="#cb65-2400" aria-hidden="true" tabindex="-1"></a><span class="in">#set base levels before doing modeling</span></span>
<span id="cb65-2401"><a href="#cb65-2401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2402"><a href="#cb65-2402" aria-hidden="true" tabindex="-1"></a><span class="in">gg_campaign_by_ad_by_text_age_gender$age &lt;- factor( gg_campaign_by_ad_by_text_age_gender$age,</span></span>
<span id="cb65-2403"><a href="#cb65-2403" aria-hidden="true" tabindex="-1"></a><span class="in">  ordered = FALSE )</span></span>
<span id="cb65-2404"><a href="#cb65-2404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2405"><a href="#cb65-2405" aria-hidden="true" tabindex="-1"></a><span class="in">gg_campaign_by_ad_by_text_age_gender$age &lt;- relevel( gg_campaign_by_ad_by_text_age_gender$age,</span></span>
<span id="cb65-2406"><a href="#cb65-2406" aria-hidden="true" tabindex="-1"></a><span class="in">  ref="18-24")</span></span>
<span id="cb65-2407"><a href="#cb65-2407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2408"><a href="#cb65-2408" aria-hidden="true" tabindex="-1"></a><span class="in">gg_campaign_by_ad_by_text_age_gender$audience &lt;- factor( gg_campaign_by_ad_by_text_age_gender$audience,</span></span>
<span id="cb65-2409"><a href="#cb65-2409" aria-hidden="true" tabindex="-1"></a><span class="in">  ordered = FALSE )</span></span>
<span id="cb65-2410"><a href="#cb65-2410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2411"><a href="#cb65-2411" aria-hidden="true" tabindex="-1"></a><span class="in">gg_campaign_by_ad_by_text_age_gender$audience &lt;- relevel( gg_campaign_by_ad_by_text_age_gender$audience,</span></span>
<span id="cb65-2412"><a href="#cb65-2412" aria-hidden="true" tabindex="-1"></a><span class="in">  ref="Philanthropy")</span></span>
<span id="cb65-2413"><a href="#cb65-2413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2414"><a href="#cb65-2414" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2415"><a href="#cb65-2415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2416"><a href="#cb65-2416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2419"><a href="#cb65-2419" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-2420"><a href="#cb65-2420" aria-hidden="true" tabindex="-1"></a><span class="in">summarise_stuff &lt;- function(df) {</span></span>
<span id="cb65-2421"><a href="#cb65-2421" aria-hidden="true" tabindex="-1"></a><span class="in">  df %&gt;%</span></span>
<span id="cb65-2422"><a href="#cb65-2422" aria-hidden="true" tabindex="-1"></a><span class="in">     summarise(</span></span>
<span id="cb65-2423"><a href="#cb65-2423" aria-hidden="true" tabindex="-1"></a><span class="in">      amount_spent_usd = sum(amount_spent_usd),</span></span>
<span id="cb65-2424"><a href="#cb65-2424" aria-hidden="true" tabindex="-1"></a><span class="in">      reach=sum(reach),</span></span>
<span id="cb65-2425"><a href="#cb65-2425" aria-hidden="true" tabindex="-1"></a><span class="in">      link_clicks = sum(link_clicks, na.rm = TRUE),</span></span>
<span id="cb65-2426"><a href="#cb65-2426" aria-hidden="true" tabindex="-1"></a><span class="in">      results = sum(results, na.rm = TRUE),</span></span>
<span id="cb65-2427"><a href="#cb65-2427" aria-hidden="true" tabindex="-1"></a><span class="in">      cost_per_impression = amount_spent_usd/reach,</span></span>
<span id="cb65-2428"><a href="#cb65-2428" aria-hidden="true" tabindex="-1"></a><span class="in">      cost_per_click = amount_spent_usd/link_clicks,</span></span>
<span id="cb65-2429"><a href="#cb65-2429" aria-hidden="true" tabindex="-1"></a><span class="in">      results = ifelse(is.na(results), 0, results ),</span></span>
<span id="cb65-2430"><a href="#cb65-2430" aria-hidden="true" tabindex="-1"></a><span class="in">      results_per_100usd = results/(amount_spent_usd/100),</span></span>
<span id="cb65-2431"><a href="#cb65-2431" aria-hidden="true" tabindex="-1"></a><span class="in">      results_per_1k_reach = results*1000/reach)</span></span>
<span id="cb65-2432"><a href="#cb65-2432" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb65-2433"><a href="#cb65-2433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2434"><a href="#cb65-2434" aria-hidden="true" tabindex="-1"></a><span class="in">model_data_0 &lt;- gg_campaign_by_ad_by_text_age_gender %&gt;%</span></span>
<span id="cb65-2435"><a href="#cb65-2435" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(audience!="Retargeting") %&gt;%</span></span>
<span id="cb65-2436"><a href="#cb65-2436" aria-hidden="true" tabindex="-1"></a><span class="in">  ungroup() %&gt;%</span></span>
<span id="cb65-2437"><a href="#cb65-2437" aria-hidden="true" tabindex="-1"></a><span class="in">    group_by(video_theme, text_treat, audience) %&gt;% #starts,</span></span>
<span id="cb65-2438"><a href="#cb65-2438" aria-hidden="true" tabindex="-1"></a><span class="in">    #filter(reach&gt;200) %&gt;%</span></span>
<span id="cb65-2439"><a href="#cb65-2439" aria-hidden="true" tabindex="-1"></a><span class="in">    summarise_stuff() %&gt;%</span></span>
<span id="cb65-2440"><a href="#cb65-2440" aria-hidden="true" tabindex="-1"></a><span class="in">  ungroup() %&gt;%</span></span>
<span id="cb65-2441"><a href="#cb65-2441" aria-hidden="true" tabindex="-1"></a><span class="in">  as.tibble() %&gt;%</span></span>
<span id="cb65-2442"><a href="#cb65-2442" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb65-2443"><a href="#cb65-2443" aria-hidden="true" tabindex="-1"></a><span class="in">    across(c(video_theme, text_treat, audience), #starts,</span></span>
<span id="cb65-2444"><a href="#cb65-2444" aria-hidden="true" tabindex="-1"></a><span class="in">      as.factor )</span></span>
<span id="cb65-2445"><a href="#cb65-2445" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb65-2446"><a href="#cb65-2446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2447"><a href="#cb65-2447" aria-hidden="true" tabindex="-1"></a><span class="in">model_data_start &lt;- gg_campaign_by_ad_by_text_age_gender %&gt;%</span></span>
<span id="cb65-2448"><a href="#cb65-2448" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(audience!="Retargeting") %&gt;%</span></span>
<span id="cb65-2449"><a href="#cb65-2449" aria-hidden="true" tabindex="-1"></a><span class="in">  ungroup() %&gt;%</span></span>
<span id="cb65-2450"><a href="#cb65-2450" aria-hidden="true" tabindex="-1"></a><span class="in">    group_by(video_theme, text_treat, audience, starts) %&gt;% #starts,</span></span>
<span id="cb65-2451"><a href="#cb65-2451" aria-hidden="true" tabindex="-1"></a><span class="in">    #filter(reach&gt;200) %&gt;%</span></span>
<span id="cb65-2452"><a href="#cb65-2452" aria-hidden="true" tabindex="-1"></a><span class="in">        summarise_stuff() %&gt;%</span></span>
<span id="cb65-2453"><a href="#cb65-2453" aria-hidden="true" tabindex="-1"></a><span class="in">  ungroup() %&gt;%</span></span>
<span id="cb65-2454"><a href="#cb65-2454" aria-hidden="true" tabindex="-1"></a><span class="in">  as.tibble() %&gt;%</span></span>
<span id="cb65-2455"><a href="#cb65-2455" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb65-2456"><a href="#cb65-2456" aria-hidden="true" tabindex="-1"></a><span class="in">    across(c(video_theme, text_treat, audience, starts), #starts,</span></span>
<span id="cb65-2457"><a href="#cb65-2457" aria-hidden="true" tabindex="-1"></a><span class="in">      as.factor )</span></span>
<span id="cb65-2458"><a href="#cb65-2458" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb65-2459"><a href="#cb65-2459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2460"><a href="#cb65-2460" aria-hidden="true" tabindex="-1"></a><span class="in">model_data &lt;- gg_campaign_by_ad_by_text_age_gender %&gt;%</span></span>
<span id="cb65-2461"><a href="#cb65-2461" aria-hidden="true" tabindex="-1"></a><span class="in">    filter(audience!="Retargeting") %&gt;%</span></span>
<span id="cb65-2462"><a href="#cb65-2462" aria-hidden="true" tabindex="-1"></a><span class="in">  ungroup() %&gt;%</span></span>
<span id="cb65-2463"><a href="#cb65-2463" aria-hidden="true" tabindex="-1"></a><span class="in">    group_by(video_theme, text_treat, audience, gender, agetrin) %&gt;% #starts,</span></span>
<span id="cb65-2464"><a href="#cb65-2464" aria-hidden="true" tabindex="-1"></a><span class="in">    #filter(reach&gt;200) %&gt;%</span></span>
<span id="cb65-2465"><a href="#cb65-2465" aria-hidden="true" tabindex="-1"></a><span class="in">        summarise_stuff() %&gt;%</span></span>
<span id="cb65-2466"><a href="#cb65-2466" aria-hidden="true" tabindex="-1"></a><span class="in">  ungroup() %&gt;%</span></span>
<span id="cb65-2467"><a href="#cb65-2467" aria-hidden="true" tabindex="-1"></a><span class="in">  as.tibble() %&gt;%</span></span>
<span id="cb65-2468"><a href="#cb65-2468" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb65-2469"><a href="#cb65-2469" aria-hidden="true" tabindex="-1"></a><span class="in">    across(c(video_theme, text_treat, audience, gender, agetrin), #starts,</span></span>
<span id="cb65-2470"><a href="#cb65-2470" aria-hidden="true" tabindex="-1"></a><span class="in">      as.factor )</span></span>
<span id="cb65-2471"><a href="#cb65-2471" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb65-2472"><a href="#cb65-2472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2473"><a href="#cb65-2473" aria-hidden="true" tabindex="-1"></a><span class="in">Rp100usd_vid_text_audience0 &lt;- model_data_0 %&gt;%</span></span>
<span id="cb65-2474"><a href="#cb65-2474" aria-hidden="true" tabindex="-1"></a><span class="in">  lm(</span></span>
<span id="cb65-2475"><a href="#cb65-2475" aria-hidden="true" tabindex="-1"></a><span class="in">    results_per_100usd ~ 1 + video_theme + text_treat + audience,</span></span>
<span id="cb65-2476"><a href="#cb65-2476" aria-hidden="true" tabindex="-1"></a><span class="in">    data = .,</span></span>
<span id="cb65-2477"><a href="#cb65-2477" aria-hidden="true" tabindex="-1"></a><span class="in">    weights = reach)</span></span>
<span id="cb65-2478"><a href="#cb65-2478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2479"><a href="#cb65-2479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2480"><a href="#cb65-2480" aria-hidden="true" tabindex="-1"></a><span class="in">Rp100usd_vid_text_audience_starts &lt;- model_data_start %&gt;%</span></span>
<span id="cb65-2481"><a href="#cb65-2481" aria-hidden="true" tabindex="-1"></a><span class="in">  lm(</span></span>
<span id="cb65-2482"><a href="#cb65-2482" aria-hidden="true" tabindex="-1"></a><span class="in">    results_per_100usd ~ 1 + starts + video_theme + text_treat + audience,</span></span>
<span id="cb65-2483"><a href="#cb65-2483" aria-hidden="true" tabindex="-1"></a><span class="in">    data = .,</span></span>
<span id="cb65-2484"><a href="#cb65-2484" aria-hidden="true" tabindex="-1"></a><span class="in">    weights = reach)</span></span>
<span id="cb65-2485"><a href="#cb65-2485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2486"><a href="#cb65-2486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2487"><a href="#cb65-2487" aria-hidden="true" tabindex="-1"></a><span class="in">Rp100usd_vid_text_audience_demo &lt;- model_data %&gt;%</span></span>
<span id="cb65-2488"><a href="#cb65-2488" aria-hidden="true" tabindex="-1"></a><span class="in">  lm(</span></span>
<span id="cb65-2489"><a href="#cb65-2489" aria-hidden="true" tabindex="-1"></a><span class="in">    results_per_100usd ~ 1 + video_theme + text_treat + audience + gender + agetrin,</span></span>
<span id="cb65-2490"><a href="#cb65-2490" aria-hidden="true" tabindex="-1"></a><span class="in">    data = .,</span></span>
<span id="cb65-2491"><a href="#cb65-2491" aria-hidden="true" tabindex="-1"></a><span class="in">    weights = reach)</span></span>
<span id="cb65-2492"><a href="#cb65-2492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2493"><a href="#cb65-2493" aria-hidden="true" tabindex="-1"></a><span class="in">#Do NOT do this: Rp100usd_vid_text_audience0$df.residual &lt;- sum(model_data_0$reach) - length(coef(Rp100usd_vid_text_audience0))</span></span>
<span id="cb65-2494"><a href="#cb65-2494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2495"><a href="#cb65-2495" aria-hidden="true" tabindex="-1"></a><span class="in">huxtable::huxreg(Rp100usd_vid_text_audience0, Rp100usd_vid_text_audience_starts, Rp100usd_vid_text_audience_demo)</span></span>
<span id="cb65-2496"><a href="#cb65-2496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2497"><a href="#cb65-2497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2498"><a href="#cb65-2498" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2499"><a href="#cb65-2499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2500"><a href="#cb65-2500" aria-hidden="true" tabindex="-1"></a><span class="in"> Note: the N (and R-sq?) values above are incorrect; these are the number of *groups* not the number of baseline observations.</span></span>
<span id="cb65-2501"><a href="#cb65-2501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2502"><a href="#cb65-2502" aria-hidden="true" tabindex="-1"></a><span class="in">[^gwwc_gg-3]</span></span>
<span id="cb65-2503"><a href="#cb65-2503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2504"><a href="#cb65-2504" aria-hidden="true" tabindex="-1"></a><span class="in">[^gwwc_gg-3]: Followup of interest: What do the 'diminishing returns to scale' look like here? How to measure? Can we track results over time and see if the cost increased? (But targeting may also improve over time.) Roughly compare 'small' and 'large' campaigns? ...</span></span>
<span id="cb65-2505"><a href="#cb65-2505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2506"><a href="#cb65-2506" aria-hidden="true" tabindex="-1"></a><span class="in">--&gt;</span></span>
<span id="cb65-2507"><a href="#cb65-2507" aria-hidden="true" tabindex="-1"></a><span class="in">````</span></span>
<span id="cb65-2508"><a href="#cb65-2508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2509"><a href="#cb65-2509" aria-hidden="true" tabindex="-1"></a><span class="in">````{=html}</span></span>
<span id="cb65-2510"><a href="#cb65-2510" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;!-- </span></span>
<span id="cb65-2511"><a href="#cb65-2511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2512"><a href="#cb65-2512" aria-hidden="true" tabindex="-1"></a><span class="in">  ## Asking and answering questions {#q_and_a}</span></span>
<span id="cb65-2513"><a href="#cb65-2513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2514"><a href="#cb65-2514" aria-hidden="true" tabindex="-1"></a><span class="in">::: {.callout-note collapse="true"}</span></span>
<span id="cb65-2515"><a href="#cb65-2515" aria-hidden="true" tabindex="-1"></a><span class="in">## This dynamic document format allows us to ask and answer a series of questions</span></span>
<span id="cb65-2516"><a href="#cb65-2516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2517"><a href="#cb65-2517" aria-hidden="true" tabindex="-1"></a><span class="in">-   Using the data, with all coding steps shown</span></span>
<span id="cb65-2518"><a href="#cb65-2518" aria-hidden="true" tabindex="-1"></a><span class="in">-   Ideally, following a pre-defined (pre-analysis) plan</span></span>
<span id="cb65-2519"><a href="#cb65-2519" aria-hidden="true" tabindex="-1"></a><span class="in">-   Using the data and statistics directly and automatically in the narrative</span></span>
<span id="cb65-2520"><a href="#cb65-2520" aria-hidden="true" tabindex="-1"></a><span class="in">    -   And everything will be automatically adjusted if we bring in new data or adjust/correct features</span></span>
<span id="cb65-2521"><a href="#cb65-2521" aria-hidden="true" tabindex="-1"></a><span class="in">:::</span></span>
<span id="cb65-2522"><a href="#cb65-2522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2523"><a href="#cb65-2523" aria-hidden="true" tabindex="-1"></a><span class="in">### In this context, how much does it cost to get a 'Result", i.e., to get a person to give their email to receive a Giving Guide? {.unnumbered}</span></span>
<span id="cb65-2524"><a href="#cb65-2524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2525"><a href="#cb65-2525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2526"><a href="#cb65-2526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2527"><a href="#cb65-2527" aria-hidden="true" tabindex="-1"></a><span class="in">### Which pre-defined audience yields a Result at the lowest cost? How does this cost vary by audience? {.unnumbered}</span></span>
<span id="cb65-2528"><a href="#cb65-2528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2529"><a href="#cb65-2529" aria-hidden="true" tabindex="-1"></a><span class="in">- Refer to models/estimates above</span></span>
<span id="cb65-2530"><a href="#cb65-2530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2531"><a href="#cb65-2531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2534"><a href="#cb65-2534" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb65-2535"><a href="#cb65-2535" aria-hidden="true" tabindex="-1"></a><span class="in">limits &lt;- aes(ymax = mean_dv + (se_dv), ymin = mean_dv - (se_dv))</span></span>
<span id="cb65-2536"><a href="#cb65-2536" aria-hidden="true" tabindex="-1"></a><span class="in">dodge &lt;- position_dodge(width = 0.9)</span></span>
<span id="cb65-2537"><a href="#cb65-2537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2538"><a href="#cb65-2538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2539"><a href="#cb65-2539" aria-hidden="true" tabindex="-1"></a><span class="in">gg_gg_options &lt;- list(geom_bar(stat = 'identity', position=dodge),</span></span>
<span id="cb65-2540"><a href="#cb65-2540" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_errorbar(limits, position=dodge,  width=0.25, color="red"),</span></span>
<span id="cb65-2541"><a href="#cb65-2541" aria-hidden="true" tabindex="-1"></a><span class="in">  jtools::theme_apa(),</span></span>
<span id="cb65-2542"><a href="#cb65-2542" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(legend.position="none"),</span></span>
<span id="cb65-2543"><a href="#cb65-2543" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_text(aes(label = paste("$", mean_dv %&gt;% round(.,2)), y=5), position = position_dodge(.9), size=4, color="white"),</span></span>
<span id="cb65-2544"><a href="#cb65-2544" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(text=element_text(size=10))</span></span>
<span id="cb65-2545"><a href="#cb65-2545" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb65-2546"><a href="#cb65-2546" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb65-2547"><a href="#cb65-2547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2548"><a href="#cb65-2548" aria-hidden="true" tabindex="-1"></a><span class="in">limits &lt;- aes(ymax = mean_dv , ymin = mean_dv)</span></span>
<span id="cb65-2549"><a href="#cb65-2549" aria-hidden="true" tabindex="-1"></a><span class="in">dodge &lt;- position_dodge(width = 0.9)</span></span>
<span id="cb65-2550"><a href="#cb65-2550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2551"><a href="#cb65-2551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2552"><a href="#cb65-2552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2553"><a href="#cb65-2553" aria-hidden="true" tabindex="-1"></a><span class="in">(</span></span>
<span id="cb65-2554"><a href="#cb65-2554" aria-hidden="true" tabindex="-1"></a><span class="in">  result_by_age &lt;-  gg_campaign_by_ad_by_text_age_gender %&gt;%</span></span>
<span id="cb65-2555"><a href="#cb65-2555" aria-hidden="true" tabindex="-1"></a><span class="in">        mutate(results_per_100usd = results/(amount_spent_usd/100)) %&gt;%</span></span>
<span id="cb65-2556"><a href="#cb65-2556" aria-hidden="true" tabindex="-1"></a><span class="in">     uncount(weights = .$reach) %&gt;%</span></span>
<span id="cb65-2557"><a href="#cb65-2557" aria-hidden="true" tabindex="-1"></a><span class="in">   group_by(age) %&gt;%</span></span>
<span id="cb65-2558"><a href="#cb65-2558" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(mean_dv = mean(results_per_100usd, na.rm=TRUE)) %&gt;% </span></span>
<span id="cb65-2559"><a href="#cb65-2559" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x=age, mean_dv)) +</span></span>
<span id="cb65-2560"><a href="#cb65-2560" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_bar(stat='identity',fill="#0072B2", position=dodge) +</span></span>
<span id="cb65-2561"><a href="#cb65-2561" aria-hidden="true" tabindex="-1"></a><span class="in">  ylab('Results/$ spent') +</span></span>
<span id="cb65-2562"><a href="#cb65-2562" aria-hidden="true" tabindex="-1"></a><span class="in">  xlab('Video') +</span></span>
<span id="cb65-2563"><a href="#cb65-2563" aria-hidden="true" tabindex="-1"></a><span class="in">  ggtitle('Results/$ spent by Age') </span></span>
<span id="cb65-2564"><a href="#cb65-2564" aria-hidden="true" tabindex="-1"></a><span class="in">#+  scale_x_discrete(labels=vid_types)</span></span>
<span id="cb65-2565"><a href="#cb65-2565" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb65-2566"><a href="#cb65-2566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2567"><a href="#cb65-2567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2568"><a href="#cb65-2568" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2569"><a href="#cb65-2569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2570"><a href="#cb65-2570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2571"><a href="#cb65-2571" aria-hidden="true" tabindex="-1"></a><span class="in">### Which pre-defined audience yields the highest 'rate of Result'? How does this vary by audience? {.unnumbered}</span></span>
<span id="cb65-2572"><a href="#cb65-2572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2573"><a href="#cb65-2573" aria-hidden="true" tabindex="-1"></a><span class="in">Note, this is not the same as the previous question because some audiences are more *costly* to target on Facebook.</span></span>
<span id="cb65-2574"><a href="#cb65-2574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2575"><a href="#cb65-2575" aria-hidden="true" tabindex="-1"></a><span class="in">-  Re-run above models for 'results per impression'</span></span>
<span id="cb65-2576"><a href="#cb65-2576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2577"><a href="#cb65-2577" aria-hidden="true" tabindex="-1"></a><span class="in">Important caveat: this does not tell us the effect 'on a particular group', because of FB's optimization algorithms; [see discussion here](https://effective-giving-marketing.gitbook.io/untitled/methodological-discussion/splits-randomization/facebook-split-testing-etc).</span></span>
<span id="cb65-2578"><a href="#cb65-2578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2579"><a href="#cb65-2579" aria-hidden="true" tabindex="-1"></a><span class="in">Interactions/separate models for 'vary by audience'.</span></span>
<span id="cb65-2580"><a href="#cb65-2580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2581"><a href="#cb65-2581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2582"><a href="#cb65-2582" aria-hidden="true" tabindex="-1"></a><span class="in">### Which *video* yields a Result at the highest rate/lowest cost? {.unnumbered}</span></span>
<span id="cb65-2583"><a href="#cb65-2583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2584"><a href="#cb65-2584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2585"><a href="#cb65-2585" aria-hidden="true" tabindex="-1"></a><span class="in">```{r common_plot_options}</span></span>
<span id="cb65-2586"><a href="#cb65-2586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2587"><a href="#cb65-2587" aria-hidden="true" tabindex="-1"></a><span class="in">#Plot options in common</span></span>
<span id="cb65-2588"><a href="#cb65-2588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2589"><a href="#cb65-2589" aria-hidden="true" tabindex="-1"></a><span class="in">#limits &lt;- aes(ymax = mean_dv + (ci_spread), ymin = mean_dv - (ci_spread))</span></span>
<span id="cb65-2590"><a href="#cb65-2590" aria-hidden="true" tabindex="-1"></a><span class="in">dodge &lt;- position_dodge(width = 0.9)</span></span>
<span id="cb65-2591"><a href="#cb65-2591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2592"><a href="#cb65-2592" aria-hidden="true" tabindex="-1"></a><span class="in">vid_types &lt;-</span></span>
<span id="cb65-2593"><a href="#cb65-2593" aria-hidden="true" tabindex="-1"></a><span class="in">  c("factual short",</span></span>
<span id="cb65-2594"><a href="#cb65-2594" aria-hidden="true" tabindex="-1"></a><span class="in">    "animal",</span></span>
<span id="cb65-2595"><a href="#cb65-2595" aria-hidden="true" tabindex="-1"></a><span class="in">    "climate",</span></span>
<span id="cb65-2596"><a href="#cb65-2596" aria-hidden="true" tabindex="-1"></a><span class="in">    "factual long",</span></span>
<span id="cb65-2597"><a href="#cb65-2597" aria-hidden="true" tabindex="-1"></a><span class="in">    "branded",</span></span>
<span id="cb65-2598"><a href="#cb65-2598" aria-hidden="true" tabindex="-1"></a><span class="in">    "poverty")</span></span>
<span id="cb65-2599"><a href="#cb65-2599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2600"><a href="#cb65-2600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2601"><a href="#cb65-2601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2602"><a href="#cb65-2602" aria-hidden="true" tabindex="-1"></a><span class="in">grpsumgg &lt;- function(df, gvar, var, ci_ends) {</span></span>
<span id="cb65-2603"><a href="#cb65-2603" aria-hidden="true" tabindex="-1"></a><span class="in">  df %&gt;%</span></span>
<span id="cb65-2604"><a href="#cb65-2604" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by({{gvar}}) %&gt;%</span></span>
<span id="cb65-2605"><a href="#cb65-2605" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(mean_dv = mean({{var}}, na.rm=TRUE),</span></span>
<span id="cb65-2606"><a href="#cb65-2606" aria-hidden="true" tabindex="-1"></a><span class="in">            se_dv = sd({{var}}, na.rm=TRUE)/sqrt(n()),</span></span>
<span id="cb65-2607"><a href="#cb65-2607" aria-hidden="true" tabindex="-1"></a><span class="in">            ci_spread = qt(1 - (ci_ends / 2), n() - 1) * se_dv)</span></span>
<span id="cb65-2608"><a href="#cb65-2608" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb65-2609"><a href="#cb65-2609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2610"><a href="#cb65-2610" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2611"><a href="#cb65-2611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2612"><a href="#cb65-2612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2613"><a href="#cb65-2613" aria-hidden="true" tabindex="-1"></a><span class="in">```{r gwwc_vid_results_plot}</span></span>
<span id="cb65-2614"><a href="#cb65-2614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2615"><a href="#cb65-2615" aria-hidden="true" tabindex="-1"></a><span class="in">gg_video_breakdowns %&gt;%</span></span>
<span id="cb65-2616"><a href="#cb65-2616" aria-hidden="true" tabindex="-1"></a><span class="in">        mutate(results_per_100usd = results/(amount_spent_usd/100)) %&gt;%</span></span>
<span id="cb65-2617"><a href="#cb65-2617" aria-hidden="true" tabindex="-1"></a><span class="in">     uncount(weights = .$reach) %&gt;%</span></span>
<span id="cb65-2618"><a href="#cb65-2618" aria-hidden="true" tabindex="-1"></a><span class="in">   group_by(video_theme) %&gt;%</span></span>
<span id="cb65-2619"><a href="#cb65-2619" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(mean_dv = mean(results_per_100usd, na.rm=TRUE)) %&gt;% </span></span>
<span id="cb65-2620"><a href="#cb65-2620" aria-hidden="true" tabindex="-1"></a><span class="in">  #grpsumgg(video_theme, results_per_100usd, 0.1) %&gt;%</span></span>
<span id="cb65-2621"><a href="#cb65-2621" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x=video_theme, mean_dv)) +</span></span>
<span id="cb65-2622"><a href="#cb65-2622" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_bar(stat='identity',fill="#0072B2", position=dodge) +</span></span>
<span id="cb65-2623"><a href="#cb65-2623" aria-hidden="true" tabindex="-1"></a><span class="in">  #gg_gg_options +</span></span>
<span id="cb65-2624"><a href="#cb65-2624" aria-hidden="true" tabindex="-1"></a><span class="in">  ylab('Results/$ spent') +</span></span>
<span id="cb65-2625"><a href="#cb65-2625" aria-hidden="true" tabindex="-1"></a><span class="in">  xlab('Video') +</span></span>
<span id="cb65-2626"><a href="#cb65-2626" aria-hidden="true" tabindex="-1"></a><span class="in">  #ggtitle('Results/$ spent by Video, 90% CIs') +</span></span>
<span id="cb65-2627"><a href="#cb65-2627" aria-hidden="true" tabindex="-1"></a><span class="in">  ggtitle('Results/$ spent by Video') +</span></span>
<span id="cb65-2628"><a href="#cb65-2628" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_discrete(labels=vid_types)</span></span>
<span id="cb65-2629"><a href="#cb65-2629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2630"><a href="#cb65-2630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2631"><a href="#cb65-2631" aria-hidden="true" tabindex="-1"></a><span class="in"># gwwc_vid_results %&gt;%</span></span>
<span id="cb65-2632"><a href="#cb65-2632" aria-hidden="true" tabindex="-1"></a><span class="in">#   grpsumgg(media, DV_costadj, 0.1) %&gt;%</span></span>
<span id="cb65-2633"><a href="#cb65-2633" aria-hidden="true" tabindex="-1"></a><span class="in">#   ggplot(aes(x=media, y=mean_dv)) +</span></span>
<span id="cb65-2634"><a href="#cb65-2634" aria-hidden="true" tabindex="-1"></a><span class="in">#   geom_bar(stat='identity',fill="#0072B2", position=dodge) +</span></span>
<span id="cb65-2635"><a href="#cb65-2635" aria-hidden="true" tabindex="-1"></a><span class="in">#   gg_gg_options +</span></span>
<span id="cb65-2636"><a href="#cb65-2636" aria-hidden="true" tabindex="-1"></a><span class="in">#   ylab('Results/$ spent') +</span></span>
<span id="cb65-2637"><a href="#cb65-2637" aria-hidden="true" tabindex="-1"></a><span class="in">#   xlab('Video') +</span></span>
<span id="cb65-2638"><a href="#cb65-2638" aria-hidden="true" tabindex="-1"></a><span class="in">#   ggtitle('Results/$ spent by Video, 90% CIs') +</span></span>
<span id="cb65-2639"><a href="#cb65-2639" aria-hidden="true" tabindex="-1"></a><span class="in">#   scale_y_continuous(limits = c(0,.2),  breaks=seq(0,.2, by=.05)) +</span></span>
<span id="cb65-2640"><a href="#cb65-2640" aria-hidden="true" tabindex="-1"></a><span class="in">#   scale_x_discrete(labels=vid_types)</span></span>
<span id="cb65-2641"><a href="#cb65-2641" aria-hidden="true" tabindex="-1"></a><span class="in"># </span></span>
<span id="cb65-2642"><a href="#cb65-2642" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb65-2643"><a href="#cb65-2643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2644"><a href="#cb65-2644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2645"><a href="#cb65-2645" aria-hidden="true" tabindex="-1"></a><span class="in">- Refer to models/estimates above, coefficient on 'video'</span></span>
<span id="cb65-2646"><a href="#cb65-2646" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2647"><a href="#cb65-2647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2648"><a href="#cb65-2648" aria-hidden="true" tabindex="-1"></a><span class="in">[^gwwc_gg-4]</span></span>
<span id="cb65-2649"><a href="#cb65-2649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2650"><a href="#cb65-2650" aria-hidden="true" tabindex="-1"></a><span class="in">[^gwwc_gg-4]: Check: is this the same as 'which yields the highest rate of results, or is there a cost difference?'</span></span>
<span id="cb65-2651"><a href="#cb65-2651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2652"><a href="#cb65-2652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2653"><a href="#cb65-2653" aria-hidden="true" tabindex="-1"></a><span class="in">#### How does the 'best video' vary by audience? {.unnumbered}</span></span>
<span id="cb65-2654"><a href="#cb65-2654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2655"><a href="#cb65-2655" aria-hidden="true" tabindex="-1"></a><span class="in">- Include interactions in above model</span></span>
<span id="cb65-2656"><a href="#cb65-2656" aria-hidden="true" tabindex="-1"></a><span class="in">- Run model separately for each group (or allowing everything to interact) for robustness</span></span>
<span id="cb65-2657"><a href="#cb65-2657" aria-hidden="true" tabindex="-1"></a><span class="in">- Also consider 'what did FB serve to each group', assuming it is optimizing.</span></span>
<span id="cb65-2658"><a href="#cb65-2658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2659"><a href="#cb65-2659" aria-hidden="true" tabindex="-1"></a><span class="in">#### Aggregating: Which *category* of videos yields a result at the highest rate/lowest cost? ("Facts", "Cause focus", or "Arguments, rich content") {.unnumbered}</span></span>
<span id="cb65-2660"><a href="#cb65-2660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2661"><a href="#cb65-2661" aria-hidden="true" tabindex="-1"></a><span class="in">- Above, pooling videos of similar type. (Random effects models?)</span></span>
<span id="cb65-2662"><a href="#cb65-2662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2663"><a href="#cb65-2663" aria-hidden="true" tabindex="-1"></a><span class="in">### Which *message* yields a Result at the highest rate/lowest cost? {.unnumbered}</span></span>
<span id="cb65-2664"><a href="#cb65-2664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2665"><a href="#cb65-2665" aria-hidden="true" tabindex="-1"></a><span class="in">[^gwwc_gg-5]</span></span>
<span id="cb65-2666"><a href="#cb65-2666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2667"><a href="#cb65-2667" aria-hidden="true" tabindex="-1"></a><span class="in">[^gwwc_gg-5]: Check: is this the same as 'which yields the highest rate of results, or is there a cost difference?'</span></span>
<span id="cb65-2668"><a href="#cb65-2668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2669"><a href="#cb65-2669" aria-hidden="true" tabindex="-1"></a><span class="in">**Sub-questions**</span></span>
<span id="cb65-2670"><a href="#cb65-2670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2671"><a href="#cb65-2671" aria-hidden="true" tabindex="-1"></a><span class="in">#### How does the 'best message' vary by audience? {.unnumbered}</span></span>
<span id="cb65-2672"><a href="#cb65-2672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2673"><a href="#cb65-2673" aria-hidden="true" tabindex="-1"></a><span class="in">::: {.callout-note collapse="true"}</span></span>
<span id="cb65-2674"><a href="#cb65-2674" aria-hidden="true" tabindex="-1"></a><span class="in">## Other questions (less interest or less feasible)</span></span>
<span id="cb65-2675"><a href="#cb65-2675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2676"><a href="#cb65-2676" aria-hidden="true" tabindex="-1"></a><span class="in">-   Do the message treatments 'interact' with the video treatments (i.e., are their synergies and better pairings)?</span></span>
<span id="cb65-2677"><a href="#cb65-2677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2678"><a href="#cb65-2678" aria-hidden="true" tabindex="-1"></a><span class="in">-   Do some videos lead to higher click rates?</span></span>
<span id="cb65-2679"><a href="#cb65-2679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2680"><a href="#cb65-2680" aria-hidden="true" tabindex="-1"></a><span class="in">-   Do some videos lead to higher watch rates?</span></span>
<span id="cb65-2681"><a href="#cb65-2681" aria-hidden="true" tabindex="-1"></a><span class="in">:::</span></span>
<span id="cb65-2682"><a href="#cb65-2682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-2683"><a href="#cb65-2683" aria-hidden="true" tabindex="-1"></a><span class="in">--&gt;</span></span>
<span id="cb65-2684"><a href="#cb65-2684" aria-hidden="true" tabindex="-1"></a><span class="in">````</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>